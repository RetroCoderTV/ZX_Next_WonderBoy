# file opened: src/main.asm
   1  0000                  OPT --syntax=abfw     ; recommended sub-syntax of current sjasmplus
   2  0000                  ; "a" - multi-arguments for instructions require double-comma, i.e. `push hl,,de,,bc`
   3  0000                  ;     - this helps to avoid common pitfalls like `sub a,a` becoming 2x `sub a` in default syntax
   4  0000                  ;     - making it single "sub a from a" and enabling non-Zilog syntax `sub a,...`
   5  0000                  ; "b" - whole expression parentheses are legal for memory access only
   6  0000                  ;     - things like "ld b,(variable)" will become errors, as there's only ld b,immediate
   7  0000                  ;     - for regular expression parentheses you can disambiguate `ld b,+(1+2+3)` by unary +
   8  0000                  ; "f" - warn about fake instructions of sjasmplus (if used by accident)
   9  0000                  ;     - to use them intentionally, use comment to suppress warning: `ld hl,de ; fake`
  10  0000                  ;     - one extra warning from this class is Z80N extension `mul`, requiring explicit argument `mul de` or `mul d,e`
  11  0000                  ; "w" - report warnings as errors
  12  0000
  13  0000                  org 0x8000
  14  8000
  15  8000                  DEVICE ZXSPECTRUMNEXT
  16  8000              	CSPECTMAP main.map
  17  8000
  18  8000
  19  8000              start:
  20  8000              	; di
  21  8000 31 FE 7F     	ld sp,0x7FFE
  22  8003 ED 91 07 03  	nextreg $7,3 ;set Mhz mode (3=28mhz)
  23  8007 ED 91 15 0B  	nextreg $15,%00001011 ;sprites/layers system register
  24  800B CD 27 87     	call game_init
  25  800E C3 11 80     	jp main_loop
  26  8011
  27  8011              main_loop:
  28  8011 F3           	di
  29  8012 CD 40 87     	call game_update
  30  8015 CD 5F 87     	call game_draw
  31  8018 FB           	ei
  32  8019 C3 11 80     	jp main_loop
  33  801C
  34  801C
  35  801C
  36  801C
  37  801C              STACK_SIZE equ 20
  38  801C 00 00 00...  stack_bottom ds STACK_SIZE, 0
  39  8030 00           stack_top db 0
  40  8031
  41  8031              	include 'retrotools\constants.asm'
# file opened: src/retrotools/constants.asm
   1+ 8031              FALSE equ 0
   2+ 8031              TRUE equ 1
   3+ 8031
   4+ 8031              DEAD equ 0
   5+ 8031              ALIVE equ 1
   6+ 8031
   7+ 8031              NOT_VISIBLE equ 0
   8+ 8031              VISIBLE equ 1
   9+ 8031
  10+ 8031              NOT_ENABLED equ 0
  11+ 8031              ENABLED equ 1
  12+ 8031
  13+ 8031
  14+ 8031              ;DIRECTIONS:
  15+ 8031              LEFT equ 0
  16+ 8031              RIGHT equ 1
  17+ 8031              UP equ 2
  18+ 8031              DOWN equ 3
  19+ 8031
  20+ 8031
  21+ 8031              ;48k Screen
  22+ 8031              SCREEN_WIDTH_CELLS equ 32
  23+ 8031              SCREEN_HEIGHT_CELLS equ 24
  24+ 8031
  25+ 8031
  26+ 8031
  27+ 8031              ;Next Screen
  28+ 8031              GUTTER equ 32
  29+ 8031
  30+ 8031
  31+ 8031
  32+ 8031
  33+ 8031              END_OF_ARRAY equ 255
  34+ 8031
  35+ 8031
  36+ 8031
  37+ 8031
  38+ 8031
  39+ 8031
  40+ 8031
  41+ 8031
  42+ 8031
  43+ 8031
# file closed: src/retrotools/constants.asm
  42  8031              	include 'retrotools\tools.asm'
# file opened: src/retrotools/tools.asm
   1+ 8031              ;MACROS
   2+ 8031              	MACRO BREAKPOINT
   3+ 8031 ~            		DW $01DD
   4+ 8031              	ENDM
   5+ 8031
   6+ 8031              	MACRO CLIPTILES x1,y1,x2,y2
   7+ 8031 ~            		ld a,x1
   8+ 8031 ~            		nextreg $1b,a
   9+ 8031 ~            		ld a,y1
  10+ 8031 ~            		nextreg $1b,a
  11+ 8031 ~            		ld a,x2
  12+ 8031 ~            		nextreg $1b,a
  13+ 8031 ~            		ld a,y2
  14+ 8031 ~            		nextreg $1b,a
  15+ 8031 ~
  16+ 8031              	ENDM
  17+ 8031
  18+ 8031              	MACRO CLIP_LAYER2 x1,x2,y1,y2
  19+ 8031 ~            		ld a,x1
  20+ 8031 ~            		nextreg $18,a
  21+ 8031 ~            		ld a,x2
  22+ 8031 ~            		nextreg $18,a
  23+ 8031 ~            		ld a,y1
  24+ 8031 ~            		nextreg $18,a
  25+ 8031 ~            		ld a,y2
  26+ 8031 ~            		nextreg $18,a
  27+ 8031 ~
  28+ 8031              	ENDM
  29+ 8031
  30+ 8031
  31+ 8031              	MACRO SUB_HL_A
  32+ 8031 ~            	neg
  32+ 8031 ~              add hl,a
  33+ 8031              	ENDM
  34+ 8031
  35+ 8031
  36+ 8031              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  37+ 8031              ;; Wait for n clock cycles
  38+ 8031              ;; Inputs: BC=n
  39+ 8031              ;; Outputs: none
  40+ 8031              ;; Destroys: A,BC
  41+ 8031              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  42+ 8031              wait:
  43+ 8031 0B           	dec bc
  44+ 8032 78           	ld a,b
  45+ 8033 FE 00        	cp 0
  46+ 8035 C2 31 80     	jp nz, wait
  47+ 8038 C9           	ret
  48+ 8039
  49+ 8039
  50+ 8039
  51+ 8039              ;;;em00k wrote this;;;;
  52+ 8039              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  53+ 8039              ;; Wait for vertical blank
  54+ 8039              ;; Inputs: B=frames delay count
  55+ 8039              ;; Outputs:
  56+ 8039              ;; Destroys:
  57+ 8039              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  58+ 8039              WaitRasterLine:
  59+ 8039 CD 3F 80     	call RastererWait
  60+ 803C 10 FB        	djnz WaitRasterLine
  61+ 803E C9           	ret
  62+ 803F              RastererWait:
  63+ 803F C5           	push bc
  64+ 8040 1E 10        	ld e,16
  64+ 8042 3E 1F          ld a,$1f
  64+ 8044 01 3B 24       ld bc,$243b
  64+ 8047 ED 79          out (c),a
  64+ 8049 04             inc b
  65+ 804A              WaitForLinea:
  66+ 804A ED 78        	in a,(c)
  66+ 804C BB             cp e
  66+ 804D 20 FB          jr nz,WaitForLinea
  67+ 804F C1           	pop bc
  68+ 8050 C9           	ret
  69+ 8051
  70+ 8051
  71+ 8051
  72+ 8051
  73+ 8051
  74+ 8051
  75+ 8051
  76+ 8051
  77+ 8051
  78+ 8051
  79+ 8051
  80+ 8051              LAYER2_ACCESS_PORT	EQU 	$123B
  81+ 8051
  82+ 8051              		;----------------
  83+ 8051              		; Original code by Michael Ware adjustd to work with ZXB
  84+ 8051              		; Plot tile to layer 2 (needs to accept > 256 tiles)
  85+ 8051              		; in - hl = y/x tile coordinate (0-17, 0-31)
  86+ 8051              		; in - a = number of tile to display
  87+ 8051              		;----------------
  88+ 8051              PlotTile8:
  89+ 8051 ED 91 56 11  		nextreg $56,17
  90+ 8055
  91+ 8055 16 40        		ld d,64
  92+ 8057 5F           		ld e,a					; 11
  93+ 8058 ED 30        		mul de
  94+ 805A
  95+ 805A 3E C0        		ld a,%11000000 			; this points to $c000
  96+ 805C B2           		or d		 			; 8
  97+ 805D EB           		ex de,hl				; 4			; cannot avoid an ex (de now = yx)
  98+ 805E 67           		ld h,a					; 4
  99+ 805F 7B           		ld a,e
 100+ 8060 07           		rlca
 101+ 8061 07           		rlca
 102+ 8062 07           		rlca
 103+ 8063 5F           		ld e,a					; 4+4+4+4+4 = 20	; mul x,8
 104+ 8064 7A           		ld a,d
 105+ 8065 07           		rlca
 106+ 8066 07           		rlca
 107+ 8067 07           		rlca
 108+ 8068 57           		ld d,a					; 4+4+4+4+4 = 20	; mul y,8
 109+ 8069 E6 C0        		and 192
 110+ 806B F6 03        		or 3					; or 3 to keep layer on				; 8
 111+ 806D 01 3B 12     		ld bc,LAYER2_ACCESS_PORT
 112+ 8070 ED 79        		out (c),a      ; 21			; select bank
 113+ 8072
 114+ 8072 7A           		ld a,d
 115+ 8073 E6 3F        		and 63
 116+ 8075 57           		ld d,a					; clear top 2 bits of y (dest) (4+4+4 = 12)
 117+ 8076              		; T96 here
 118+ 8076 3E 08        		ld a,8					; 7
 119+ 8078              .plotTilesLoop2:
 120+ 8078 D5           		push de					; 11
 121+ 8079 ED A0        		ldi
 122+ 807B ED A0        		ldi
 123+ 807D ED A0        		ldi
 124+ 807F ED A0        		ldi
 125+ 8081 ED A0        		ldi
 126+ 8083 ED A0        		ldi
 127+ 8085 ED A0        		ldi
 128+ 8087 ED A0        		ldi					; 8 * 16 = 128
 129+ 8089
 130+ 8089 D1           		pop de					; 11
 131+ 808A 14           		inc d					; 4 add 256 for next line down
 132+ 808B 3D           		dec a					; 4
 133+ 808C 20 EA        		jr nz,.plotTilesLoop2			; 12/7
 134+ 808E
 135+ 808E ED 91 56 0E  		nextreg $56,14 ;$0e
 136+ 8092 C9           		ret
 137+ 8093
 138+ 8093
 139+ 8093
 140+ 8093
 141+ 8093
 142+ 8093
 143+ 8093              ; ;HL=mem address start yx
 144+ 8093              ; ;DE=message address
 145+ 8093              ; display_string:
 146+ 8093              ;     ld a,(de)
 147+ 8093              ;     cp 0
 148+ 8093              ;     ret z
 149+ 8093              ;     cp ' '
 150+ 8093              ;     jp nz,disp_char_next
 151+ 8093              ; 	inc a
 152+ 8093              ; disp_char_next:
 153+ 8093              ;     sub FONT_ASCII_OFFSET
 154+ 8093              ;     push de
 155+ 8093              ;     push hl
 156+ 8093              ;     call PlotTile8
 157+ 8093              ;     pop hl
 158+ 8093              ;     pop de
 159+ 8093
 160+ 8093              ;     inc de
 161+ 8093              ;     inc l
 162+ 8093              ;     jp display_string
 163+ 8093
 164+ 8093
 165+ 8093              ; display_numbers:
 166+ 8093              ;     ld c,-100
 167+ 8093              ;     call dispnums_add_offset
 168+ 8093              ;     ld c,-10
 169+ 8093              ;     call dispnums_add_offset
 170+ 8093              ;     ld c,-1
 171+ 8093              ; dispnums_add_offset:
 172+ 8093              ;     ld b,FONT_START
 173+ 8093              ; dispnums_inc:
 174+ 8093              ;     inc b
 175+ 8093              ;     add a,c
 176+ 8093              ;     jr c, dispnums_inc
 177+ 8093              ;     sub c ;actually adding (its holding minus number)
 178+ 8093              ;     push af
 179+ 8093              ;     ld a,b
 180+ 8093              ;     push hl
 181+ 8093              ;     call PlotTile8
 182+ 8093              ;     pop hl
 183+ 8093              ;     inc l
 184+ 8093              ;     pop af
 185+ 8093              ;     ret
 186+ 8093
 187+ 8093
 188+ 8093
 189+ 8093
# file closed: src/retrotools/tools.asm
  43  8093
  44  8093              	include 'player.asm'
# file opened: src/player.asm
   1+ 8093
   2+ 8093
   3+ 8093
   4+ 8093
   5+ 8093
   6+ 8093              PLAYER_SLOT equ 50
   7+ 8093
   8+ 8093              PLAYER_DEFAULT_ATTR3 equ %11000000
   9+ 8093
  10+ 8093              PLAYER_HEIGHT equ 32
  11+ 8093
  12+ 8093              SCROLL_MARKER_X equ 320/2
  13+ 8093
  14+ 8093              PLAYER_WALK_SPEED equ 1
  15+ 8093
  16+ 8093
  17+ 8093
  18+ 8093 00           player_world_x db 0 ;in cells
  19+ 8094 00           player_world_y db 0
  20+ 8095
  21+ 8095 30 00        px dw 48
  22+ 8097 00           py db 0
  23+ 8098 00           player_attr_2 db %00000000
  24+ 8099 C0           player_attr_3 db PLAYER_DEFAULT_ATTR3
  25+ 809A 20           player_attr_4 db %00100000
  26+ 809B
  27+ 809B
  28+ 809B              ;relative sprites:
  29+ 809B C1           headB_attr_3 db %11000001
  30+ 809C C2           legsA_attr_3 db %11000010
  31+ 809D C3           legsB_attr_3 db %11000011
  32+ 809E
  33+ 809E
  34+ 809E 00           player_animation_timer db 0
  35+ 809F              PLAYER_ANIMATION_DELAY equ 4
  36+ 809F
  37+ 809F 00           player_animation_throw_timer db 0
  38+ 80A0              PLAYER_ANIMATION_THROW_TIME equ 2
  39+ 80A0              PLAYER_ANIMATION_THROW_DURATION equ 30
  40+ 80A0
  41+ 80A0
  42+ 80A0              ;movement states:
  43+ 80A0              IDLE equ 0x0
  44+ 80A0              WALKING equ 0xA
  45+ 80A0              JUMPING equ 0xB
  46+ 80A0              ATTACKING equ 0xC
  47+ 80A0              CLIMBING equ 0xD
  48+ 80A0
  49+ 80A0 0B           player_animation_state db JUMPING
  50+ 80A1 0B           player_animation_state_prev db JUMPING
  51+ 80A2
  52+ 80A2 00 00        vy dw 0
  53+ 80A4
  54+ 80A4              DOWN_FORCE equ 32
  55+ 80A4              UP_FORCE equ 64
  56+ 80A4
  57+ 80A4              MAX_DOWN_SPEED equ 7
  58+ 80A4              MAX_UP_SPEED equ 5
  59+ 80A4
  60+ 80A4
  61+ 80A4
  62+ 80A4 00           player_collided_solid db FALSE
  63+ 80A5
  64+ 80A5
  65+ 80A5
  66+ 80A5 01           player_walk_direction db RIGHT
  67+ 80A6 03           player_jump_direction db DOWN
  68+ 80A7 D0           player_jump_point db 208
  69+ 80A8              PLAYER_JUMP_HEIGHT equ 15
  70+ 80A8              PLAYER_SUPERJUMP_HEIGHT equ 10
  71+ 80A8              PLAYER_JUMP_ATTR3 equ %11001001
  72+ 80A8 00           player_superjump db FALSE
  73+ 80A9 00           player_grounded db FALSE
  74+ 80AA
  75+ 80AA
  76+ 80AA              player_init:
  77+ 80AA CD AF 80         call player_init_sprites
  78+ 80AD
  79+ 80AD C9               ret
  80+ 80AE
  81+ 80AE
  82+ 80AE              draw_debug_sprite:
  83+ 80AE
  84+ 80AE C9               ret
  85+ 80AF
  86+ 80AF              player_init_sprites:
  87+ 80AF 3E 32            ld a,PLAYER_SLOT
  88+ 80B1 ED 92 34         nextreg $34,a
  89+ 80B4
  90+ 80B4                  ;Ax
  91+ 80B4                  ;xx
  92+ 80B4
  93+ 80B4                  ;attr 0
  94+ 80B4 3A 95 80         ld a,(px)
  95+ 80B7 ED 92 35         nextreg $35,a
  96+ 80BA
  97+ 80BA                  ;attr 1
  98+ 80BA 3A 97 80         ld a,(py)
  99+ 80BD ED 92 36         nextreg $36,a
 100+ 80C0
 101+ 80C0                  ;attr 2
 102+ 80C0 3A 98 80         ld a,(player_attr_2)
 103+ 80C3 47               ld b,a
 104+ 80C4 2A 95 80         ld hl,(px)
 105+ 80C7 7C               ld a,h
 106+ 80C8 B0               or b
 107+ 80C9 ED 92 37         nextreg $37,a
 108+ 80CC
 109+ 80CC                  ;attr 3
 110+ 80CC 3A 99 80         ld a,(player_attr_3)
 111+ 80CF ED 92 38         nextreg $38,a
 112+ 80D2
 113+ 80D2                  ;attr 4
 114+ 80D2 3A 9A 80         ld a,(player_attr_4)
 115+ 80D5 ED 92 39         nextreg $39,a
 116+ 80D8
 117+ 80D8                  ;relative sprites...
 118+ 80D8
 119+ 80D8                  ;r1:
 120+ 80D8                  ;AR
 121+ 80D8                  ;xx
 122+ 80D8
 123+ 80D8
 124+ 80D8 3E 33            ld a,PLAYER_SLOT+1
 125+ 80DA ED 92 34         nextreg $34,a
 126+ 80DD
 127+ 80DD                  ;a0
 128+ 80DD 3E 10            ld a,16
 129+ 80DF ED 92 35         nextreg $35,a
 130+ 80E2
 131+ 80E2                  ;a1
 132+ 80E2 3E 00            ld a,0
 133+ 80E4 ED 92 36         nextreg $36,a
 134+ 80E7
 135+ 80E7                  ;a2
 136+ 80E7 3E 01            ld a,%00000001
 137+ 80E9 ED 92 37         nextreg $37,a
 138+ 80EC
 139+ 80EC                  ;a3
 140+ 80EC 3E C1            ld a,%11000001
 141+ 80EE ED 92 38         nextreg $38,a
 142+ 80F1
 143+ 80F1                  ;a4
 144+ 80F1 3E 41            ld a,%01000001
 145+ 80F3 ED 92 39         nextreg $39,a
 146+ 80F6
 147+ 80F6                  ;r2:
 148+ 80F6                  ;Ax
 149+ 80F6                  ;Rx
 150+ 80F6 3E 34            ld a,PLAYER_SLOT+2
 151+ 80F8 ED 92 34         nextreg $34,a
 152+ 80FB
 153+ 80FB                  ;a0
 154+ 80FB 3E 00            ld a,0
 155+ 80FD ED 92 35         nextreg $35,a
 156+ 8100
 157+ 8100                  ;a1
 158+ 8100 3E 10            ld a,16
 159+ 8102 ED 92 36         nextreg $36,a
 160+ 8105
 161+ 8105                  ;a2
 162+ 8105 3E 01            ld a,%00000001
 163+ 8107 ED 92 37         nextreg $37,a
 164+ 810A
 165+ 810A                  ;a3
 166+ 810A 3A 9C 80         ld a,(legsA_attr_3)
 167+ 810D ED 92 38         nextreg $38,a
 168+ 8110
 169+ 8110                  ;a4
 170+ 8110 3E 41            ld a,%01000001
 171+ 8112 ED 92 39         nextreg $39,a
 172+ 8115
 173+ 8115                  ;r3:
 174+ 8115                  ;Ax
 175+ 8115                  ;xR
 176+ 8115
 177+ 8115 3E 35            ld a,PLAYER_SLOT+3
 178+ 8117 ED 92 34         nextreg $34,a
 179+ 811A
 180+ 811A                  ;a0
 181+ 811A 3E 10            ld a,16
 182+ 811C ED 92 35         nextreg $35,a
 183+ 811F
 184+ 811F                  ;a1
 185+ 811F 3E 10            ld a,16
 186+ 8121 ED 92 36         nextreg $36,a
 187+ 8124
 188+ 8124                  ;a2
 189+ 8124 3E 01            ld a,%00000001
 190+ 8126 ED 92 37         nextreg $37,a
 191+ 8129
 192+ 8129                  ;a3
 193+ 8129 3A 9D 80         ld a,(legsB_attr_3)
 194+ 812C ED 92 38         nextreg $38,a
 195+ 812F
 196+ 812F                  ;a4
 197+ 812F 3E 41            ld a,%01000001
 198+ 8131 ED 92 39         nextreg $39,a
 199+ 8134
 200+ 8134 C9               ret
 201+ 8135              ;
 202+ 8135
 203+ 8135
 204+ 8135              player_draw:
 205+ 8135 3E 32            ld a,PLAYER_SLOT
 206+ 8137 ED 92 34         nextreg $34,a
 207+ 813A
 208+ 813A                  ;Ax
 209+ 813A                  ;xx
 210+ 813A
 211+ 813A                  ;attr 0
 212+ 813A 3A 95 80         ld a,(px)
 213+ 813D ED 92 35         nextreg $35,a
 214+ 8140
 215+ 8140                  ;attr 1
 216+ 8140 3A 97 80         ld a,(py)
 217+ 8143 ED 92 36         nextreg $36,a
 218+ 8146
 219+ 8146                  ;attr 2
 220+ 8146 3A 98 80         ld a,(player_attr_2)
 221+ 8149 47               ld b,a
 222+ 814A 2A 95 80         ld hl,(px)
 223+ 814D 7C               ld a,h
 224+ 814E B0               or b
 225+ 814F ED 92 37         nextreg $37,a
 226+ 8152
 227+ 8152                  ;attr 3
 228+ 8152 3A 99 80         ld a,(player_attr_3)
 229+ 8155 ED 92 38         nextreg $38,a
 230+ 8158
 231+ 8158                  ;attr 4
 232+ 8158 3A 9A 80         ld a,(player_attr_4)
 233+ 815B ED 92 39         nextreg $39,a
 234+ 815E
 235+ 815E                  ;relative sprites...
 236+ 815E
 237+ 815E                  ;r1:
 238+ 815E                  ;AR
 239+ 815E                  ;xx
 240+ 815E
 241+ 815E
 242+ 815E 3E 33            ld a,PLAYER_SLOT+1
 243+ 8160 ED 92 34         nextreg $34,a
 244+ 8163
 245+ 8163                  ;a0
 246+ 8163 3E 10            ld a,16
 247+ 8165 ED 92 35         nextreg $35,a
 248+ 8168
 249+ 8168                  ;a1
 250+ 8168 3E 00            ld a,0
 251+ 816A ED 92 36         nextreg $36,a
 252+ 816D
 253+ 816D                  ;a2
 254+ 816D 3E 01            ld a,%00000001
 255+ 816F ED 92 37         nextreg $37,a
 256+ 8172
 257+ 8172                  ;a3
 258+ 8172 3A 9B 80         ld a,(headB_attr_3)
 259+ 8175 ED 92 38         nextreg $38,a
 260+ 8178
 261+ 8178                  ;a4
 262+ 8178 3E 41            ld a,%01000001
 263+ 817A ED 92 39         nextreg $39,a
 264+ 817D
 265+ 817D                  ;r2:
 266+ 817D                  ;Ax
 267+ 817D                  ;Rx
 268+ 817D 3E 34            ld a,PLAYER_SLOT+2
 269+ 817F ED 92 34         nextreg $34,a
 270+ 8182
 271+ 8182                  ;a0
 272+ 8182 3E 00            ld a,0
 273+ 8184 ED 92 35         nextreg $35,a
 274+ 8187
 275+ 8187                  ;a1
 276+ 8187 3E 10            ld a,16
 277+ 8189 ED 92 36         nextreg $36,a
 278+ 818C
 279+ 818C                  ;a2
 280+ 818C 3E 01            ld a,%00000001
 281+ 818E ED 92 37         nextreg $37,a
 282+ 8191
 283+ 8191                  ;a3
 284+ 8191 3A 9C 80         ld a,(legsA_attr_3)
 285+ 8194 ED 92 38         nextreg $38,a
 286+ 8197
 287+ 8197                  ;a4
 288+ 8197 3E 41            ld a,%01000001
 289+ 8199 ED 92 39         nextreg $39,a
 290+ 819C
 291+ 819C                  ;r3:
 292+ 819C                  ;Ax
 293+ 819C                  ;xR
 294+ 819C
 295+ 819C 3E 35            ld a,PLAYER_SLOT+3
 296+ 819E ED 92 34         nextreg $34,a
 297+ 81A1
 298+ 81A1                  ;a0
 299+ 81A1 3E 10            ld a,16
 300+ 81A3 ED 92 35         nextreg $35,a
 301+ 81A6
 302+ 81A6                  ;a1
 303+ 81A6 3E 10            ld a,16
 304+ 81A8 ED 92 36         nextreg $36,a
 305+ 81AB
 306+ 81AB                  ;a2
 307+ 81AB 3E 01            ld a,%00000001
 308+ 81AD ED 92 37         nextreg $37,a
 309+ 81B0
 310+ 81B0                  ;a3
 311+ 81B0 3A 9D 80         ld a,(legsB_attr_3)
 312+ 81B3 ED 92 38         nextreg $38,a
 313+ 81B6
 314+ 81B6                  ;a4
 315+ 81B6 3E 41            ld a,%01000001
 316+ 81B8 ED 92 39         nextreg $39,a
 317+ 81BB
 318+ 81BB C9               ret
 319+ 81BC
 320+ 81BC
 321+ 81BC
 322+ 81BC              player_update:
 323+ 81BC 3A 9E 80         ld a,(player_animation_timer)
 324+ 81BF 3C               inc a
 325+ 81C0 32 9E 80         ld (player_animation_timer),a
 326+ 81C3
 327+ 81C3
 328+ 81C3 3A 73 87         ld a,(keypressed_Q)
 329+ 81C6 FE 01            cp TRUE
 330+ 81C8 CC E3 81         call z,player_attacking_start
 331+ 81CB
 332+ 81CB
 333+ 81CB 3A A0 80         ld a,(player_animation_state)
 334+ 81CE FE 0C            cp ATTACKING
 335+ 81D0 CA FD 81         jp z, player_update_attacking
 336+ 81D3 FE 0A            cp WALKING
 337+ 81D5 CA D4 82         jp z, player_update_walking
 338+ 81D8 FE 0B            cp JUMPING
 339+ 81DA CA 2D 83         jp z, player_update_jumping
 340+ 81DD FE 00            cp IDLE
 341+ 81DF CA 92 82         jp z,player_update_idle
 342+ 81E2
 343+ 81E2
 344+ 81E2 C9               ret
 345+ 81E3
 346+ 81E3
 347+ 81E3
 348+ 81E3              player_attacking_start:
 349+ 81E3
 350+ 81E3
 351+ 81E3 3A 74 87         ld a,(keypressed_Q_Held)
 352+ 81E6 FE 01            cp TRUE
 353+ 81E8 28 13            jr z, player_update_attacking
 354+ 81EA
 355+ 81EA AF               xor a
 356+ 81EB 32 9F 80         ld (player_animation_throw_timer),a
 357+ 81EE
 358+ 81EE                  ;cache previous anim state:
 359+ 81EE 3A A0 80         ld a,(player_animation_state)
 360+ 81F1 32 A1 80         ld (player_animation_state_prev),a
 361+ 81F4
 362+ 81F4
 363+ 81F4 CD 31 82         call player_update_attacking.showframe1
 364+ 81F7
 365+ 81F7 3E 0C            ld a,ATTACKING
 366+ 81F9 32 A0 80         ld (player_animation_state),a
 367+ 81FC C9               ret
 368+ 81FD
 369+ 81FD              player_update_attacking:
 370+ 81FD 3A A1 80         ld a,(player_animation_state_prev)
 371+ 8200 FE 0B            cp JUMPING
 372+ 8202 CC 5B 82         call z, .handlejumping
 373+ 8205
 374+ 8205 3A 74 87         ld a,(keypressed_Q_Held)
 375+ 8208 FE 01            cp TRUE
 376+ 820A 28 25            jr z,.showframe1
 377+ 820C C4 46 82         call nz,.showframe2
 378+ 820F
 379+ 820F                  ; throw hammer at set time, then end animation at other set time
 380+ 820F 3A 9F 80         ld a,(player_animation_throw_timer)
 381+ 8212 3C               inc a
 382+ 8213 32 9F 80         ld (player_animation_throw_timer),a
 383+ 8216 FE 02            cp PLAYER_ANIMATION_THROW_TIME
 384+ 8218 CA 63 85         jp z,throw_hammer
 385+ 821B FE 1E            cp PLAYER_ANIMATION_THROW_DURATION
 386+ 821D D8               ret c
 387+ 821E
 388+ 821E 3A A1 80         ld a,(player_animation_state_prev)
 389+ 8221 FE 00            cp IDLE
 390+ 8223 CA 72 82         jp z,player_idle_start
 391+ 8226 FE 0A            cp WALKING
 392+ 8228 CA 72 82         jp z,player_idle_start
 393+ 822B
 394+ 822B                  ;if state was jumping, have to set state but not allow extra jump
 395+ 822B 3E 0B            ld a,JUMPING
 396+ 822D 32 A0 80         ld (player_animation_state),a
 397+ 8230
 398+ 8230 C9               ret
 399+ 8231
 400+ 8231              .showframe1:
 401+ 8231 3E 0E            ld a,WBOY_THROW_A
 402+ 8233 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 403+ 8235 32 99 80         ld (player_attr_3),a
 404+ 8238 3E C1            ld a,%11000001
 405+ 823A 32 9B 80         ld (headB_attr_3),a
 406+ 823D 3C               inc a
 407+ 823E 32 9C 80         ld (legsA_attr_3),a
 408+ 8241 3C               inc a
 409+ 8242 32 9D 80         ld (legsB_attr_3),a
 410+ 8245 C9               ret
 411+ 8246              .showframe2:
 412+ 8246 3E 12            ld a,WBOY_THROW_B
 413+ 8248 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 414+ 824A 32 99 80         ld (player_attr_3),a
 415+ 824D 3E C1            ld a,%11000001
 416+ 824F 32 9B 80         ld (headB_attr_3),a
 417+ 8252 3C               inc a
 418+ 8253 32 9C 80         ld (legsA_attr_3),a
 419+ 8256 3C               inc a
 420+ 8257 32 9D 80         ld (legsB_attr_3),a
 421+ 825A C9               ret
 422+ 825B              .handlejumping:
 423+ 825B CD 58 83         call player_update_jumping.applyforce
 424+ 825E 3A 6B 87         ld a,(keypressed_A)
 425+ 8261 FE 01            cp TRUE
 426+ 8263 CA A6 83         jp z,plyr_move_left_start
 427+ 8266
 428+ 8266 3A 6F 87         ld a,(keypressed_D)
 429+ 8269 FE 01            cp TRUE
 430+ 826B CA F1 83         jp z,plyr_move_right_start
 431+ 826E
 432+ 826E CD CF 84         call check_collision_jumping
 433+ 8271
 434+ 8271
 435+ 8271 C9               ret
 436+ 8272
 437+ 8272
 438+ 8272              player_idle_start:
 439+ 8272 3A A0 80         ld a,(player_animation_state)
 440+ 8275 FE 00            cp IDLE
 441+ 8277 C8               ret z
 442+ 8278
 443+ 8278 3E 00            ld a,IDLE
 444+ 827A 32 A0 80         ld (player_animation_state),a
 445+ 827D
 446+ 827D 3E 00            ld a,0 ;wonderboys head pattern
 447+ 827F C6 C0            add a,PLAYER_DEFAULT_ATTR3
 448+ 8281 32 99 80         ld (player_attr_3),a
 449+ 8284 3E C1            ld a,%11000001
 450+ 8286 32 9B 80         ld (headB_attr_3),a
 451+ 8289 3C               inc a
 452+ 828A 32 9C 80         ld (legsA_attr_3),a
 453+ 828D 3C               inc a
 454+ 828E 32 9D 80         ld (legsB_attr_3),a
 455+ 8291 C9               ret
 456+ 8292
 457+ 8292
 458+ 8292
 459+ 8292
 460+ 8292              player_update_idle:
 461+ 8292 3E 00            ld a,IDLE
 462+ 8294 32 A0 80         ld (player_animation_state),a
 463+ 8297 3A 9E 80         ld a,(player_animation_timer)
 464+ 829A FE 0F            cp 15 ;frame time
 465+ 829C D4 36 84         call nc, player_animate_idle
 466+ 829F
 467+ 829F
 468+ 829F 3A 77 87         ld a,(keypressed_Space)
 469+ 82A2 FE 01            cp TRUE
 470+ 82A4 28 4F            jr z,player_jump_start
 471+ 82A6
 472+ 82A6 3A 6B 87         ld a,(keypressed_A)
 473+ 82A9 FE 01            cp TRUE
 474+ 82AB 28 08            jr z,.set_state_walking
 475+ 82AD
 476+ 82AD 3A 6F 87         ld a,(keypressed_D)
 477+ 82B0 FE 01            cp TRUE
 478+ 82B2 28 01            jr z,.set_state_walking
 479+ 82B4
 480+ 82B4 C9               ret
 481+ 82B5              .set_state_walking:
 482+ 82B5 3E 0A            ld a,WALKING
 483+ 82B7 32 A0 80         ld (player_animation_state),a
 484+ 82BA C9               ret
 485+ 82BB
 486+ 82BB
 487+ 82BB
 488+ 82BB              player_walking_start:
 489+ 82BB 3A A0 80         ld a,(player_animation_state)
 490+ 82BE FE 0A            cp WALKING
 491+ 82C0 CA D4 82         jp z,player_update_walking
 492+ 82C3
 493+ 82C3 21 00 00         ld hl,0
 494+ 82C6 22 A2 80         ld (vy),hl
 495+ 82C9
 496+ 82C9 3E 0A            ld a,WALKING
 497+ 82CB 32 A0 80         ld (player_animation_state),a
 498+ 82CE
 499+ 82CE 3E C0            ld a,PLAYER_DEFAULT_ATTR3
 500+ 82D0 32 99 80         ld (player_attr_3),a
 501+ 82D3
 502+ 82D3 C9               ret
 503+ 82D4              player_update_walking:
 504+ 82D4 CD 2A 85         call check_grounded
 505+ 82D7
 506+ 82D7 3A 77 87         ld a,(keypressed_Space)
 507+ 82DA FE 01            cp TRUE
 508+ 82DC CC F5 82         call z,player_jump_start
 509+ 82DF
 510+ 82DF 3A 6B 87         ld a,(keypressed_A)
 511+ 82E2 FE 01            cp TRUE
 512+ 82E4 CA A6 83         jp z,plyr_move_left_start
 513+ 82E7
 514+ 82E7 3A 6F 87         ld a,(keypressed_D)
 515+ 82EA FE 01            cp TRUE
 516+ 82EC CA F1 83         jp z,plyr_move_right_start
 517+ 82EF
 518+ 82EF                  ;else idle walking state...
 519+ 82EF 3E 00            ld a,IDLE
 520+ 82F1 32 A0 80         ld (player_animation_state),a
 521+ 82F4
 522+ 82F4 C9               ret
 523+ 82F5
 524+ 82F5
 525+ 82F5
 526+ 82F5
 527+ 82F5
 528+ 82F5              player_jump_start:
 529+ 82F5 3A 78 87         ld a,(keypressed_Space_Held)
 530+ 82F8 FE 01            cp TRUE
 531+ 82FA C8               ret z
 532+ 82FB
 533+ 82FB 3A A0 80         ld a,(player_animation_state)
 534+ 82FE FE 0B            cp JUMPING
 535+ 8300 C8               ret z
 536+ 8301
 537+ 8301 3E 0C            ld a,WBOY_FIRST_JUMP
 538+ 8303 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 539+ 8305 32 9C 80         ld (legsA_attr_3),a
 540+ 8308 3C               inc a
 541+ 8309 32 9D 80         ld (legsB_attr_3),a
 542+ 830C
 543+ 830C 3E 0B            ld a,JUMPING
 544+ 830E 32 A0 80         ld (player_animation_state),a
 545+ 8311
 546+ 8311 3A 97 80         ld a,(py)
 547+ 8314 32 A7 80         ld (player_jump_point),a
 548+ 8317
 549+ 8317 3E 02            ld a,UP
 550+ 8319 32 A6 80         ld (player_jump_direction),a
 551+ 831C
 552+ 831C 3E 00            ld a,FALSE
 553+ 831E 32 A8 80         ld (player_superjump),a
 554+ 8321
 555+ 8321 3A 69 87         ld a,(keypressed_W)
 556+ 8324 FE 00            cp FALSE
 557+ 8326 28 05            jr z,player_update_jumping
 558+ 8328
 559+ 8328 3E 01            ld a,TRUE
 560+ 832A 32 A8 80         ld (player_superjump),a
 561+ 832D              player_update_jumping:
 562+ 832D 3A 6B 87         ld a,(keypressed_A)
 563+ 8330 FE 01            cp TRUE
 564+ 8332 CC A6 83         call z,plyr_move_left_start
 565+ 8335
 566+ 8335 3A 6F 87         ld a,(keypressed_D)
 567+ 8338 FE 01            cp TRUE
 568+ 833A CC F1 83         call z,plyr_move_right_start
 569+ 833D
 570+ 833D CD 8D 84         call player_calculate_world_position
 571+ 8340
 572+ 8340 CD CF 84         call check_collision_jumping
 573+ 8343
 574+ 8343 3A A7 80         ld a,(player_jump_point)
 575+ 8346 D6 0F            sub PLAYER_JUMP_HEIGHT
 576+ 8348 47               ld b,a
 577+ 8349 3A A8 80         ld a,(player_superjump)
 578+ 834C FE 01            cp TRUE
 579+ 834E CC 70 83         call z,do_superjump
 580+ 8351 3A 97 80         ld a,(py)
 581+ 8354 B8               cp b
 582+ 8355 DC 75 83         call c,plyr_set_jump_down
 583+ 8358
 584+ 8358              .applyforce:
 585+ 8358 3A A6 80         ld a,(player_jump_direction)
 586+ 835B FE 02            cp UP
 587+ 835D F5               push af
 588+ 835E CC 7B 83         call z, apply_force_up
 589+ 8361 F1               pop af
 590+ 8362 FE 03            cp DOWN
 591+ 8364 F5               push af
 592+ 8365 CC 8A 83         call z, apply_force_down
 593+ 8368 F1               pop af
 594+ 8369
 595+ 8369
 596+ 8369
 597+ 8369 CD 99 83         call apply_velocity
 598+ 836C
 599+ 836C CD CF 84         call check_collision_jumping
 600+ 836F
 601+ 836F C9               ret
 602+ 8370
 603+ 8370              do_superjump:
 604+ 8370 78               ld a,b
 605+ 8371 D6 0A            sub PLAYER_SUPERJUMP_HEIGHT
 606+ 8373 47               ld b,a
 607+ 8374 C9               ret
 608+ 8375
 609+ 8375
 610+ 8375              plyr_set_jump_down:
 611+ 8375 3E 03            ld a,DOWN
 612+ 8377 32 A6 80         ld (player_jump_direction),a
 613+ 837A C9               ret
 614+ 837B
 615+ 837B              apply_force_up:
 616+ 837B 2A A2 80         ld hl,(vy)
 617+ 837E 7C               ld a,h
 618+ 837F FE FB            cp -MAX_UP_SPEED
 619+ 8381 C8               ret z
 620+ 8382
 621+ 8382 ED 34 80 FF      add hl,-UP_FORCE*2
 622+ 8386 22 A2 80         ld (vy),hl
 623+ 8389 C9               ret
 624+ 838A              apply_force_down:
 625+ 838A 2A A2 80         ld hl,(vy)
 626+ 838D 7C               ld a,h
 627+ 838E FE 07            cp MAX_DOWN_SPEED
 628+ 8390 C8               ret z
 629+ 8391 ED 34 20 00      add hl,DOWN_FORCE
 630+ 8395 22 A2 80         ld (vy),hl
 631+ 8398 C9               ret
 632+ 8399
 633+ 8399              apply_velocity:
 634+ 8399 21 97 80         ld hl,py
 635+ 839C 46               ld b,(hl)
 636+ 839D 2A A2 80         ld hl,(vy)
 637+ 83A0 7C               ld a,h
 638+ 83A1 80               add a,b
 639+ 83A2 32 97 80         ld (py),a
 640+ 83A5 C9               ret
 641+ 83A6
 642+ 83A6
 643+ 83A6
 644+ 83A6              plyr_move_left_start:
 645+ 83A6 3E 00            ld a,LEFT
 646+ 83A8 32 A5 80         ld (player_walk_direction),a
 647+ 83AB
 648+ 83AB 3A 98 80         ld a,(player_attr_2)
 649+ 83AE CB 5F            bit 3,a
 650+ 83B0 C2 C6 83         jp nz,plyr_move_left
 651+ 83B3
 652+ 83B3 3A 98 80         ld a,(player_attr_2)
 653+ 83B6 CB DF            set 3,a
 654+ 83B8 32 98 80         ld (player_attr_2),a
 655+ 83BB
 656+ 83BB 2A 95 80         ld hl,(px)
 657+ 83BE ED 34 20 00      add hl,32 ;2 relatives width (plus anchor)
 658+ 83C2 22 95 80         ld (px),hl
 659+ 83C5
 660+ 83C5 C9               ret
 661+ 83C6              plyr_move_left:
 662+ 83C6
 663+ 83C6 CD 8D 84         call player_calculate_world_position
 664+ 83C9                  ; ; ; ; ; ; ; ; call check_collision_left
 665+ 83C9
 666+ 83C9 3A A4 80         ld a,(player_collided_solid)
 667+ 83CC FE 01            cp TRUE
 668+ 83CE C8               ret z
 669+ 83CF
 670+ 83CF 3A 9E 80         ld a,(player_animation_timer)
 671+ 83D2 FE 04            cp PLAYER_ANIMATION_DELAY
 672+ 83D4 D4 61 84         call nc, player_animate_walk
 673+ 83D7
 674+ 83D7 2A 95 80         ld hl,(px)
 675+ 83DA 7C               ld a,h
 676+ 83DB FE 00            cp 0
 677+ 83DD C2 E9 83         jp nz,p_move_left
 678+ 83E0 7D               ld a,l
 679+ 83E1 FE B0            cp SCROLL_MARKER_X+16
 680+ 83E3 DA 4F 8E         jp c,scroll_left
 681+ 83E6 D2 E9 83         jp nc,p_move_left
 682+ 83E9
 683+ 83E9              p_move_left:
 684+ 83E9 ED 34 FF FF      add hl,-PLAYER_WALK_SPEED
 685+ 83ED 22 95 80         ld (px),hl
 686+ 83F0 C9               ret
 687+ 83F1
 688+ 83F1
 689+ 83F1              plyr_move_right_start:
 690+ 83F1 3E 01            ld a,RIGHT
 691+ 83F3 32 A5 80         ld (player_walk_direction),a
 692+ 83F6
 693+ 83F6 3A 98 80         ld a,(player_attr_2)
 694+ 83F9 CB 5F            bit 3,a
 695+ 83FB CA 11 84         jp z,plyr_move_right
 696+ 83FE
 697+ 83FE 3A 98 80         ld a,(player_attr_2)
 698+ 8401 CB 9F            res 3,a
 699+ 8403 32 98 80         ld (player_attr_2),a
 700+ 8406
 701+ 8406 2A 95 80         ld hl,(px)
 702+ 8409 ED 34 E0 FF      add hl,-32
 703+ 840D 22 95 80         ld (px),hl
 704+ 8410 C9               ret
 705+ 8411              plyr_move_right:
 706+ 8411 CD 8D 84         call player_calculate_world_position
 707+ 8414                  ; ; ; ; ; ; ; ; ; ; call check_collision_right
 708+ 8414
 709+ 8414 3A A4 80         ld a,(player_collided_solid)
 710+ 8417 FE 01            cp TRUE
 711+ 8419 C8               ret z
 712+ 841A
 713+ 841A 3A 9E 80         ld a,(player_animation_timer)
 714+ 841D FE 04            cp PLAYER_ANIMATION_DELAY
 715+ 841F D4 61 84         call nc, player_animate_walk
 716+ 8422
 717+ 8422 2A 95 80         ld hl,(px)
 718+ 8425 7D               ld a,l
 719+ 8426 FE 90            cp SCROLL_MARKER_X-16
 720+ 8428 D2 9F 8E         jp nc,scroll_right
 721+ 842B DA 2E 84         jp c,p_move_right
 722+ 842E
 723+ 842E              p_move_right
 724+ 842E ED 34 01 00      add hl,PLAYER_WALK_SPEED
 725+ 8432 22 95 80         ld (px),hl
 726+ 8435 C9               ret
 727+ 8436
 728+ 8436
 729+ 8436
 730+ 8436
 731+ 8436              player_animate_idle:
 732+ 8436 AF               xor a
 733+ 8437 32 9E 80         ld (player_animation_timer),a
 734+ 843A
 735+ 843A 3A A0 80         ld a,(player_animation_state)
 736+ 843D FE 00            cp IDLE
 737+ 843F C0               ret nz
 738+ 8440
 739+ 8440 3A 9C 80         ld a,(legsA_attr_3)
 740+ 8443 E6 3F            and %00111111 ;mask out top 2 bits
 741+ 8445 FE 04            cp WBOY_FINAL_IDLE ;Final Idle 'A' pattern
 742+ 8447 30 0C            jr nc,plyr_set_idle_firstframe
 743+ 8449
 744+ 8449 C6 02            add a,WBOY_BODY_SIZE
 745+ 844B C6 C0            add a,PLAYER_DEFAULT_ATTR3
 746+ 844D 32 9C 80         ld (legsA_attr_3),a
 747+ 8450 3C               inc a
 748+ 8451 32 9D 80         ld (legsB_attr_3),a
 749+ 8454
 750+ 8454 C9               ret
 751+ 8455
 752+ 8455              plyr_set_idle_firstframe:
 753+ 8455 3E 02            ld a,WBOY_FIRST_IDLE
 754+ 8457 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 755+ 8459
 756+ 8459 32 9C 80         ld (legsA_attr_3),a
 757+ 845C 3C               inc a
 758+ 845D 32 9D 80         ld (legsB_attr_3),a
 759+ 8460 C9               ret
 760+ 8461
 761+ 8461              player_animate_walk:
 762+ 8461 AF               xor a
 763+ 8462 32 9E 80         ld (player_animation_timer),a
 764+ 8465
 765+ 8465 3A A0 80         ld a,(player_animation_state)
 766+ 8468 FE 0A            cp WALKING
 767+ 846A C0               ret nz
 768+ 846B
 769+ 846B 3A 9C 80         ld a,(legsA_attr_3)
 770+ 846E E6 3F            and %00111111 ;mask out top 2 bits
 771+ 8470 FE 0C            cp WBOY_FINAL_WALK ;final walk 'A' pattern
 772+ 8472 CA 81 84         jp z,plyr_set_walking_firstframe
 773+ 8475
 774+ 8475 C6 02            add a,WBOY_BODY_SIZE
 775+ 8477 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 776+ 8479 32 9C 80         ld (legsA_attr_3),a
 777+ 847C 3C               inc a
 778+ 847D 32 9D 80         ld (legsB_attr_3),a
 779+ 8480 C9               ret
 780+ 8481
 781+ 8481              plyr_set_walking_firstframe:
 782+ 8481 3E 06            ld a,WBOY_FIRST_WALK
 783+ 8483 C6 C0            add a,PLAYER_DEFAULT_ATTR3
 784+ 8485 32 9C 80         ld (legsA_attr_3),a
 785+ 8488 3C               inc a
 786+ 8489 32 9D 80         ld (legsB_attr_3),a
 787+ 848C C9               ret
 788+ 848D
 789+ 848D
 790+ 848D              player_calculate_world_position:
 791+ 848D 3A 97 80         ld a,(py)
 792+ 8490 E6 F0            and %11110000
 793+ 8492 0F               rrca
 794+ 8493 0F               rrca
 795+ 8494 0F               rrca
 796+ 8495 0F               rrca
 797+ 8496 32 94 80         ld (player_world_y),a
 798+ 8499
 799+ 8499 3A A5 80         ld a,(player_walk_direction)
 800+ 849C FE 01            cp RIGHT
 801+ 849E CA B6 84         jp z, p_wp_r
 802+ 84A1
 803+ 84A1              p_wp_l:
 804+ 84A1 2A 95 80         ld hl,(px)
 805+ 84A4 7D               ld a,l
 806+ 84A5 E6 F0            and %11110000
 807+ 84A7 0F               rrca
 808+ 84A8 0F               rrca
 809+ 84A9 0F               rrca
 810+ 84AA 0F               rrca
 811+ 84AB 47               ld b,a
 812+ 84AC 3A 4A 8D         ld a,(cam_x)
 813+ 84AF 4F               ld c,a
 814+ 84B0 78               ld a,b
 815+ 84B1 81               add a,c
 816+ 84B2 32 93 80         ld (player_world_x),a
 817+ 84B5 C9               ret
 818+ 84B6              p_wp_r:
 819+ 84B6 2A 95 80         ld hl,(px)
 820+ 84B9 ED 34 18 00      add hl,24
 821+ 84BD 7D               ld a,l
 822+ 84BE E6 F0            and %11110000
 823+ 84C0 0F               rrca
 824+ 84C1 0F               rrca
 825+ 84C2 0F               rrca
 826+ 84C3 0F               rrca
 827+ 84C4 47               ld b,a
 828+ 84C5 3A 4A 8D         ld a,(cam_x)
 829+ 84C8 4F               ld c,a
 830+ 84C9 78               ld a,b
 831+ 84CA 81               add a,c
 832+ 84CB 32 93 80         ld (player_world_x),a
 833+ 84CE C9               ret
 834+ 84CF
 835+ 84CF
 836+ 84CF
 837+ 84CF              check_collision_jumping:
 838+ 84CF                  ; ld a,(player_animation_state)
 839+ 84CF                  ; cp JUMPING
 840+ 84CF                  ; ret nz
 841+ 84CF
 842+ 84CF 3A A6 80         ld a,(player_jump_direction)
 843+ 84D2 FE 03            cp DOWN
 844+ 84D4 C0               ret nz
 845+ 84D5
 846+ 84D5
 847+ 84D5 21 C8 88         ld hl,superlevel
 848+ 84D8 3A 94 80         ld a,(player_world_y)
 849+ 84DB FE 06            cp 6
 850+ 84DD D8               ret c
 851+ 84DE D6 06            sub 6
 852+ 84E0 57               ld d,a
 853+ 84E1 1E 50            ld e,LEVEL_WIDTH_META
 854+ 84E3 ED 30            mul d,e
 855+ 84E5 19               add hl,de
 856+ 84E6 3A 93 80         ld a,(player_world_x)
 857+ 84E9 5F               ld e,a
 858+ 84EA 16 00            ld d,0
 859+ 84EC 19               add hl,de
 860+ 84ED 7E               ld a,(hl)
 861+ 84EE CD BF 88         call check_solid
 862+ 84F1 CA 16 85         jp z,collided_jumping
 863+ 84F4
 864+ 84F4 21 C8 88         ld hl,superlevel
 865+ 84F7 3A 94 80         ld a,(player_world_y)
 866+ 84FA FE 06            cp 6
 867+ 84FC D8               ret c
 868+ 84FD D6 06            sub 6
 869+ 84FF 57               ld d,a
 870+ 8500 1E 50            ld e,LEVEL_WIDTH_META
 871+ 8502 ED 30            mul d,e
 872+ 8504 19               add hl,de
 873+ 8505 3A 93 80         ld a,(player_world_x)
 874+ 8508 C6 01            add a,1
 875+ 850A 5F               ld e,a
 876+ 850B 16 00            ld d,0
 877+ 850D 19               add hl,de
 878+ 850E 7E               ld a,(hl)
 879+ 850F CD BF 88         call check_solid
 880+ 8512 CA 16 85         jp z,collided_jumping
 881+ 8515
 882+ 8515
 883+ 8515
 884+ 8515 C9               ret
 885+ 8516
 886+ 8516
 887+ 8516              collided_jumping:
 888+ 8516
 889+ 8516                  ;snap to nearest cell
 890+ 8516 3A 94 80         ld a,(player_world_y)
 891+ 8519 87               add a,a
 892+ 851A 87               add a,a
 893+ 851B 87               add a,a
 894+ 851C 87               add a,a
 895+ 851D 32 97 80         ld (py),a
 896+ 8520
 897+ 8520 3A A6 80         ld a,(player_jump_direction)
 898+ 8523 FE 02            cp UP
 899+ 8525 C8               ret z
 900+ 8526
 901+ 8526                  ;collided
 902+ 8526 CD BB 82         call player_walking_start
 903+ 8529
 904+ 8529
 905+ 8529
 906+ 8529 C9               ret
 907+ 852A
 908+ 852A
 909+ 852A              check_grounded:
 910+ 852A 3A A6 80         ld a,(player_jump_direction)
 911+ 852D FE 03            cp DOWN
 912+ 852F C0               ret nz
 913+ 8530
 914+ 8530 21 C8 88         ld hl,superlevel
 915+ 8533 3A 94 80         ld a,(player_world_y)
 916+ 8536 FE 06            cp 6
 917+ 8538 D8               ret c
 918+ 8539 D6 06            sub 6
 919+ 853B 57               ld d,a
 920+ 853C 1E 50            ld e,LEVEL_WIDTH_META
 921+ 853E ED 30            mul d,e
 922+ 8540 19               add hl,de
 923+ 8541 3A 93 80         ld a,(player_world_x)
 924+ 8544 5F               ld e,a
 925+ 8545 16 00            ld d,0
 926+ 8547 19               add hl,de
 927+ 8548 7E               ld a,(hl)
 928+ 8549 CD BF 88         call check_solid
 929+ 854C CA 52 85         jp z,grounded_true
 930+ 854F
 931+ 854F
 932+ 854F C3 58 85         jp grounded_false
 933+ 8552              grounded_true:
 934+ 8552
 935+ 8552 3E 01            ld a,TRUE
 936+ 8554 32 A9 80         ld (player_grounded),a
 937+ 8557 C9               ret
 938+ 8558
 939+ 8558              grounded_false:
 940+ 8558 3E 00            ld a,FALSE
 941+ 855A 32 A9 80         ld (player_grounded),a
 942+ 855D
 943+ 855D
 944+ 855D 3E 0B            ld a,JUMPING
 945+ 855F 32 A0 80         ld (player_animation_state),a
 946+ 8562
 947+ 8562 C9               ret
 948+ 8563
 949+ 8563
 950+ 8563              ; check_collision_left:
 951+ 8563              ;     ld hl,level1
 952+ 8563              ;     ld a,(player_world_y)
 953+ 8563              ;     add a,2
 954+ 8563              ;     ld d,a
 955+ 8563              ;     ld e,WORLD_WIDTH
 956+ 8563              ;     mul d,e
 957+ 8563              ;     add hl,de
 958+ 8563              ;     ld a,(player_world_x)
 959+ 8563              ;     ld e,a
 960+ 8563              ;     ld d,0
 961+ 8563              ;     add hl,de
 962+ 8563              ;     ld a,(hl)
 963+ 8563              ;     cp 12
 964+ 8563              ;     jp c,collided_solid_sideways
 965+ 8563
 966+ 8563              ;     ld a,FALSE
 967+ 8563              ;     ld (player_collided_solid),a
 968+ 8563
 969+ 8563              ;     ret
 970+ 8563
 971+ 8563
 972+ 8563
 973+ 8563              ; check_collision_right:
 974+ 8563              ;     ld hl,(px)
 975+ 8563              ;     ld a,h
 976+ 8563              ;     cp 0
 977+ 8563              ;     jp nz, check_collision_right_x8
 978+ 8563
 979+ 8563              ;     ld hl,level1
 980+ 8563              ;     ld a,(player_world_y)
 981+ 8563              ;     ld d,a
 982+ 8563              ;     ld e,WORLD_WIDTH
 983+ 8563              ;     mul d,e
 984+ 8563              ;     add hl,de
 985+ 8563              ;     ld a,(player_world_x)
 986+ 8563              ;     add a,1
 987+ 8563              ;     ld e,a
 988+ 8563              ;     ld d,0
 989+ 8563              ;     add hl,de
 990+ 8563              ;     ld a,(hl)
 991+ 8563              ;     cp 12
 992+ 8563              ;     jp c,collided_solid_sideways
 993+ 8563
 994+ 8563              ;     ld hl,level1
 995+ 8563              ;     ld a,(player_world_y)
 996+ 8563              ;     add a,1
 997+ 8563              ;     ld d,a
 998+ 8563              ;     ld e,WORLD_WIDTH
 999+ 8563              ;     mul d,e
1000+ 8563              ;     add hl,de
1001+ 8563              ;     ld a,(player_world_x)
1002+ 8563              ;     add a,1
1003+ 8563              ;     ld e,a
1004+ 8563              ;     ld d,0
1005+ 8563              ;     add hl,de
1006+ 8563              ;     ld a,(hl)
1007+ 8563              ;     cp 12
1008+ 8563              ;     jp c,collided_solid_sideways
1009+ 8563
1010+ 8563              ;     ld hl,level1
1011+ 8563              ;     ld a,(player_world_y)
1012+ 8563              ;     add a,2
1013+ 8563              ;     ld d,a
1014+ 8563              ;     ld e,WORLD_WIDTH
1015+ 8563              ;     mul d,e
1016+ 8563              ;     add hl,de
1017+ 8563              ;     ld a,(player_world_x)
1018+ 8563              ;     add a,1
1019+ 8563              ;     ld e,a
1020+ 8563              ;     ld d,0
1021+ 8563              ;     add hl,de
1022+ 8563              ;     ld a,(hl)
1023+ 8563              ;     cp 12
1024+ 8563              ;     jp c,collided_solid_sideways
1025+ 8563
1026+ 8563              ;     ld hl,level1
1027+ 8563              ;     ld a,(player_world_y)
1028+ 8563              ;     add a,3
1029+ 8563              ;     ld d,a
1030+ 8563              ;     ld e,WORLD_WIDTH
1031+ 8563              ;     mul d,e
1032+ 8563              ;     add hl,de
1033+ 8563              ;     ld a,(player_world_x)
1034+ 8563              ;     add a,1
1035+ 8563              ;     ld e,a
1036+ 8563              ;     ld d,0
1037+ 8563              ;     add hl,de
1038+ 8563              ;     ld a,(hl)
1039+ 8563              ;     cp 12
1040+ 8563              ;     jp c,collided_solid_sideways
1041+ 8563
1042+ 8563
1043+ 8563
1044+ 8563              ;     ld a,FALSE
1045+ 8563              ;     ld (player_collided_solid),a
1046+ 8563
1047+ 8563              ;     ret
1048+ 8563
1049+ 8563              ; check_collision_right_x8:
1050+ 8563              ;     ld hl,level1
1051+ 8563              ;     ld a,(player_world_y)
1052+ 8563              ;     ld d,a
1053+ 8563              ;     ld e,WORLD_WIDTH
1054+ 8563              ;     mul d,e
1055+ 8563              ;     add hl,de
1056+ 8563              ;     ld a,(player_world_x)
1057+ 8563              ;     add a,33
1058+ 8563              ;     ld e,a
1059+ 8563              ;     ld d,0
1060+ 8563              ;     add hl,de
1061+ 8563              ;     ld a,(hl)
1062+ 8563              ;     cp 12
1063+ 8563              ;     jp c,collided_solid_sideways
1064+ 8563
1065+ 8563              ;     ld hl,level1
1066+ 8563              ;     ld a,(player_world_y)
1067+ 8563              ;     add a,1
1068+ 8563              ;     ld d,a
1069+ 8563              ;     ld e,WORLD_WIDTH
1070+ 8563              ;     mul d,e
1071+ 8563              ;     add hl,de
1072+ 8563              ;     ld a,(player_world_x)
1073+ 8563              ;     add a,33
1074+ 8563              ;     ld e,a
1075+ 8563              ;     ld d,0
1076+ 8563              ;     add hl,de
1077+ 8563              ;     ld a,(hl)
1078+ 8563              ;     cp 12
1079+ 8563              ;     jp c,collided_solid_sideways
1080+ 8563
1081+ 8563              ;     ld hl,level1
1082+ 8563              ;     ld a,(player_world_y)
1083+ 8563              ;     add a,2
1084+ 8563              ;     ld d,a
1085+ 8563              ;     ld e,WORLD_WIDTH
1086+ 8563              ;     mul d,e
1087+ 8563              ;     add hl,de
1088+ 8563              ;     ld a,(player_world_x)
1089+ 8563              ;     add a,33
1090+ 8563              ;     ld e,a
1091+ 8563              ;     ld d,0
1092+ 8563              ;     add hl,de
1093+ 8563              ;     ld a,(hl)
1094+ 8563              ;     cp 12
1095+ 8563              ;     jp c,collided_solid_sideways
1096+ 8563
1097+ 8563              ;     ld hl,level1
1098+ 8563              ;     ld a,(player_world_y)
1099+ 8563              ;     add a,3
1100+ 8563              ;     ld d,a
1101+ 8563              ;     ld e,WORLD_WIDTH
1102+ 8563              ;     mul d,e
1103+ 8563              ;     add hl,de
1104+ 8563              ;     ld a,(player_world_x)
1105+ 8563              ;     add a,33
1106+ 8563              ;     ld e,a
1107+ 8563              ;     ld d,0
1108+ 8563              ;     add hl,de
1109+ 8563              ;     ld a,(hl)
1110+ 8563              ;     cp 12
1111+ 8563              ;     jp c,collided_solid_sideways
1112+ 8563
1113+ 8563
1114+ 8563
1115+ 8563              ;     ld a,FALSE
1116+ 8563              ;     ld (player_collided_solid),a
1117+ 8563
1118+ 8563              ;     ret
1119+ 8563
1120+ 8563
1121+ 8563
1122+ 8563
1123+ 8563
1124+ 8563
1125+ 8563              ; collided_solid_sideways:
1126+ 8563              ;     ld a,TRUE
1127+ 8563              ;     ld (player_collided_solid),a
1128+ 8563              ;     ret
1129+ 8563
1130+ 8563
1131+ 8563
1132+ 8563              throw_hammer:
1133+ 8563                  ; BREAKPOINT
1134+ 8563 3A 74 87         ld a,(keypressed_Q_Held)
1135+ 8566 FE 01            cp TRUE
1136+ 8568 C8               ret z
1137+ 8569
1138+ 8569
1139+ 8569 CD 60 8F         call projectiles_spawn
1140+ 856C C9               ret
# file closed: src/player.asm
  45  856D              	include 'objects.asm'
# file opened: src/objects.asm
   1+ 856D
   2+ 856D
   3+ 856D
   4+ 856D              OBJECT_PUMPKIN equ 0
   5+ 856D              OBJECT_GHOST equ 1
   6+ 856D              OBJECT_GHOST_WALKER equ 2
   7+ 856D              OBJECT_DEAD equ 100
   8+ 856D              OBJECT_COLLIDED equ $FF
   9+ 856D              OBJECT_HEIGHT equ 16
  10+ 856D
  11+ 856D
  12+ 856D              ;::All objects have 2 frame animation::
  13+ 856D
  14+ 856D              ;0=isInView
  15+ 856D              ;1=objType
  16+ 856D              ;2=wX
  17+ 856D              ;3=wY
  18+ 856D              ;4,5=XX
  19+ 856D              ;6=Y
  20+ 856D              ;7=att2
  21+ 856D              ;8=att3
  22+ 856D              ;9=att4
  23+ 856D              ;10=slot_ID
  24+ 856D              ;11=sprites specific XOR value
  25+ 856D              ;12=direction
  26+ 856D
  27+ 856D              objects:
  28+ 856D                  ; db FALSE, OBJECT_PUMPKIN, 01, 01  : dw 0 : db 0,  %00000000,%01010000,%00000000,0,1,RIGHT
  29+ 856D                  ; db FALSE, OBJECT_GHOST, 50, 19 : dw 0 : db 0, %00000000,%01010010,%00000000,11,1,RIGHT
  30+ 856D                  ; db FALSE, OBJECT_GHOST_WALKER, 39, 24 : dw 0 : db 0, %00000000,%01010010,%00000000,15,1,LEFT
  31+ 856D                  ; db FALSE, OBJECT_GHOST_WALKER, 50, 26 : dw 0 : db 0, %00000000,%01010010,%00000000,15,1,LEFT
  32+ 856D                  ; db FALSE, OBJECT_GHOST_WALKER, 72, 26 : dw 0 : db 0, %00000000,%01010010,%00000000,15,1,LEFT
  33+ 856D                  ; db FALSE, OBJECT_GHOST_WALKER, 110, 26 : dw 0 : db 0, %00000000,%01010010,%00000000,15,1,LEFT
  34+ 856D FF               db END_OF_ARRAY
  35+ 856E
  36+ 856E              OBJECTS_DATA_LENGTH equ 13
  37+ 856E
  38+ 856E
  39+ 856E              GHOST_SPEED equ 2
  40+ 856E              GHOST_MAX_MOVEMENT_X equ 30
  41+ 856E
  42+ 856E
  43+ 856E
  44+ 856E              ;sX= wX-(cam_edge_r-VW)*8
  45+ 856E              ;sY= wY*8
  46+ 856E
  47+ 856E
  48+ 856E
  49+ 856E              objects_init:
  50+ 856E C9               ret
  51+ 856F
  52+ 856F
  53+ 856F
  54+ 856F              objects_update:
  55+ 856F DD 21 6D 85      ld ix,objects
  56+ 8573              objs_update_start:
  57+ 8573 DD 7E 00         ld a,(ix)
  58+ 8576 FE FF            cp END_OF_ARRAY
  59+ 8578 C8               ret z
  60+ 8579
  61+ 8579 CD 99 85         call object_update
  62+ 857C
  63+ 857C 11 0D 00         ld de,OBJECTS_DATA_LENGTH
  64+ 857F DD 19            add ix,de
  65+ 8581 C3 73 85         jp objs_update_start
  66+ 8584
  67+ 8584
  68+ 8584
  69+ 8584
  70+ 8584              objects_draw:
  71+ 8584 DD 21 6D 85      ld ix,objects
  72+ 8588              objs_draw_start:
  73+ 8588 DD 7E 00         ld a,(ix)
  74+ 858B FE FF            cp END_OF_ARRAY
  75+ 858D C8               ret z
  76+ 858E
  77+ 858E CD 50 86         call object_draw
  78+ 8591
  79+ 8591 11 0D 00         ld de,OBJECTS_DATA_LENGTH
  80+ 8594 DD 19            add ix,de
  81+ 8596 C3 88 85         jp objs_draw_start
  82+ 8599
  83+ 8599
  84+ 8599
  85+ 8599
  86+ 8599
  87+ 8599
  88+ 8599
  89+ 8599              object_update:
  90+ 8599 DD 7E 01         ld a,(ix+1)
  91+ 859C FE 64            cp OBJECT_DEAD
  92+ 859E C8               ret z
  93+ 859F
  94+ 859F
  95+ 859F CD B2 85         call object_check_in_view
  96+ 85A2 CD 3D 86         call animate_object
  97+ 85A5
  98+ 85A5 DD 7E 01         ld a,(ix+1)
  99+ 85A8 FE 00            cp OBJECT_PUMPKIN
 100+ 85AA C8               ret z
 101+ 85AB
 102+ 85AB CD 80 86         call handle_behaviour
 103+ 85AE CD B9 86         call object_check_collision_player
 104+ 85B1
 105+ 85B1 C9               ret
 106+ 85B2
 107+ 85B2
 108+ 85B2
 109+ 85B2              object_check_in_view:
 110+ 85B2 DD 7E 02         ld a,(ix+2)
 111+ 85B5 47               ld b,a
 112+ 85B6 3A 4A 8D         ld a,(cam_x)
 113+ 85B9 C6 14            add a,VIEW_WIDTH_META
 114+ 85BB B8               cp b
 115+ 85BC DA DA 85         jp c, obj_set_not_inview
 116+ 85BF
 117+ 85BF 3A 4A 8D         ld a,(cam_x)
 118+ 85C2 47               ld b,a
 119+ 85C3 DD 7E 02         ld a,(ix+2)
 120+ 85C6 B8               cp b
 121+ 85C7 DA DA 85         jp c, obj_set_not_inview
 122+ 85CA
 123+ 85CA                  ; set to inview=yes
 124+ 85CA DD 36 00 01      ld (ix),TRUE
 125+ 85CE DD 7E 08         ld a,(ix+8)
 126+ 85D1 CB FF            set 7,a
 127+ 85D3 DD 77 08         ld (ix+8),a
 128+ 85D6
 129+ 85D6 CD EA 85         call object_calculate_screen_pos
 130+ 85D9 C9               ret
 131+ 85DA
 132+ 85DA              obj_set_not_inview:
 133+ 85DA DD 36 00 00      ld (ix),FALSE
 134+ 85DE DD 7E 08         ld a,(ix+8)
 135+ 85E1 CB BF            res 7,a
 136+ 85E3 DD 77 08         ld (ix+8),a
 137+ 85E6 CD 56 86         call obj_drw
 138+ 85E9 C9               ret
 139+ 85EA
 140+ 85EA
 141+ 85EA
 142+ 85EA              object_calculate_screen_pos:
 143+ 85EA                  ;Y
 144+ 85EA DD 7E 03         ld a,(ix+3)
 145+ 85ED 87               add a,a
 146+ 85EE 87               add a,a
 147+ 85EF 87               add a,a ;A*8
 148+ 85F0 DD 77 06         ld (ix+6),a
 149+ 85F3
 150+ 85F3 3A 49 8D         ld a,(scroll_direction)
 151+ 85F6 FE 00            cp LEFT
 152+ 85F8 CA 01 86         jp z,obj_screen_moving_left
 153+ 85FB FE 01            cp RIGHT
 154+ 85FD CA 1D 86         jp z,obj_screen_moving_right
 155+ 8600
 156+ 8600 C9               ret
 157+ 8601
 158+ 8601              obj_screen_moving_left:
 159+ 8601                  ;X (scroll left)
 160+ 8601 3A 4A 8D         ld a,(cam_x)
 161+ 8604 47               ld b,a
 162+ 8605 DD 7E 02         ld a,(ix+2) ;wX
 163+ 8608 90               sub b ;wX-camX
 164+ 8609 21 00 00         ld hl,0
 165+ 860C ED 31            add hl,a
 166+ 860E 29               add hl,hl
 167+ 860F 29               add hl,hl
 168+ 8610 29               add hl,hl
 169+ 8611 3A 48 8D         ld a,(current_scroll)
 170+ 8614 ED 31            add hl,a
 171+ 8616 DD 75 04         ld (ix+4),l
 172+ 8619 DD 74 05         ld (ix+5),h ;X8
 173+ 861C C9               ret
 174+ 861D
 175+ 861D              obj_screen_moving_right:
 176+ 861D                  ;X (scroll left)
 177+ 861D 3A 4A 8D         ld a,(cam_x)
 178+ 8620 47               ld b,a
 179+ 8621 DD 7E 02         ld a,(ix+2) ;wX
 180+ 8624 90               sub b ;wX-camX
 181+ 8625 21 00 00         ld hl,0
 182+ 8628 ED 31            add hl,a
 183+ 862A 29               add hl,hl
 184+ 862B 29               add hl,hl
 185+ 862C 29               add hl,hl
 186+ 862D 3A 48 8D         ld a,(current_scroll)
 187+ 8630 47               ld b,a
 188+ 8631 3E 08            ld a,8
 189+ 8633 90               sub b
 190+ 8634 ED 31            add hl,a
 191+ 8636 DD 75 04         ld (ix+4),l
 192+ 8639 DD 74 05         ld (ix+5),h ;X8
 193+ 863C
 194+ 863C C9               ret
 195+ 863D
 196+ 863D
 197+ 863D              animate_object:
 198+ 863D DD 7E 08         ld a,(ix+8)
 199+ 8640 E6 C0            and %11000000
 200+ 8642 47               ld b,a
 201+ 8643 DD 7E 08         ld a,(ix+8)
 202+ 8646 E6 3F            and %00111111
 203+ 8648 DD AE 0B         xor (ix+11)
 204+ 864B 80               add a,b
 205+ 864C DD 77 08         ld (ix+8),a
 206+ 864F C9               ret
 207+ 8650
 208+ 8650
 209+ 8650              object_draw:
 210+ 8650 DD 7E 00         ld a,(ix)
 211+ 8653 FE 01            cp TRUE
 212+ 8655 C0               ret nz
 213+ 8656              obj_drw:
 214+ 8656 DD 7E 0A         ld a,(ix+10)
 215+ 8659 ED 92 34         nextreg $34,a
 216+ 865C
 217+ 865C                  ;attr 0
 218+ 865C DD 7E 04         ld a,(ix+4)
 219+ 865F ED 92 35         nextreg $35,a
 220+ 8662
 221+ 8662                  ;attr 1
 222+ 8662 DD 7E 06         ld a,(ix+6)
 223+ 8665 ED 92 36         nextreg $36,a
 224+ 8668
 225+ 8668                  ;attr 2
 226+ 8668 DD 7E 07         ld a,(ix+7)
 227+ 866B 47               ld b,a
 228+ 866C DD 7E 05         ld a,(ix+5)
 229+ 866F B0               or b
 230+ 8670 ED 92 37         nextreg $37,a
 231+ 8673
 232+ 8673                  ;attr 3
 233+ 8673 DD 7E 08         ld a,(ix+8)
 234+ 8676 ED 92 38         nextreg $38,a
 235+ 8679
 236+ 8679                  ;attr 4
 237+ 8679 DD 7E 09         ld a,(ix+9)
 238+ 867C ED 92 39         nextreg $39,a
 239+ 867F
 240+ 867F C9               ret
 241+ 8680
 242+ 8680
 243+ 8680
 244+ 8680
 245+ 8680
 246+ 8680
 247+ 8680
 248+ 8680              handle_behaviour:
 249+ 8680 DD 7E 00         ld a,(ix)
 250+ 8683 FE 00            cp FALSE
 251+ 8685 C8               ret z
 252+ 8686
 253+ 8686 DD 7E 01         ld a,(ix+1)
 254+ 8689 FE 01            cp OBJECT_GHOST
 255+ 868B CA 94 86         jp z, handle_behaviour_ghost
 256+ 868E FE 02            cp OBJECT_GHOST_WALKER
 257+ 8690 CA A4 86         jp z, handle_behaviour_ghost_walker
 258+ 8693 C9               ret
 259+ 8694
 260+ 8694
 261+ 8694              handle_behaviour_ghost:
 262+ 8694 DD 7E 0C         ld a,(ix+12)
 263+ 8697 FE 00            cp LEFT
 264+ 8699 CA A2 86         jp z,ghost_move_left
 265+ 869C FE 01            cp RIGHT
 266+ 869E CA A3 86         jp z,ghost_move_right
 267+ 86A1
 268+ 86A1 C9               ret
 269+ 86A2
 270+ 86A2              ghost_move_left:
 271+ 86A2                  ; ld a,(ix+2)
 272+ 86A2                  ; dec a
 273+ 86A2                  ; ld (ix+2),a
 274+ 86A2
 275+ 86A2                  ; ; ld a,h
 276+ 86A2                  ; ; or l
 277+ 86A2                  ; ; ret nz
 278+ 86A2
 279+ 86A2                  ; ; ld a,RIGHT
 280+ 86A2                  ; ; ld (ix+12),a
 281+ 86A2
 282+ 86A2 C9               ret
 283+ 86A3              ghost_move_right:
 284+ 86A3                  ; ld h,(ix+14)
 285+ 86A3                  ; ld l,(ix+15)
 286+ 86A3                  ; add hl,GHOST_SPEED
 287+ 86A3                  ; ld (ix+14),h
 288+ 86A3                  ; ld (ix+15),l
 289+ 86A3
 290+ 86A3                  ; ld a,l
 291+ 86A3                  ; cp GHOST_MAX_MOVEMENT_X
 292+ 86A3                  ; ret nz
 293+ 86A3
 294+ 86A3                  ; ld a,LEFT
 295+ 86A3                  ; ld (ix+12),a
 296+ 86A3
 297+ 86A3
 298+ 86A3 C9               ret
 299+ 86A4
 300+ 86A4
 301+ 86A4              handle_behaviour_ghost_walker:
 302+ 86A4 DD 7E 02         ld a,(ix+2)
 303+ 86A7 3D               dec a
 304+ 86A8 DD 77 02         ld (ix+2),a
 305+ 86AB
 306+ 86AB 47               ld b,a
 307+ 86AC 3A 4A 8D         ld a,(cam_x)
 308+ 86AF B8               cp b
 309+ 86B0 D8               ret c
 310+ 86B1
 311+ 86B1
 312+ 86B1                  ;kill ghost
 313+ 86B1 DD 36 01 64      ld (ix+1),OBJECT_DEAD
 314+ 86B5 CD DA 85         call obj_set_not_inview
 315+ 86B8
 316+ 86B8 C9               ret
 317+ 86B9
 318+ 86B9
 319+ 86B9
 320+ 86B9
 321+ 86B9
 322+ 86B9              object_check_collision_player
 323+ 86B9 DD 7E 00         ld a,(ix)
 324+ 86BC FE 01            cp TRUE
 325+ 86BE C0               ret nz
 326+ 86BF
 327+ 86BF DD 7E 01         ld a,(ix+1)
 328+ 86C2 FE 01            cp OBJECT_GHOST
 329+ 86C4 CA EE 86         jp z,checkcollision_player_ghost
 330+ 86C7 FE 02            cp OBJECT_GHOST_WALKER
 331+ 86C9 CA 09 87         jp z,checkcollision_player_ghostwalker
 332+ 86CC              obj_check_coll_y:
 333+ 86CC                  ;player above object:
 334+ 86CC DD 7E 06         ld a,(ix+6)
 335+ 86CF 47               ld b,a
 336+ 86D0 3A 97 80         ld a,(py)
 337+ 86D3 C6 20            add a,PLAYER_HEIGHT
 338+ 86D5 B8               cp b
 339+ 86D6 38 15            jr c,obj_nocollision
 340+ 86D8
 341+ 86D8                  ;player below object:
 342+ 86D8 3A 97 80         ld a,(py)
 343+ 86DB 47               ld b,a
 344+ 86DC DD 7E 06         ld a,(ix+6)
 345+ 86DF C6 10            add a,OBJECT_HEIGHT
 346+ 86E1 B8               cp b
 347+ 86E2 38 09            jr c,obj_nocollision
 348+ 86E4
 349+ 86E4 2A 95 80         ld hl,(px)
 350+ 86E7 DD 7E 05         ld a,(ix+5)
 351+ 86EA BC               cp h
 352+ 86EB 20 00            jr nz,obj_nocollision
 353+ 86ED
 354+ 86ED                  ;collided...
 355+ 86ED
 356+ 86ED              obj_nocollision:
 357+ 86ED C9               ret
 358+ 86EE
 359+ 86EE              checkcollision_player_ghost:
 360+ 86EE                  ;x axis collision check:
 361+ 86EE DD 66 04         ld h,(ix+4)
 362+ 86F1 DD 6E 05         ld l,(ix+5)
 363+ 86F4 DD 56 0E         ld d,(ix+14)
 364+ 86F7 DD 5E 0F         ld e,(ix+15)
 365+ 86FA 19               add hl,de
 366+ 86FB ED 5B 95 80      ld de,(px)
 367+ 86FF B7               or a
 368+ 8700 ED 52            sbc hl,de
 369+ 8702 7D               ld a,l
 370+ 8703 FE 1C            cp 28
 371+ 8705 DA CC 86         jp c,obj_check_coll_y
 372+ 8708 C9               ret
 373+ 8709
 374+ 8709              checkcollision_player_ghostwalker:
 375+ 8709                  ;x axis collision check:
 376+ 8709 DD 66 04         ld h,(ix+4)
 377+ 870C DD 6E 05         ld l,(ix+5)
 378+ 870F DD 56 0E         ld d,(ix+14)
 379+ 8712 DD 5E 0F         ld e,(ix+15)
 380+ 8715 B7               or a
 381+ 8716 ED 52            sbc hl,de
 382+ 8718 ED 5B 95 80      ld de,(px)
 383+ 871C B7               or a
 384+ 871D ED 52            sbc hl,de
 385+ 871F 7D               ld a,l
 386+ 8720 FE 1C            cp 28
 387+ 8722 DA CC 86         jp c,obj_check_coll_y
 388+ 8725 C9               ret
# file closed: src/objects.asm
  46  8726              	include 'game.asm'
# file opened: src/game.asm
   1+ 8726 00           frame_counter db 0
   2+ 8727
   3+ 8727              game_init:
   4+ 8727 CD 4D 8D         call layer2_init
   5+ 872A ED 91 56 0E      nextreg $56,14
   6+ 872E
   7+ 872E 06 17            ld b,WBOY_PATTERN_COUNT
   8+ 8730 21 00 C0         ld hl,$c000
   9+ 8733 CD A9 88         call sprites_init
  10+ 8736
  11+ 8736 CD 6E 8D         call tiles_init
  12+ 8739 CD AA 80         call player_init
  13+ 873C CD 5F 8F         call projectiles_init
  14+ 873F
  15+ 873F C9               ret
  16+ 8740
  17+ 8740
  18+ 8740              game_update:
  19+ 8740 06 0B            ld b,11
  20+ 8742 CD 39 80         call WaitRasterLine
  21+ 8745
  22+ 8745 3A 26 87         ld a,(frame_counter)
  23+ 8748 3C               inc a
  24+ 8749 32 26 87         ld (frame_counter),a
  25+ 874C
  26+ 874C CD B7 8D         call layer2_update
  27+ 874F CD 79 87         call check_keys
  28+ 8752 CD BC 81         call player_update
  29+ 8755 CD AE 80         call draw_debug_sprite
  30+ 8758 CD 6F 85         call objects_update
  31+ 875B CD A5 8F         call projectiles_update
  32+ 875E
  33+ 875E C9               ret
  34+ 875F
  35+ 875F              game_draw:
  36+ 875F CD 35 81         call player_draw
  37+ 8762 CD 84 85         call objects_draw
  38+ 8765 CD BA 8F         call projectiles_draw
  39+ 8768 C9               ret
  40+ 8769
  41+ 8769
# file closed: src/game.asm
  47  8769              	include 'retrotools\keycacher.asm'
# file opened: src/retrotools/keycacher.asm
   1+ 8769              ;Usage:
   2+ 8769              ;first call check_keys
   3+ 8769              ;compare states of cached values (eg. keypressed_W) before doing movement/actions etc.
   4+ 8769              ;after all actions, call reset_keys
   5+ 8769
   6+ 8769
   7+ 8769              ; 32766 B, N, M, Symbol Shift, Space
   8+ 8769              ; 49150 H, J, K, L, Enter
   9+ 8769              ; 57342 Y, U, I, O, P
  10+ 8769              ; 61438 6, 7, 8, 9, 0
  11+ 8769              ; 63486 5, 4, 3, 2, 1
  12+ 8769              ; 64510 T, R, E, W, Q
  13+ 8769              ; 65022 G, F, D, S, A
  14+ 8769              ; 65278 V, C, X, Z, Caps Shift
  15+ 8769
  16+ 8769
  17+ 8769 00           keypressed_W db FALSE
  18+ 876A 00           keypressed_W_Held db FALSE
  19+ 876B 00           keypressed_A db FALSE
  20+ 876C 00           keypressed_A_Held db FALSE
  21+ 876D 00           keypressed_S db FALSE
  22+ 876E 00           keypressed_S_Held db FALSE
  23+ 876F 00           keypressed_D db FALSE
  24+ 8770
  25+ 8770 00           keypressed_F db FALSE
  26+ 8771 00           keypressed_F_Held db FALSE
  27+ 8772 00           keypressed_I db FALSE
  28+ 8773 00           keypressed_Q db FALSE
  29+ 8774 00           keypressed_Q_Held db FALSE
  30+ 8775 00           keypressed_O db FALSE
  31+ 8776 00           keypressed_P db FALSE
  32+ 8777 00           keypressed_Space db FALSE
  33+ 8778 00           keypressed_Space_Held db FALSE
  34+ 8779
  35+ 8779              check_keys:
  36+ 8779 3A 69 87         ld a,(keypressed_W)
  37+ 877C FE 01            cp TRUE
  38+ 877E CC 31 88         call z,set_W_Held
  39+ 8781 C4 37 88         call nz, reset_W_Held
  40+ 8784
  41+ 8784 3A 6D 87         ld a,(keypressed_S)
  42+ 8787 FE 01            cp TRUE
  43+ 8789 CC 53 88         call z,set_S_Held
  44+ 878C C4 59 88         call nz, reset_S_Held
  45+ 878F
  46+ 878F 3A 70 87         ld a,(keypressed_F)
  47+ 8792 FE 01            cp TRUE
  48+ 8794 CC 6A 88         call z, set_F_Held
  49+ 8797 C4 70 88         call nz, reset_F_Held
  50+ 879A
  51+ 879A 3A 6B 87         ld a,(keypressed_A)
  52+ 879D FE 01            cp TRUE
  53+ 879F CC 42 88         call z,set_A_Held
  54+ 87A2 C4 48 88         call nz, reset_A_Held
  55+ 87A5
  56+ 87A5 3A 73 87         ld a,(keypressed_Q)
  57+ 87A8 FE 01            cp TRUE
  58+ 87AA CC 81 88         call z,set_Q_Held
  59+ 87AD C4 87 88         call nz, reset_Q_Held
  60+ 87B0
  61+ 87B0 3A 77 87         ld a,(keypressed_Space)
  62+ 87B3 FE 01            cp TRUE
  63+ 87B5 CC 9E 88         call z,set_Space_Held
  64+ 87B8 C4 A4 88         call nz, reset_Space_Held
  65+ 87BB
  66+ 87BB
  67+ 87BB
  68+ 87BB AF               xor a
  69+ 87BC 32 69 87         ld (keypressed_W),a
  70+ 87BF 32 6B 87         ld (keypressed_A),a
  71+ 87C2 32 6D 87         ld (keypressed_S),a
  72+ 87C5 32 6F 87         ld (keypressed_D),a
  73+ 87C8 32 70 87         ld (keypressed_F),a
  74+ 87CB 32 72 87         ld (keypressed_I),a
  75+ 87CE 32 73 87         ld (keypressed_Q),a
  76+ 87D1 32 75 87         ld (keypressed_O),a
  77+ 87D4 32 76 87         ld (keypressed_P),a
  78+ 87D7 32 77 87         ld (keypressed_Space),a
  79+ 87DA
  80+ 87DA
  81+ 87DA 01 FE FD         ld bc,0xFDFE ;ASDFG
  82+ 87DD ED 78            in a,(c)
  83+ 87DF 1F               rra
  84+ 87E0 F5               push af
  85+ 87E1 D4 3C 88         call nc, set_A
  86+ 87E4 F1               pop af
  87+ 87E5 1F               rra
  88+ 87E6 F5               push af
  89+ 87E7 D4 4D 88         call nc, set_S
  90+ 87EA F1               pop af
  91+ 87EB 1F               rra
  92+ 87EC F5               push af
  93+ 87ED D4 5E 88         call nc, set_D
  94+ 87F0 F1               pop af
  95+ 87F1 1F               rra
  96+ 87F2 F5               push af
  97+ 87F3 D4 64 88         call nc, set_F
  98+ 87F6 F1               pop af
  99+ 87F7
 100+ 87F7 01 FE FB         ld bc,0xFBFE ;QWERT
 101+ 87FA ED 78            in a,(c)
 102+ 87FC 1F               rra ;Q
 103+ 87FD F5               push af
 104+ 87FE D4 7B 88         call nc, set_Q
 105+ 8801 F1               pop af
 106+ 8802 1F               rra ;W
 107+ 8803 F5               push af
 108+ 8804 D4 2B 88         call nc, set_W
 109+ 8807 F1               pop af
 110+ 8808
 111+ 8808 01 FE DF         ld bc,0xDFFE ;POIUY
 112+ 880B ED 78            in a,(c)
 113+ 880D 1F               rra ;P
 114+ 880E F5               push af
 115+ 880F D4 92 88         call nc, set_P
 116+ 8812 F1               pop af
 117+ 8813 1F               rra ;O
 118+ 8814 F5               push af
 119+ 8815 D4 8C 88         call nc, set_O
 120+ 8818 F1               pop af
 121+ 8819 1F               rra ;I
 122+ 881A F5               push af
 123+ 881B D4 75 88         call nc, set_I
 124+ 881E F1               pop af
 125+ 881F
 126+ 881F 01 FE 7F         ld bc,32766
 127+ 8822 ED 78            in a,(c)
 128+ 8824 1F               rra
 129+ 8825 F5               push af
 130+ 8826 D4 98 88         call nc, set_Space
 131+ 8829 F1               pop af
 132+ 882A
 133+ 882A
 134+ 882A C9               ret
 135+ 882B
 136+ 882B              set_W:
 137+ 882B 3E 01            ld a,TRUE
 138+ 882D 32 69 87         ld (keypressed_W),a
 139+ 8830 C9               ret
 140+ 8831
 141+ 8831              set_W_Held:
 142+ 8831 3E 01            ld a,TRUE
 143+ 8833 32 6A 87         ld (keypressed_W_Held),a
 144+ 8836 C9               ret
 145+ 8837              reset_W_Held:
 146+ 8837 AF               xor a
 147+ 8838 32 6A 87         ld (keypressed_W_Held),a
 148+ 883B C9               ret
 149+ 883C
 150+ 883C              set_A:
 151+ 883C 3E 01            ld a,TRUE
 152+ 883E 32 6B 87         ld (keypressed_A),a
 153+ 8841 C9               ret
 154+ 8842
 155+ 8842              set_A_Held:
 156+ 8842 3E 01            ld a,TRUE
 157+ 8844 32 6C 87         ld (keypressed_A_Held),a
 158+ 8847 C9               ret
 159+ 8848
 160+ 8848              reset_A_Held:
 161+ 8848 AF               xor a
 162+ 8849 32 6C 87         ld (keypressed_A_Held),a
 163+ 884C C9               ret
 164+ 884D
 165+ 884D              set_S:
 166+ 884D 3E 01            ld a,TRUE
 167+ 884F 32 6D 87         ld (keypressed_S),a
 168+ 8852 C9               ret
 169+ 8853              set_S_Held:
 170+ 8853 3E 01            ld a,TRUE
 171+ 8855 32 6E 87         ld (keypressed_S_Held),a
 172+ 8858 C9               ret
 173+ 8859              reset_S_Held:
 174+ 8859 AF               xor a
 175+ 885A 32 6E 87         ld (keypressed_S_Held),a
 176+ 885D C9               ret
 177+ 885E
 178+ 885E              set_D:
 179+ 885E 3E 01            ld a,TRUE
 180+ 8860 32 6F 87         ld (keypressed_D),a
 181+ 8863 C9               ret
 182+ 8864
 183+ 8864              set_F:
 184+ 8864 3E 01            ld a,TRUE
 185+ 8866 32 70 87         ld (keypressed_F),a
 186+ 8869 C9               ret
 187+ 886A
 188+ 886A
 189+ 886A              set_F_Held:
 190+ 886A 3E 01            ld a,TRUE
 191+ 886C 32 71 87         ld (keypressed_F_Held),a
 192+ 886F C9               ret
 193+ 8870
 194+ 8870              reset_F_Held:
 195+ 8870 AF               xor a
 196+ 8871 32 71 87         ld (keypressed_F_Held),a
 197+ 8874 C9               ret
 198+ 8875
 199+ 8875
 200+ 8875
 201+ 8875              set_I:
 202+ 8875 3E 01            ld a,TRUE
 203+ 8877 32 72 87         ld (keypressed_I),a
 204+ 887A C9               ret
 205+ 887B
 206+ 887B
 207+ 887B              set_Q:
 208+ 887B 3E 01            ld a,TRUE
 209+ 887D 32 73 87         ld (keypressed_Q),a
 210+ 8880 C9               ret
 211+ 8881
 212+ 8881              set_Q_Held:
 213+ 8881 3E 01            ld a,TRUE
 214+ 8883 32 74 87         ld (keypressed_Q_Held),a
 215+ 8886 C9               ret
 216+ 8887
 217+ 8887              reset_Q_Held:
 218+ 8887 AF               xor a
 219+ 8888 32 74 87         ld (keypressed_Q_Held),a
 220+ 888B C9               ret
 221+ 888C
 222+ 888C              set_O:
 223+ 888C 3E 01            ld a,TRUE
 224+ 888E 32 75 87         ld (keypressed_O),a
 225+ 8891 C9               ret
 226+ 8892
 227+ 8892              set_P:
 228+ 8892 3E 01            ld a,TRUE
 229+ 8894 32 76 87         ld (keypressed_P),a
 230+ 8897 C9               ret
 231+ 8898
 232+ 8898              set_Space:
 233+ 8898 3E 01            ld a,TRUE
 234+ 889A 32 77 87         ld (keypressed_Space),a
 235+ 889D C9               ret
 236+ 889E              set_Space_Held:
 237+ 889E 3E 01            ld a,TRUE
 238+ 88A0 32 78 87         ld (keypressed_Space_Held),a
 239+ 88A3 C9               ret
 240+ 88A4
 241+ 88A4              reset_Space_Held:
 242+ 88A4 AF               xor a
 243+ 88A5 32 78 87         ld (keypressed_Space_Held),a
 244+ 88A8 C9               ret
 245+ 88A9
# file closed: src/retrotools/keycacher.asm
  48  88A9              	include 'retrotools\spritetools.asm'
# file opened: src/retrotools/spritetools.asm
   1+ 88A9              VISIBILITY equ %10000000
   2+ 88A9              EXTENDED equ %01000000
   3+ 88A9              MIRROR_X equ %00001000
   4+ 88A9              MIRROR_Y equ %00000100
   5+ 88A9
   6+ 88A9              ; Sprite Attribute 0
   7+ 88A9              ;     X X X X X X X X
   8+ 88A9
   9+ 88A9              ; Sprite Attribute 1
  10+ 88A9              ;     Y Y Y Y Y Y Y Y
  11+ 88A9
  12+ 88A9              ; Sprite Attribute 2
  13+ 88A9              ;     P P P P XM YM R X8/PR
  14+ 88A9
  15+ 88A9              ; Sprite Attribute 3
  16+ 88A9              ;     V E N5 N4 N3 N2 N1 N0 (NNNNN=Pattern ID)
  17+ 88A9
  18+ 88A9              ; Sprite Attribute 4
  19+ 88A9              ; A. Extended Anchor Sprite
  20+ 88A9              ;     H N6 T X X Y Y Y8
  21+ 88A9              ; B. Relative Sprite, Composite Type
  22+ 88A9              ;     0 1 N6 X X Y Y PO
  23+ 88A9              ; C. Relative Sprite, Unified Type
  24+ 88A9              ;     0 1 N6 0 0 0 0 PO
  25+ 88A9
  26+ 88A9
  27+ 88A9
  28+ 88A9              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  29+ 88A9              ;; Upload spritesheet to 16K FPGA Internal Memory
  30+ 88A9              ;; Inputs: B=Sprite Count HL=Sprite data Ptr
  31+ 88A9              ;; Outputs: none
  32+ 88A9              ;; Destroys: A,BC,HL
  33+ 88A9              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  34+ 88A9              sprites_init:
  35+ 88A9 C5           	push bc
  36+ 88AA 3E 00        	ld a,0
  37+ 88AC 01 3B 30     	ld bc,$303b
  38+ 88AF ED 79        	out (c),a
  39+ 88B1 C1           	pop bc
  40+ 88B2              is_loop:
  41+ 88B2 C5           	push bc
  42+ 88B3 01 5B 00     	ld bc,$005b
  43+ 88B6 ED B3        	otir
  44+ 88B8 C1           	pop bc
  45+ 88B9 10 F7        	djnz is_loop
  46+ 88BB C9           	ret
# file closed: src/retrotools/spritetools.asm
  49  88BC              	include 'levels\levels.asm'
# file opened: src/levels/levels.asm
   1+ 88BC              ; another way to check solids (if not in order)
   2+ 88BC              super_solids:
   3+ 88BC 11 13 31         db 17,19,49
   4+ 88BF
   5+ 88BF              SOLIDS_LENGTH equ 3
   6+ 88BF
   7+ 88BF              ;INPUTS:
   8+ 88BF              ;A=value to test against 'solids' array
   9+ 88BF              check_solid:
  10+ 88BF 21 BC 88         ld hl,super_solids
  11+ 88C2 01 03 00         ld bc,SOLIDS_LENGTH
  12+ 88C5 ED B1            cpir
  13+ 88C7 C9               ret
  14+ 88C8
  15+ 88C8
  16+ 88C8              ;Platform::
  17+ 88C8              ;01 03 03 01*
  18+ 88C8              ;17 19 19 17*
  19+ 88C8              ;02 04 04 02*
  20+ 88C8              ;18 20 20 18*
  21+ 88C8
  22+ 88C8
  23+ 88C8
  24+ 88C8
  25+ 88C8              superlevel:
  26+ 88C8 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  26+ 88CC 00 00 00 00
  26+ 88D0 00 00 00 00
  26+ 88D4 00 00 00 00
  26+ 88D8 00 00 00 00
  26+ 88DC 00 00 00 00
  26+ 88E0 00 00 00 00
  26+ 88E4 00 00 00 00
  26+ 88E8 00 00 00 00
  26+ 88EC 00 00 00 00
  26+ 88F0 00 00 00 00
  26+ 88F4 00 00 00 00
  26+ 88F8 00 00 00 00
  26+ 88FC 00 00 00 00
  26+ 8900 00 00 00 00
  26+ 8904 00 00 00 00
  26+ 8908 00 00 00 00
  26+ 890C 00 00 00 00
  26+ 8910 00 00 00 00
  26+ 8914 00 00 00 00
  27+ 8918 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,03,03,33,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  27+ 891C 00 00 00 00
  27+ 8920 00 00 00 00
  27+ 8924 00 00 00 00
  27+ 8928 00 00 00 00
  27+ 892C 00 00 00 00
  27+ 8930 00 00 00 00
  27+ 8934 00 00 00 00
  27+ 8938 00 00 00 00
  27+ 893C 00 00 00 00
  27+ 8940 00 00 00 00
  27+ 8944 00 00 00 00
  27+ 8948 00 00 00 00
  27+ 894C 00 01 03 03
  27+ 8950 03 21 00 00
  27+ 8954 00 00 00 00
  27+ 8958 00 00 00 00
  27+ 895C 00 00 00 00
  27+ 8960 00 00 00 00
  27+ 8964 00 00 00 00
  28+ 8968 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,17,19,19,19,49,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  28+ 896C 00 00 00 00
  28+ 8970 00 00 00 00
  28+ 8974 00 00 00 00
  28+ 8978 00 00 00 00
  28+ 897C 00 00 00 00
  28+ 8980 00 00 00 00
  28+ 8984 00 00 00 00
  28+ 8988 00 00 00 00
  28+ 898C 00 00 00 00
  28+ 8990 00 00 00 00
  28+ 8994 00 00 00 00
  28+ 8998 00 00 00 00
  28+ 899C 00 11 13 13
  28+ 89A0 13 31 00 00
  28+ 89A4 00 00 00 00
  28+ 89A8 00 00 00 00
  28+ 89AC 00 00 00 00
  28+ 89B0 00 00 00 00
  28+ 89B4 00 00 00 00
  29+ 89B8 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,33,00,00,01,03,03,03,33,00,02,20,20,20,34,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  29+ 89BC 00 00 00 00
  29+ 89C0 00 00 00 00
  29+ 89C4 00 00 00 00
  29+ 89C8 00 00 00 00
  29+ 89CC 00 00 00 00
  29+ 89D0 00 00 00 00
  29+ 89D4 00 00 00 00
  29+ 89D8 00 00 00 00
  29+ 89DC 00 00 00 00
  29+ 89E0 00 00 00 01
  29+ 89E4 21 00 00 01
  29+ 89E8 03 03 03 21
  29+ 89EC 00 02 14 14
  29+ 89F0 14 22 00 00
  29+ 89F4 00 00 00 00
  29+ 89F8 00 00 00 00
  29+ 89FC 00 00 00 00
  29+ 8A00 00 00 00 00
  29+ 8A04 00 00 00 00
  30+ 8A08 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,03,03,03,03,03,03,03,03,03,03,33,00,00,00,00,00,00,00,00,00,00,17,19,00,00,17,19,19,19,49,00,18,19,19,19,50,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  30+ 8A0C 00 00 00 00
  30+ 8A10 00 00 00 00
  30+ 8A14 00 00 00 00
  30+ 8A18 00 00 00 00
  30+ 8A1C 01 03 03 03
  30+ 8A20 03 03 03 03
  30+ 8A24 03 03 03 03
  30+ 8A28 21 00 00 00
  30+ 8A2C 00 00 00 00
  30+ 8A30 00 00 00 11
  30+ 8A34 13 00 00 11
  30+ 8A38 13 13 13 31
  30+ 8A3C 00 12 13 13
  30+ 8A40 13 32 00 00
  30+ 8A44 00 00 00 00
  30+ 8A48 00 00 00 00
  30+ 8A4C 00 00 00 00
  30+ 8A50 00 00 00 00
  30+ 8A54 00 00 00 00
  31+ 8A58 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,17,19,19,19,19,19,19,19,19,19,19,19,49,00,00,00,00,00,01,03,03,03,03,02,49,00,00,02,20,20,20,34,00,02,20,20,20,34,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  31+ 8A5C 00 00 00 00
  31+ 8A60 00 00 00 00
  31+ 8A64 00 00 00 00
  31+ 8A68 00 00 00 00
  31+ 8A6C 11 13 13 13
  31+ 8A70 13 13 13 13
  31+ 8A74 13 13 13 13
  31+ 8A78 31 00 00 00
  31+ 8A7C 00 00 01 03
  31+ 8A80 03 03 03 02
  31+ 8A84 31 00 00 02
  31+ 8A88 14 14 14 22
  31+ 8A8C 00 02 14 14
  31+ 8A90 14 22 00 00
  31+ 8A94 00 00 00 00
  31+ 8A98 00 00 00 00
  31+ 8A9C 00 00 00 00
  31+ 8AA0 00 00 00 00
  31+ 8AA4 00 00 00 00
  32+ 8AA8 00 01 03 03      db 00,01,03,03,03,03,03,33,00,00,01,03,03,03,03,03,03,03,03,33,02,20,20,20,20,20,20,20,20,20,20,20,34,03,03,03,33,00,17,19,19,19,19,19,34,00,00,18,19,19,19,50,00,18,19,19,19,50,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  32+ 8AAC 03 03 03 21
  32+ 8AB0 00 00 01 03
  32+ 8AB4 03 03 03 03
  32+ 8AB8 03 03 03 21
  32+ 8ABC 02 14 14 14
  32+ 8AC0 14 14 14 14
  32+ 8AC4 14 14 14 14
  32+ 8AC8 22 03 03 03
  32+ 8ACC 21 00 11 13
  32+ 8AD0 13 13 13 13
  32+ 8AD4 22 00 00 12
  32+ 8AD8 13 13 13 32
  32+ 8ADC 00 12 13 13
  32+ 8AE0 13 32 00 00
  32+ 8AE4 00 00 00 00
  32+ 8AE8 00 00 00 00
  32+ 8AEC 00 00 00 00
  32+ 8AF0 00 00 00 00
  32+ 8AF4 00 00 00 00
  33+ 8AF8 00 11 13 13      db 00,17,19,19,19,19,19,49,00,00,17,19,19,19,19,19,19,19,19,49,18,19,19,19,19,19,19,19,19,19,19,19,50,19,19,19,49,00,02,20,20,20,20,20,50,00,00,02,20,20,20,34,00,02,20,20,20,34,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
  33+ 8AFC 13 13 13 31
  33+ 8B00 00 00 11 13
  33+ 8B04 13 13 13 13
  33+ 8B08 13 13 13 31
  33+ 8B0C 12 13 13 13
  33+ 8B10 13 13 13 13
  33+ 8B14 13 13 13 13
  33+ 8B18 32 13 13 13
  33+ 8B1C 31 00 02 14
  33+ 8B20 14 14 14 14
  33+ 8B24 32 00 00 02
  33+ 8B28 14 14 14 22
  33+ 8B2C 00 02 14 14
  33+ 8B30 14 22 00 00
  33+ 8B34 00 00 00 00
  33+ 8B38 00 00 00 00
  33+ 8B3C 00 00 00 00
  33+ 8B40 00 00 00 00
  33+ 8B44 00 00 00 00
  34+ 8B48
  35+ 8B48
  36+ 8B48              supertiles:
  37+ 8B48 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR   ;supertile 0
  37+ 8B4C 00 00 00 00
  38+ 8B50 02 00 03 00      db 2,TILE_ATTR_NOMIRROR,3,TILE_ATTR_NOMIRROR,34,TILE_ATTR_NOMIRROR,35,TILE_ATTR_NOMIRROR ;1
  38+ 8B54 22 00 23 00
  39+ 8B58 04 00 05 00      db 4,TILE_ATTR_NOMIRROR,5,TILE_ATTR_NOMIRROR,36,TILE_ATTR_NOMIRROR,37,TILE_ATTR_NOMIRROR ;2
  39+ 8B5C 24 00 25 00
  40+ 8B60 06 00 07 00      db 6,TILE_ATTR_NOMIRROR,7,TILE_ATTR_NOMIRROR,38,TILE_ATTR_NOMIRROR,39,TILE_ATTR_NOMIRROR ;3
  40+ 8B64 26 00 27 00
  41+ 8B68 08 00 09 00      db 8,TILE_ATTR_NOMIRROR,9,TILE_ATTR_NOMIRROR,40,TILE_ATTR_NOMIRROR,41,TILE_ATTR_NOMIRROR ;4
  41+ 8B6C 28 00 29 00
  42+ 8B70 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  42+ 8B74 00 00 00 00
  43+ 8B78 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  43+ 8B7C 00 00 00 00
  44+ 8B80 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  44+ 8B84 00 00 00 00
  45+ 8B88 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  45+ 8B8C 00 00 00 00
  46+ 8B90 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  46+ 8B94 00 00 00 00
  47+ 8B98 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  47+ 8B9C 00 00 00 00
  48+ 8BA0 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  48+ 8BA4 00 00 00 00
  49+ 8BA8 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  49+ 8BAC 00 00 00 00
  50+ 8BB0 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  50+ 8BB4 00 00 00 00
  51+ 8BB8 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  51+ 8BBC 00 00 00 00
  52+ 8BC0 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  52+ 8BC4 00 00 00 00
  53+ 8BC8 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  53+ 8BCC 00 00 00 00
  54+ 8BD0 42 00 43 00      db 66,TILE_ATTR_NOMIRROR,67,TILE_ATTR_NOMIRROR,98,TILE_ATTR_NOMIRROR,99,TILE_ATTR_NOMIRROR ;17
  54+ 8BD4 62 00 63 00
  55+ 8BD8 44 00 45 00      db 68,TILE_ATTR_NOMIRROR,69,TILE_ATTR_NOMIRROR,100,TILE_ATTR_NOMIRROR,101,TILE_ATTR_NOMIRROR ;18
  55+ 8BDC 64 00 65 00
  56+ 8BE0 46 00 47 00      db 70,TILE_ATTR_NOMIRROR,71,TILE_ATTR_NOMIRROR,102,TILE_ATTR_NOMIRROR,103,TILE_ATTR_NOMIRROR ;19
  56+ 8BE4 66 00 67 00
  57+ 8BE8 48 00 49 00      db 72,TILE_ATTR_NOMIRROR,73,TILE_ATTR_NOMIRROR,104,TILE_ATTR_NOMIRROR,105,TILE_ATTR_NOMIRROR ;20
  57+ 8BEC 68 00 69 00
  58+ 8BF0 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  58+ 8BF4 00 00 00 00
  59+ 8BF8 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  59+ 8BFC 00 00 00 00
  60+ 8C00 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  60+ 8C04 00 00 00 00
  61+ 8C08 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  61+ 8C0C 00 00 00 00
  62+ 8C10 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  62+ 8C14 00 00 00 00
  63+ 8C18 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  63+ 8C1C 00 00 00 00
  64+ 8C20 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  64+ 8C24 00 00 00 00
  65+ 8C28 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  65+ 8C2C 00 00 00 00
  66+ 8C30 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
  66+ 8C34 00 00 00 00
  67+ 8C38 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR ;30
  67+ 8C3C 00 00 00 00
  68+ 8C40 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR ;31 - end of definitions
  68+ 8C44 00 00 00 00
  69+ 8C48 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;32 0*
  69+ 8C4C 00 08 00 08
  70+ 8C50 03 08 02 08      db 3,TILE_ATTR_MIRROR,2,TILE_ATTR_MIRROR,35,TILE_ATTR_MIRROR,34,TILE_ATTR_MIRROR ;33 1*
  70+ 8C54 23 08 22 08
  71+ 8C58 05 08 04 08      db 5,TILE_ATTR_MIRROR,4,TILE_ATTR_MIRROR,37,TILE_ATTR_MIRROR,36,TILE_ATTR_MIRROR ;34 2*
  71+ 8C5C 25 08 24 08
  72+ 8C60 07 08 06 08      db 7,TILE_ATTR_MIRROR,6,TILE_ATTR_MIRROR,39,TILE_ATTR_MIRROR,38,TILE_ATTR_MIRROR ;35 3*
  72+ 8C64 27 08 26 08
  73+ 8C68 09 08 08 08      db 9,TILE_ATTR_MIRROR,8,TILE_ATTR_MIRROR,41,TILE_ATTR_MIRROR,40,TILE_ATTR_MIRROR ;36 4*
  73+ 8C6C 29 08 28 08
  74+ 8C70 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  74+ 8C74 00 08 00 08
  75+ 8C78 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  75+ 8C7C 00 08 00 08
  76+ 8C80 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  76+ 8C84 00 08 00 08
  77+ 8C88 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  77+ 8C8C 00 08 00 08
  78+ 8C90 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  78+ 8C94 00 08 00 08
  79+ 8C98 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  79+ 8C9C 00 08 00 08
  80+ 8CA0 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  80+ 8CA4 00 08 00 08
  81+ 8CA8 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  81+ 8CAC 00 08 00 08
  82+ 8CB0 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  82+ 8CB4 00 08 00 08
  83+ 8CB8 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  83+ 8CBC 00 08 00 08
  84+ 8CC0 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  84+ 8CC4 00 08 00 08
  85+ 8CC8 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  85+ 8CCC 00 08 00 08
  86+ 8CD0 43 08 42 08      db 67,TILE_ATTR_MIRROR,66,TILE_ATTR_MIRROR,99,TILE_ATTR_MIRROR,98,TILE_ATTR_MIRROR ;49 17*
  86+ 8CD4 63 08 62 08
  87+ 8CD8 45 08 44 08      db 69,TILE_ATTR_MIRROR,68,TILE_ATTR_MIRROR,101,TILE_ATTR_MIRROR,100,TILE_ATTR_MIRROR ;50 18*
  87+ 8CDC 65 08 64 08
  88+ 8CE0 47 08 46 08      db 71,TILE_ATTR_MIRROR,70,TILE_ATTR_MIRROR,103,TILE_ATTR_MIRROR,102,TILE_ATTR_MIRROR ;19*
  88+ 8CE4 67 08 66 08
  89+ 8CE8 49 08 48 08      db 73,TILE_ATTR_MIRROR,72,TILE_ATTR_MIRROR,105,TILE_ATTR_MIRROR,104,TILE_ATTR_MIRROR ;20*
  89+ 8CEC 69 08 68 08
  90+ 8CF0 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  90+ 8CF4 00 08 00 08
  91+ 8CF8 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  91+ 8CFC 00 08 00 08
  92+ 8D00 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  92+ 8D04 00 08 00 08
  93+ 8D08 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  93+ 8D0C 00 08 00 08
  94+ 8D10 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  94+ 8D14 00 08 00 08
  95+ 8D18 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  95+ 8D1C 00 08 00 08
  96+ 8D20 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  96+ 8D24 00 08 00 08
  97+ 8D28 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  97+ 8D2C 00 08 00 08
  98+ 8D30 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
  98+ 8D34 00 08 00 08
  99+ 8D38 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;30*
  99+ 8D3C 00 08 00 08
 100+ 8D40 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;31*
 100+ 8D44 00 08 00 08
 101+ 8D48                  ;supertile 31 is last
 102+ 8D48
 103+ 8D48
 104+ 8D48
# file closed: src/levels/levels.asm
  50  8D48              	include 'levels\levelmanager.asm'
# file opened: src/levels/levelmanager.asm
   1+ 8D48              TILE_DEFINITIONS_SIZE equ 4096
   2+ 8D48
   3+ 8D48
   4+ 8D48              VIEW_WIDTH equ 40
   5+ 8D48              VIEW_HEIGHT equ 32
   6+ 8D48
   7+ 8D48              VIEW_WIDTH_META equ 20
   8+ 8D48
   9+ 8D48              LEVEL_START_ADDRESS equ $4500 ;half way down
  10+ 8D48              LEVEL_WIDTH_META equ 80
  11+ 8D48              LEVEL_HEIGHT_META equ 8
  12+ 8D48
  13+ 8D48              OUT_OF_WORLD equ LEVEL_WIDTH_META+1
  14+ 8D48
  15+ 8D48
  16+ 8D48              TILE_ATTR_NOMIRROR equ %00000000
  17+ 8D48              TILE_ATTR_MIRROR equ %00001000
  18+ 8D48
  19+ 8D48
  20+ 8D48
  21+ 8D48 00           current_scroll db 0
  22+ 8D49 01           scroll_direction db RIGHT
  23+ 8D4A
  24+ 8D4A              LEVEL_START equ 0
  25+ 8D4A
  26+ 8D4A 00           cam_x db LEVEL_START
  27+ 8D4B
  28+ 8D4B 40 01        layer2_scroll dw 320
  29+ 8D4D
  30+ 8D4D
  31+ 8D4D              layer2_init:
  32+ 8D4D                  CLIP_LAYER2 8,151,0,255 ;layer 2 is basically rotated to do 320x256 mode
  32+ 8D4D 3E 08       >		ld a,8
  32+ 8D4F ED 92 18    >		nextreg $18,a
  32+ 8D52 3E 97       >		ld a,151
  32+ 8D54 ED 92 18    >		nextreg $18,a
  32+ 8D57 3E 00       >		ld a,0
  32+ 8D59 ED 92 18    >		nextreg $18,a
  32+ 8D5C 3E FF       >		ld a,255
  32+ 8D5E ED 92 18    >		nextreg $18,a
  32+ 8D61             >
  33+ 8D61
  34+ 8D61 ED 91 70 10      nextreg $70, %00010000 ;bit5-4=320x256x8bpp mode
  35+ 8D65 ED 91 69 80      nextreg $69, %10000000 ;bit7=enable layer2
  36+ 8D69 ED 91 12 14  	nextreg $12,20 ;layer2 ram page register
  37+ 8D6D C9               ret
  38+ 8D6E
  39+ 8D6E              tiles_init:
  40+ 8D6E                  CLIPTILES 8,151,0,255
  40+ 8D6E 3E 08       >		ld a,8
  40+ 8D70 ED 92 1B    >		nextreg $1b,a
  40+ 8D73 3E 97       >		ld a,151
  40+ 8D75 ED 92 1B    >		nextreg $1b,a
  40+ 8D78 3E 00       >		ld a,0
  40+ 8D7A ED 92 1B    >		nextreg $1b,a
  40+ 8D7D 3E FF       >		ld a,255
  40+ 8D7F ED 92 1B    >		nextreg $1b,a
  40+ 8D82             >
  41+ 8D82 CD D1 8D         call tiles_set_palette
  42+ 8D85
  43+ 8D85                  ;load the tile defs
  44+ 8D85 ED 91 56 10      nextreg $56, 16
  45+ 8D89 21 00 C0         ld hl,$c000
  46+ 8D8C 11 00 60         ld de,$6000
  47+ 8D8F 01 00 10         ld bc,TILE_DEFINITIONS_SIZE
  48+ 8D92 ED B0            ldir
  49+ 8D94
  50+ 8D94 ED 91 6B 80      nextreg $6b, %10000000
  51+ 8D98 ED 91 6C 00      nextreg $6c, 0
  52+ 8D9C ED 91 6E 40      nextreg $6e, $40
  53+ 8DA0 ED 91 6F 60      nextreg $6f, $60
  54+ 8DA4 ED 91 68 80      nextreg $68, %10000000
  55+ 8DA8 ED 91 43 30      nextreg $43, %00110000
  56+ 8DAC
  57+ 8DAC AF               xor a ;black
  58+ 8DAD ED 92 4C         nextreg $4c,a ;tilemap transparency colour
  59+ 8DB0 ED 92 14         nextreg $14,a; global transparency colour
  60+ 8DB3
  61+ 8DB3 CD EB 8D         call view_init
  62+ 8DB6
  63+ 8DB6 C9               ret
  64+ 8DB7
  65+ 8DB7
  66+ 8DB7              layer2_update:
  67+ 8DB7 2A 4B 8D         ld hl,(layer2_scroll)
  68+ 8DBA 7D               ld a,l
  69+ 8DBB ED 92 16         nextreg $16, a
  70+ 8DBE 7C               ld a,h
  71+ 8DBF ED 92 71         nextreg $71, a
  72+ 8DC2 2B               dec hl
  73+ 8DC3 2B               dec hl
  74+ 8DC4
  75+ 8DC4 22 4B 8D         ld (layer2_scroll),hl
  76+ 8DC7 7C               ld a,h
  77+ 8DC8 B5               or l
  78+ 8DC9 C0               ret nz
  79+ 8DCA
  80+ 8DCA 21 40 01         ld hl,320
  81+ 8DCD 22 4B 8D         ld (layer2_scroll),hl
  82+ 8DD0
  83+ 8DD0 C9               ret
  84+ 8DD1
  85+ 8DD1
  86+ 8DD1
  87+ 8DD1
  88+ 8DD1              tiles_set_palette:
  89+ 8DD1 21 E1 91         ld hl,caveman_palette
  90+ 8DD4 ED 91 43 30      nextreg $43,%00110000
  91+ 8DD8 AF               xor a
  92+ 8DD9 06 10            ld b,16
  93+ 8DDB ED 92 40         nextreg $40,a
  94+ 8DDE              uploadpal:
  95+ 8DDE 7E               ld a,(hl)
  96+ 8DDF ED 92 44         nextreg $44,a
  97+ 8DE2 23               inc hl
  98+ 8DE3 7E               ld a,(hl)
  99+ 8DE4 ED 92 44         nextreg $44,a
 100+ 8DE7 23               inc hl
 101+ 8DE8 10 F4            djnz uploadpal
 102+ 8DEA C9               ret
 103+ 8DEB
 104+ 8DEB
 105+ 8DEB              ;does 2 passes per 'map' line, due to 2 rows within each supertile
 106+ 8DEB              view_init:
 107+ 8DEB DD 21 C8 88      ld ix,superlevel ;point at level 'map' (in super tiles)
 108+ 8DEF 11 00 45         ld de,$4500 ;
 109+ 8DF2 0E 00            ld c,0
 110+ 8DF4              view_init_screen:
 111+ 8DF4 06 14            ld b,VIEW_WIDTH_META
 112+ 8DF6              view_init_line_pass1:
 113+ 8DF6 21 48 8B         ld hl,supertiles
 114+ 8DF9 DD 7E 00         ld a,(ix)
 115+ 8DFC 87               add a,a
 116+ 8DFD 87               add a,a ;A*4 (supertile size)
 117+ 8DFE ED 31            add hl,a
 118+ 8E00 ED 31            add hl,a ;add twice to hl because supertile elements are 2 bytes each
 119+ 8E02 7E               ld a,(hl)
 120+ 8E03 12               ld (de),a
 121+ 8E04 23               inc hl
 122+ 8E05 13               inc de
 123+ 8E06 7E               ld a,(hl)
 124+ 8E07 12               ld (de),a
 125+ 8E08 23               inc hl
 126+ 8E09 13               inc de
 127+ 8E0A 7E               ld a,(hl)
 128+ 8E0B 12               ld (de),a
 129+ 8E0C 23               inc hl
 130+ 8E0D 13               inc de
 131+ 8E0E 7E               ld a,(hl)
 132+ 8E0F 12               ld (de),a
 133+ 8E10 13               inc de
 134+ 8E11 DD 23            inc ix
 135+ 8E13 10 E1            djnz view_init_line_pass1
 136+ 8E15 06 14            ld b,VIEW_WIDTH_META
 137+ 8E17              view_init_golineback:
 138+ 8E17 DD 2B            dec ix
 139+ 8E19 10 FC            djnz view_init_golineback
 140+ 8E1B 06 14            ld b,VIEW_WIDTH_META
 141+ 8E1D              view_init_line_pass2:
 142+ 8E1D 21 48 8B         ld hl,supertiles
 143+ 8E20 DD 7E 00         ld a,(ix)
 144+ 8E23 87               add a,a
 145+ 8E24 87               add a,a ;A*4 (supertile size)
 146+ 8E25 ED 31            add hl,a
 147+ 8E27 ED 31            add hl,a
 148+ 8E29 3E 04            ld a,4
 149+ 8E2B ED 31            add hl,a
 150+ 8E2D 7E               ld a,(hl)
 151+ 8E2E 12               ld (de),a
 152+ 8E2F 23               inc hl
 153+ 8E30 13               inc de
 154+ 8E31 7E               ld a,(hl)
 155+ 8E32 12               ld (de),a
 156+ 8E33 23               inc hl
 157+ 8E34 13               inc de
 158+ 8E35 7E               ld a,(hl)
 159+ 8E36 12               ld (de),a
 160+ 8E37 23               inc hl
 161+ 8E38 13               inc de
 162+ 8E39 7E               ld a,(hl)
 163+ 8E3A 12               ld (de),a
 164+ 8E3B 13               inc de
 165+ 8E3C DD 23            inc ix
 166+ 8E3E 10 DD            djnz view_init_line_pass2
 167+ 8E40
 168+ 8E40 D5               push de
 169+ 8E41 11 3C 00         ld de,LEVEL_WIDTH_META-VIEW_WIDTH_META
 170+ 8E44 DD 19            add ix,de
 171+ 8E46 D1               pop de
 172+ 8E47 0C               inc c
 173+ 8E48 79               ld a,c
 174+ 8E49 FE 08            cp LEVEL_HEIGHT_META
 175+ 8E4B DA F4 8D         jp c,view_init_screen
 176+ 8E4E C9               ret
 177+ 8E4F
 178+ 8E4F
 179+ 8E4F              MAX_SCROLL equ 16
 180+ 8E4F
 181+ 8E4F
 182+ 8E4F              scroll_left:
 183+ 8E4F 3A 49 8D         ld a,(scroll_direction)
 184+ 8E52 FE 00            cp LEFT
 185+ 8E54 CA 5C 8E         jp z,do_scroll_left
 186+ 8E57
 187+ 8E57 3E 00            ld a,LEFT
 188+ 8E59 32 49 8D         ld (scroll_direction),a
 189+ 8E5C              do_scroll_left:
 190+ 8E5C 3A 4A 8D         ld a,(cam_x)
 191+ 8E5F FE 00            cp 0
 192+ 8E61 CA E9 83         jp z,p_move_left
 193+ 8E64
 194+ 8E64 3A 48 8D         ld a,(current_scroll)
 195+ 8E67 3D               dec a
 196+ 8E68 32 48 8D         ld (current_scroll),a
 197+ 8E6B FE FF            cp $ff
 198+ 8E6D CC 77 8E         call z,sl_scrollmax
 199+ 8E70 3A 48 8D         ld a,(current_scroll)
 200+ 8E73 ED 92 30         nextreg $30,a
 201+ 8E76 C9               ret
 202+ 8E77              sl_scrollmax:
 203+ 8E77 21 FC 49         ld hl,$4a00-4
 204+ 8E7A 11 00 4A         ld de,$4a00
 205+ 8E7D 01 00 05         ld bc,20*32*2
 206+ 8E80 ED B8            lddr
 207+ 8E82
 208+ 8E82 3A 4A 8D         ld a,(cam_x)
 209+ 8E85 3D               dec a
 210+ 8E86 32 4A 8D         ld (cam_x),a
 211+ 8E89
 212+ 8E89 21 C8 88         ld hl,superlevel
 213+ 8E8C 3A 4A 8D         ld a,(cam_x)
 214+ 8E8F ED 31            add hl,a
 215+ 8E91 11 00 45         ld de,LEVEL_START_ADDRESS
 216+ 8E94 06 08            ld b,LEVEL_HEIGHT_META
 217+ 8E96 CD F2 8E         call putsupercolumn
 218+ 8E99
 219+ 8E99 3E 0F            ld a,MAX_SCROLL-1
 220+ 8E9B 32 48 8D         ld (current_scroll),a
 221+ 8E9E
 222+ 8E9E
 223+ 8E9E
 224+ 8E9E C9               ret
 225+ 8E9F
 226+ 8E9F
 227+ 8E9F
 228+ 8E9F              scroll_right:
 229+ 8E9F 3A 49 8D         ld a,(scroll_direction)
 230+ 8EA2 FE 01            cp RIGHT
 231+ 8EA4 CA AC 8E         jp z,do_scroll_right
 232+ 8EA7
 233+ 8EA7 3E 01            ld a,RIGHT
 234+ 8EA9 32 49 8D         ld (scroll_direction),a
 235+ 8EAC
 236+ 8EAC              do_scroll_right:
 237+ 8EAC 3A 4A 8D         ld a,(cam_x)
 238+ 8EAF C6 14            add a,VIEW_WIDTH_META
 239+ 8EB1 FE 50            cp LEVEL_WIDTH_META
 240+ 8EB3 D2 2E 84         jp nc, p_move_right
 241+ 8EB6
 242+ 8EB6 3A 48 8D         ld a,(current_scroll)
 243+ 8EB9 3C               inc a
 244+ 8EBA 32 48 8D         ld (current_scroll),a
 245+ 8EBD FE 10            cp MAX_SCROLL
 246+ 8EBF CC C9 8E         call z,sr_scrollmax
 247+ 8EC2 3A 48 8D         ld a,(current_scroll)
 248+ 8EC5 ED 92 30         nextreg $30,a
 249+ 8EC8 C9               ret
 250+ 8EC9
 251+ 8EC9              sr_scrollmax:
 252+ 8EC9 21 04 45         ld hl,LEVEL_START_ADDRESS+4
 253+ 8ECC 11 00 45         ld de,LEVEL_START_ADDRESS
 254+ 8ECF 01 00 05         ld bc,20*32*2
 255+ 8ED2 ED B0            ldir
 256+ 8ED4
 257+ 8ED4 21 C8 88         ld hl,superlevel
 258+ 8ED7 3A 4A 8D         ld a,(cam_x)
 259+ 8EDA C6 14            add a,VIEW_WIDTH_META
 260+ 8EDC ED 31            add hl,a
 261+ 8EDE 11 4C 45         ld de,LEVEL_START_ADDRESS+76
 262+ 8EE1 06 08            ld b,LEVEL_HEIGHT_META
 263+ 8EE3 CD F2 8E         call putsupercolumn
 264+ 8EE6
 265+ 8EE6 AF               xor a
 266+ 8EE7 32 48 8D         ld (current_scroll),a
 267+ 8EEA
 268+ 8EEA 3A 4A 8D         ld a,(cam_x)
 269+ 8EED 3C               inc a
 270+ 8EEE 32 4A 8D         ld (cam_x),a
 271+ 8EF1
 272+ 8EF1 C9               ret
 273+ 8EF2
 274+ 8EF2
 275+ 8EF2
 276+ 8EF2              ;puts super tiles column from superlevel (map) to screen tile memory
 277+ 8EF2              ;supertile description (2x2 cells; 2bytes per cell):
 278+ 8EF2              ;AB
 279+ 8EF2              ;CD
 280+ 8EF2              ;2 bytes per cell
 281+ 8EF2              ;Inputs:
 282+ 8EF2              ;B=level height in supertiles
 283+ 8EF2              ;DE=top tile in column (screen memory)
 284+ 8EF2              ;HL=top tile in superlevel column
 285+ 8EF2              putsupercolumn:
 286+ 8EF2 7E               ld a,(hl) ;get supertile id
 287+ 8EF3 87               add a,a
 288+ 8EF4 87               add a,a
 289+ 8EF5 E5               push hl ;HL=supertiles again
 290+ 8EF6 21 48 8B         ld hl,supertiles
 291+ 8EF9 ED 31            add hl,a
 292+ 8EFB ED 31            add hl,a ;hl=supertiles+=(8*supertile ID)
 293+ 8EFD 7E               ld a,(hl)
 294+ 8EFE 12               ld (de),a ;tile Aa
 295+ 8EFF 23               inc hl
 296+ 8F00 13               inc de
 297+ 8F01 7E               ld a,(hl)
 298+ 8F02 12               ld (de),a ;tile Ab
 299+ 8F03 23               inc hl
 300+ 8F04 13               inc de
 301+ 8F05 7E               ld a,(hl)
 302+ 8F06 12               ld (de),a ;tile Ba
 303+ 8F07 23               inc hl
 304+ 8F08 13               inc de
 305+ 8F09 7E               ld a,(hl)
 306+ 8F0A 12               ld (de),a ;tile Bb
 307+ 8F0B 23               inc hl
 308+ 8F0C ED 35 4D 00      add de,(VIEW_WIDTH*2)-3 ;down one line of screen tiles (2bytes per tile)
 309+ 8F10 7E               ld a,(hl)
 310+ 8F11 12               ld (de),a ;tile Ca
 311+ 8F12 23               inc hl
 312+ 8F13 13               inc de
 313+ 8F14 7E               ld a,(hl)
 314+ 8F15 12               ld (de),a ;tile Cb
 315+ 8F16 23               inc hl
 316+ 8F17 13               inc de
 317+ 8F18 7E               ld a,(hl)
 318+ 8F19 12               ld (de),a ;tile Da
 319+ 8F1A 23               inc hl
 320+ 8F1B 13               inc de
 321+ 8F1C 7E               ld a,(hl)
 322+ 8F1D 12               ld (de),a ;tile Db
 323+ 8F1E E1               pop hl
 324+ 8F1F ED 35 4D 00      add de,(VIEW_WIDTH*2)-3
 325+ 8F23 ED 34 50 00      add hl,LEVEL_WIDTH_META
 326+ 8F27 10 C9            djnz putsupercolumn
 327+ 8F29 C9               ret
 328+ 8F2A
 329+ 8F2A
 330+ 8F2A
 331+ 8F2A
 332+ 8F2A
 333+ 8F2A
 334+ 8F2A
 335+ 8F2A
 336+ 8F2A
# file closed: src/levels/levelmanager.asm
  51  8F2A              	include 'projectiles.asm'
# file opened: src/projectiles.asm
   1+ 8F2A
   2+ 8F2A
   3+ 8F2A              ;0=wX
   4+ 8F2A              ;1=wY
   5+ 8F2A              ;2,3=xx
   6+ 8F2A              ;4=y
   7+ 8F2A              ;5=attr2
   8+ 8F2A              ;6=attr3
   9+ 8F2A              ;7=slot_ID
  10+ 8F2A              ;8=vy
  11+ 8F2A              ;9=y direction
  12+ 8F2A              ;10=vTimer
  13+ 8F2A              ;11=x pixel offset (yes this elements need rearranging)
  14+ 8F2A              ;12=x direction
  15+ 8F2A              projectiles:
  16+ 8F2A 51 00            db OUT_OF_WORLD,0
  16+ 8F2C 00 00          dw 0
  16+ 8F2E 00 00 16 14    db 0, %00000000, %00010110, 20,0,UP,0,0,0
  16+ 8F32 00 02 00 00
  16+ 8F36 00
  17+ 8F37 51 00            db OUT_OF_WORLD,0
  17+ 8F39 00 00          dw 0
  17+ 8F3B 00 00 16 15    db 0, %00000000, %00010110, 21,0,UP,0,0,0
  17+ 8F3F 00 02 00 00
  17+ 8F43 00
  18+ 8F44 51 00            db OUT_OF_WORLD,0
  18+ 8F46 00 00          dw 0
  18+ 8F48 00 00 16 16    db 0, %00000000, %00010110, 22,0,UP,0,0,0
  18+ 8F4C 00 02 00 00
  18+ 8F50 00
  19+ 8F51 51 00            db OUT_OF_WORLD,0
  19+ 8F53 00 00          dw 0
  19+ 8F55 00 00 16 16    db 0, %00000000, %00010110, 22,0,UP,0,0,0
  19+ 8F59 00 02 00 00
  19+ 8F5D 00
  20+ 8F5E FF               db END_OF_ARRAY
  21+ 8F5F              PROJECTILES_DATA_LENGTH equ 13
  22+ 8F5F
  23+ 8F5F
  24+ 8F5F
  25+ 8F5F              PROJECTILE_MAX_VELOCITY equ 4
  26+ 8F5F              PROJECTILE_MIN_VELOCITY equ 0
  27+ 8F5F
  28+ 8F5F              PROJECTILE_X_VELOCITY equ 4
  29+ 8F5F
  30+ 8F5F              PROJECTILE_VELOCITY_DELAY equ 8
  31+ 8F5F
  32+ 8F5F              PROJECTILE_MAX_DISTANCE equ 127
  33+ 8F5F
  34+ 8F5F
  35+ 8F5F              projectiles_init:
  36+ 8F5F
  37+ 8F5F C9               ret
  38+ 8F60
  39+ 8F60
  40+ 8F60
  41+ 8F60
  42+ 8F60
  43+ 8F60
  44+ 8F60
  45+ 8F60              projectiles_spawn:
  46+ 8F60 DD 21 2A 8F      ld ix,projectiles
  47+ 8F64              proj_spwn_start:
  48+ 8F64 DD 7E 00         ld a,(ix)
  49+ 8F67 FE FF            cp END_OF_ARRAY
  50+ 8F69 C8               ret z
  51+ 8F6A
  52+ 8F6A DD 7E 06         ld a,(ix+6)
  53+ 8F6D CB 7F            bit 7,a
  54+ 8F6F C2 9D 8F         jp nz,proj_spwn_next
  55+ 8F72
  56+ 8F72 CB FF            set 7,a
  57+ 8F74 DD 77 06         ld (ix+6),a
  58+ 8F77
  59+ 8F77
  60+ 8F77
  61+ 8F77                  ;spawn one here...
  62+ 8F77 3A 93 80         ld a,(player_world_x)
  63+ 8F7A DD 77 00         ld (ix),a
  64+ 8F7D
  65+ 8F7D AF               xor a ;py offset
  66+ 8F7E DD 77 04         ld (ix+4),a
  67+ 8F81
  68+ 8F81 3A 94 80         ld a,(player_world_y)
  69+ 8F84 DD 77 01         ld (ix+1),a
  70+ 8F87
  71+ 8F87 DD 36 08 04      ld (ix+8),PROJECTILE_MAX_VELOCITY
  72+ 8F8B
  73+ 8F8B DD 36 09 02      ld (ix+9),UP
  74+ 8F8F
  75+ 8F8F AF               xor a
  76+ 8F90 DD 77 0A         ld (ix+10),a
  77+ 8F93 DD 77 0B         ld (ix+11),a
  78+ 8F96
  79+ 8F96 3A A5 80         ld a,(player_walk_direction)
  80+ 8F99 DD 77 0C         ld (ix+12),a
  81+ 8F9C
  82+ 8F9C
  83+ 8F9C C9               ret
  84+ 8F9D              proj_spwn_next:
  85+ 8F9D 11 0D 00         ld de,PROJECTILES_DATA_LENGTH
  86+ 8FA0 DD 19            add ix,de
  87+ 8FA2 C3 64 8F         jp proj_spwn_start
  88+ 8FA5
  89+ 8FA5
  90+ 8FA5
  91+ 8FA5              projectiles_update:
  92+ 8FA5 DD 21 2A 8F      ld ix,projectiles
  93+ 8FA9              proj_upd_start:
  94+ 8FA9 DD 7E 00         ld a,(ix)
  95+ 8FAC FE FF            cp END_OF_ARRAY
  96+ 8FAE C8               ret z
  97+ 8FAF
  98+ 8FAF CD 59 90         call projectile_update
  99+ 8FB2
 100+ 8FB2              proj_upd_next:
 101+ 8FB2 11 0D 00         ld de,PROJECTILES_DATA_LENGTH
 102+ 8FB5 DD 19            add ix,de
 103+ 8FB7 C3 A9 8F         jp proj_upd_start
 104+ 8FBA
 105+ 8FBA
 106+ 8FBA
 107+ 8FBA              projectiles_draw:
 108+ 8FBA DD 21 2A 8F      ld ix,projectiles
 109+ 8FBE              proj_drw_start:
 110+ 8FBE DD 7E 00         ld a,(ix)
 111+ 8FC1 FE FF            cp END_OF_ARRAY
 112+ 8FC3 C8               ret z
 113+ 8FC4
 114+ 8FC4
 115+ 8FC4 DD 7E 06         ld a,(ix+6)
 116+ 8FC7 CB 7F            bit 7,a
 117+ 8FC9 CA CF 8F         jp z,proj_drw_next
 118+ 8FCC
 119+ 8FCC CD D7 8F         call projectile_draw
 120+ 8FCF
 121+ 8FCF              proj_drw_next:
 122+ 8FCF 11 0D 00         ld de,PROJECTILES_DATA_LENGTH
 123+ 8FD2 DD 19            add ix,de
 124+ 8FD4 C3 BE 8F         jp proj_drw_start
 125+ 8FD7
 126+ 8FD7
 127+ 8FD7
 128+ 8FD7
 129+ 8FD7
 130+ 8FD7              projectile_draw:
 131+ 8FD7 DD 7E 07         ld a,(ix+7)
 132+ 8FDA ED 92 34         nextreg $34,a
 133+ 8FDD
 134+ 8FDD DD 7E 0C         ld a,(ix+12)
 135+ 8FE0 FE 00            cp LEFT
 136+ 8FE2 CA 2F 90         jp z,proj_draw_left
 137+ 8FE5
 138+ 8FE5 DD 7E 02         ld a,(ix+2)
 139+ 8FE8 6F               ld l,a
 140+ 8FE9 DD 7E 03         ld a,(ix+3)
 141+ 8FEC 67               ld h,a
 142+ 8FED DD 7E 0B         ld a,(ix+11)
 143+ 8FF0 E5               push hl ;save hl to restore further down
 144+ 8FF1 ED 31            add hl,a ;add pixelx offset
 145+ 8FF3 DD 75 02         ld (ix+2),l
 146+ 8FF6 DD 74 03         ld (ix+3),h
 147+ 8FF9              proj_draw:
 148+ 8FF9                  ;attr 0 (x lsb)
 149+ 8FF9 DD 7E 02         ld a,(ix+2)
 150+ 8FFC ED 92 35         nextreg $35,a
 151+ 8FFF
 152+ 8FFF                  ;attr 1 (y)
 153+ 8FFF DD 7E 09         ld a,(ix+9)
 154+ 9002 FE 03            cp DOWN
 155+ 9004 CA 47 90         jp z,proj_draw_down
 156+ 9007
 157+ 9007 DD 7E 04         ld a,(ix+4)
 158+ 900A 47               ld b,a
 159+ 900B DD 7E 01         ld a,(ix+1)
 160+ 900E 87               add a,a
 161+ 900F 87               add a,a
 162+ 9010 87               add a,a
 163+ 9011 87               add a,a
 164+ 9012 90               sub b
 165+ 9013 ED 92 36         nextreg $36,a
 166+ 9016              proj_drw_attr2:
 167+ 9016                  ;attr 2
 168+ 9016 DD 7E 05         ld a,(ix+5)
 169+ 9019 47               ld b,a
 170+ 901A DD 7E 03         ld a,(ix+3) ;X8 (msb)
 171+ 901D B0               or b
 172+ 901E ED 92 37         nextreg $37,a
 173+ 9021
 174+ 9021                  ;attr 3
 175+ 9021 DD 7E 06         ld a,(ix+6)
 176+ 9024 ED 92 38         nextreg $38,a
 177+ 9027
 178+ 9027                  ;draw routine ends here...
 179+ 9027 E1               pop hl
 180+ 9028 DD 75 02         ld (ix+2),l
 181+ 902B DD 74 03         ld (ix+3),h
 182+ 902E
 183+ 902E C9               ret
 184+ 902F
 185+ 902F              proj_draw_left:
 186+ 902F DD 7E 02         ld a,(ix+2)
 187+ 9032 6F               ld l,a
 188+ 9033 DD 7E 03         ld a,(ix+3)
 189+ 9036 67               ld h,a
 190+ 9037 DD 7E 0B         ld a,(ix+11)
 191+ 903A 47               ld b,a
 192+ 903B 7D               ld a,l
 193+ 903C 90               sub b
 194+ 903D
 195+ 903D E5               push hl ;save hl to restore further down
 196+ 903E                  ; neg : add hl,a ;add pixelx offset
 197+ 903E DD 77 02         ld (ix+2),a
 198+ 9041 DD 74 03         ld (ix+3),h
 199+ 9044
 200+ 9044 C3 F9 8F         jp proj_draw
 201+ 9047              proj_draw_down:
 202+ 9047 DD 7E 04         ld a,(ix+4)
 203+ 904A 47               ld b,a
 204+ 904B DD 7E 01         ld a,(ix+1)
 205+ 904E 87               add a,a
 206+ 904F 87               add a,a
 207+ 9050 87               add a,a
 208+ 9051 87               add a,a
 209+ 9052 80               add a,b
 210+ 9053 ED 92 36         nextreg $36,a
 211+ 9056 C3 16 90         jp proj_drw_attr2
 212+ 9059
 213+ 9059
 214+ 9059
 215+ 9059
 216+ 9059
 217+ 9059              projectile_update:
 218+ 9059 CD B3 91         call projectile_check_in_view
 219+ 905C CD 63 91         call projectile_calculate_screen_pos
 220+ 905F
 221+ 905F 3A 26 87         ld a,(frame_counter)
 222+ 9062 E6 03            and %00000011
 223+ 9064 CC 4C 91         call z,projectile_rotate
 224+ 9067
 225+ 9067 DD 7E 06         ld a,(ix+6)
 226+ 906A CB 7F            bit 7,a
 227+ 906C C8               ret z
 228+ 906D
 229+ 906D CD 9D 90         call proj_move_sideways
 230+ 9070
 231+ 9070 DD 7E 0A         ld a,(ix+10)
 232+ 9073 3C               inc a
 233+ 9074 DD 77 0A         ld (ix+10),a
 234+ 9077
 235+ 9077
 236+ 9077 DD 7E 09         ld a,(ix+9)
 237+ 907A FE 03            cp DOWN
 238+ 907C CA 8E 90         jp z,p_upd_dwn
 239+ 907F                  ;move projectile up
 240+ 907F DD 7E 04         ld a,(ix+4) ;y pixel offset
 241+ 9082 DD 86 08         add a,(ix+8) ;y Vel
 242+ 9085 DD 77 04         ld (ix+4),a
 243+ 9088 FE 10            cp MAX_SCROLL
 244+ 908A CC FD 90         call z,proj_up_one
 245+ 908D C9               ret
 246+ 908E              p_upd_dwn:
 247+ 908E                  ;move projectile down
 248+ 908E DD 7E 04         ld a,(ix+4) ;y scroll
 249+ 9091 DD 86 08         add a,(ix+8) ;y Vel
 250+ 9094 DD 77 04         ld (ix+4),a
 251+ 9097 FE 10            cp MAX_SCROLL
 252+ 9099 CC 27 91         call z,proj_down_one
 253+ 909C C9               ret
 254+ 909D
 255+ 909D
 256+ 909D
 257+ 909D              proj_move_sideways:
 258+ 909D DD 7E 0C         ld a,(ix+12)
 259+ 90A0 FE 00            cp LEFT
 260+ 90A2 F5               push af
 261+ 90A3 CC AC 90         call z,proj_move_left
 262+ 90A6 F1               pop af
 263+ 90A7 C8               ret z
 264+ 90A8
 265+ 90A8 CD D5 90         call proj_move_right
 266+ 90AB C9               ret
 267+ 90AC              proj_move_left:
 268+ 90AC
 269+ 90AC DD 7E 0B         ld a,(ix+11)
 270+ 90AF C6 04            add a,PROJECTILE_X_VELOCITY ;(ix+8)
 271+ 90B1 DD 77 0B         ld (ix+11),a
 272+ 90B4
 273+ 90B4 DD 7E 0B         ld a,(ix+11)
 274+ 90B7 FE 7F            cp 127
 275+ 90B9 D4 57 91         call nc, projectile_kill
 276+ 90BC
 277+ 90BC
 278+ 90BC DD 7E 02         ld a,(ix+2)
 279+ 90BF 6F               ld l,a
 280+ 90C0 DD 7E 03         ld a,(ix+3)
 281+ 90C3 67               ld h,a
 282+ 90C4 DD 7E 0B         ld a,(ix+11)
 283+ 90C7                  SUB_HL_A ;see macros
 283+ 90C7 ED 44       >	neg
 283+ 90C9 ED 31       >  add hl,a
 284+ 90CB
 285+ 90CB 7C               ld a,h
 286+ 90CC CB 47            bit 0,a
 287+ 90CE C0               ret nz
 288+ 90CF
 289+ 90CF 7D               ld a,l
 290+ 90D0 B7               or a
 291+ 90D1 FC 57 91         call m, projectile_kill
 292+ 90D4                  ;TODO: study M flag
 293+ 90D4
 294+ 90D4 C9               ret
 295+ 90D5
 296+ 90D5              proj_move_right:
 297+ 90D5 DD 7E 0B         ld a,(ix+11)
 298+ 90D8 C6 04            add a,PROJECTILE_X_VELOCITY;(ix+8)
 299+ 90DA DD 77 0B         ld (ix+11),a
 300+ 90DD
 301+ 90DD DD 7E 0B         ld a,(ix+11)
 302+ 90E0 FE 7F            cp 127
 303+ 90E2 D4 57 91         call nc, projectile_kill
 304+ 90E5
 305+ 90E5 DD 7E 02         ld a,(ix+2)
 306+ 90E8 6F               ld l,a
 307+ 90E9 DD 7E 03         ld a,(ix+3)
 308+ 90EC 67               ld h,a
 309+ 90ED DD 7E 0B         ld a,(ix+11)
 310+ 90F0 ED 31            add hl,a
 311+ 90F2
 312+ 90F2 7C               ld a,h
 313+ 90F3 CB 47            bit 0,a
 314+ 90F5 C8               ret z
 315+ 90F6
 316+ 90F6 7D               ld a,l
 317+ 90F7 FE 40            cp LOW 320
 318+ 90F9 D4 57 91         call nc, projectile_kill
 319+ 90FC
 320+ 90FC
 321+ 90FC C9               ret
 322+ 90FD
 323+ 90FD
 324+ 90FD
 325+ 90FD
 326+ 90FD
 327+ 90FD              proj_up_one:
 328+ 90FD DD 7E 01         ld a,(ix+1)
 329+ 9100 3D               dec a
 330+ 9101 DD 77 01         ld (ix+1),a
 331+ 9104 DD 36 04 00      ld (ix+4),0
 332+ 9108 FE 00            cp 0
 333+ 910A CC 57 91         call z,projectile_kill ;kill it if top of screen
 334+ 910D
 335+ 910D DD 7E 0A         ld a,(ix+10)
 336+ 9110 FE 08            cp PROJECTILE_VELOCITY_DELAY
 337+ 9112 D8               ret c
 338+ 9113
 339+ 9113 DD 7E 08         ld a,(ix+8)
 340+ 9116 E6 FE            and %11111110
 341+ 9118 0F               rrca
 342+ 9119 DD 77 08         ld (ix+8),a
 343+ 911C FE 00            cp 0
 344+ 911E DD 36 09 03      ld (ix+9),DOWN
 345+ 9122
 346+ 9122 AF               xor a
 347+ 9123 DD 77 0A         ld (ix+10),a
 348+ 9126
 349+ 9126 C9               ret
 350+ 9127
 351+ 9127              proj_down_one:
 352+ 9127 DD 7E 01         ld a,(ix+1)
 353+ 912A 3C               inc a
 354+ 912B DD 77 01         ld (ix+1),a
 355+ 912E DD 36 04 00      ld (ix+4),0
 356+ 9132 FE 0F            cp 15
 357+ 9134 CC 57 91         call z,projectile_kill ;kill it if top of screen
 358+ 9137
 359+ 9137 DD 7E 0A         ld a,(ix+10)
 360+ 913A FE 08            cp PROJECTILE_VELOCITY_DELAY
 361+ 913C D8               ret c
 362+ 913D
 363+ 913D DD 7E 08         ld a,(ix+8)
 364+ 9140 FE 04            cp PROJECTILE_MAX_VELOCITY
 365+ 9142 C8               ret z
 366+ 9143 87               add a,a
 367+ 9144 DD 77 08         ld (ix+8),a
 368+ 9147
 369+ 9147 AF               xor a
 370+ 9148 DD 77 0A         ld (ix+10),a
 371+ 914B
 372+ 914B
 373+ 914B C9               ret
 374+ 914C
 375+ 914C
 376+ 914C
 377+ 914C
 378+ 914C
 379+ 914C
 380+ 914C
 381+ 914C
 382+ 914C
 383+ 914C
 384+ 914C
 385+ 914C              projectile_rotate:
 386+ 914C DD 7E 05         ld a,(ix+5)
 387+ 914F C6 02            add a,2
 388+ 9151 E6 0E            and %00001110
 389+ 9153 DD 77 05         ld (ix+5),a
 390+ 9156 C9               ret
 391+ 9157
 392+ 9157
 393+ 9157
 394+ 9157              projectile_kill:
 395+ 9157 DD CB 06 BE      res 7,(ix+6)
 396+ 915B CD D7 8F         call projectile_draw
 397+ 915E
 398+ 915E DD 36 00 51      ld (ix),OUT_OF_WORLD
 399+ 9162
 400+ 9162
 401+ 9162 C9               ret
 402+ 9163
 403+ 9163
 404+ 9163
 405+ 9163              projectile_calculate_screen_pos:
 406+ 9163 3A 49 8D         ld a,(scroll_direction)
 407+ 9166 FE 00            cp LEFT
 408+ 9168 CA 71 91         jp z,proj_screen_moving_left
 409+ 916B FE 01            cp RIGHT
 410+ 916D CA 92 91         jp z,proj_screen_moving_right
 411+ 9170
 412+ 9170 C9               ret
 413+ 9171
 414+ 9171
 415+ 9171              proj_screen_moving_left:
 416+ 9171                  ;X (scroll left)
 417+ 9171 3A 4A 8D         ld a,(cam_x)
 418+ 9174 47               ld b,a
 419+ 9175 DD 7E 00         ld a,(ix+0) ;wX
 420+ 9178 90               sub b ;wX-camX
 421+ 9179 21 00 00         ld hl,0
 422+ 917C ED 31            add hl,a
 423+ 917E 29               add hl,hl
 424+ 917F 29               add hl,hl
 425+ 9180 29               add hl,hl
 426+ 9181 29               add hl,hl
 427+ 9182 3A 48 8D         ld a,(current_scroll)
 428+ 9185 47               ld b,a
 429+ 9186 3E 10            ld a,16
 430+ 9188 90               sub b
 431+ 9189 ED 31            add hl,a
 432+ 918B DD 75 02         ld (ix+2),l
 433+ 918E DD 74 03         ld (ix+3),h ;X8
 434+ 9191 C9               ret
 435+ 9192
 436+ 9192              proj_screen_moving_right:
 437+ 9192                  ;X (scroll left)
 438+ 9192 3A 4A 8D         ld a,(cam_x)
 439+ 9195 47               ld b,a
 440+ 9196 DD 7E 00         ld a,(ix) ;wX
 441+ 9199 90               sub b ;wX-camX
 442+ 919A 21 00 00         ld hl,0
 443+ 919D ED 31            add hl,a
 444+ 919F 29               add hl,hl
 445+ 91A0 29               add hl,hl
 446+ 91A1 29               add hl,hl
 447+ 91A2 29               add hl,hl
 448+ 91A3 3A 48 8D         ld a,(current_scroll)
 449+ 91A6 47               ld b,a
 450+ 91A7 3E 10            ld a,16
 451+ 91A9 90               sub b
 452+ 91AA ED 31            add hl,a
 453+ 91AC DD 75 02         ld (ix+2),l
 454+ 91AF DD 74 03         ld (ix+3),h ;X8
 455+ 91B2
 456+ 91B2 C9               ret
 457+ 91B3
 458+ 91B3
 459+ 91B3
 460+ 91B3              projectile_check_in_view:
 461+ 91B3 DD 7E 00         ld a,(ix)
 462+ 91B6 47               ld b,a
 463+ 91B7 3A 4A 8D         ld a,(cam_x)
 464+ 91BA C6 14            add a,VIEW_WIDTH_META
 465+ 91BC B8               cp b
 466+ 91BD DA D0 91         jp c, proj_set_not_inview
 467+ 91C0
 468+ 91C0 3A 4A 8D         ld a,(cam_x)
 469+ 91C3 47               ld b,a
 470+ 91C4 DD 7E 00         ld a,(ix)
 471+ 91C7 B8               cp b
 472+ 91C8 DA D0 91         jp c, proj_set_not_inview
 473+ 91CB
 474+ 91CB
 475+ 91CB                  ; set to inview=yes
 476+ 91CB DD CB 06 FE      set 7,(ix+6)
 477+ 91CF
 478+ 91CF C9               ret
 479+ 91D0
 480+ 91D0              proj_set_not_inview:
 481+ 91D0 DD 36 00 51      ld (ix),OUT_OF_WORLD
 482+ 91D4 DD CB 06 7E      bit 7,(ix+6)
 483+ 91D8 C8               ret z
 484+ 91D9
 485+ 91D9 DD CB 06 BE      res 7,(ix+6)
 486+ 91DD CD D7 8F         call projectile_draw
 487+ 91E0
 488+ 91E0
 489+ 91E0 C9               ret
 490+ 91E1
# file closed: src/projectiles.asm
  52  91E1
  53  91E1              	include 'loadbins.asm'
# file opened: src/loadbins.asm
   1+ 91E1
   2+ 91E1
   3+ 91E1              ;;;;;Tiles
   4+ 91E1
   5+ 91E1
   6+ 91E1
   7+ 91E1
   8+ 91E1
   9+ 91E1              caveman_palette:
  10+ 91E1                  incbin 'assets/cavetiles2.nxp',0
  11+ 91FD
  12+ 91FD                  MMU 6,16
  13+ 91FD                  org $c000
  14+ C000
  15+ C000                  incbin 'assets/cavetiles2.til',0,TILE_DEFINITIONS_SIZE
  16+ D000
  17+ D000
  18+ D000              ; 	;courtesy of ped7g:
  19+ D000              ;     ; patch tile gfx with grid gfx
  20+ D000              ; tileN=1
  21+ D000              ;     DUP 128-tileN
  22+ D000              ;         ORG $C000 + tileN*32
  23+ D000              ;         DB $FF
  24+ D000              ;         DB {b $ } | $F0
  25+ D000              ;         ORG $C000 + tileN*32 + 1*4
  26+ D000              ;         DB {b $ } | $F0
  27+ D000              ;         ORG $C000 + tileN*32 + 2*4
  28+ D000              ;         DB {b $ } | $F0
  29+ D000              ;         ORG $C000 + tileN*32 + 6*4 + 3
  30+ D000              ;         DB {b $ } | $0F
  31+ D000              ;         ORG $C000 + tileN*32 + 7*4 + 3
  32+ D000              ;         DB $FF
  33+ D000              ; tileN=tileN+1
  34+ D000              ;     EDUP
  35+ D000
  36+ D000
  37+ D000
  38+ D000              ;;
  39+ D000              ;;Caveman Walk Animation:
  40+ D000              ; A>B>C>D>A>B>C>D
  41+ D000
  42+ D000              ;;;sprites
  43+ D000              ;WBOY SPRITES:
  44+ D000              ;Idle = A,B
  45+ D000              ;Walk = C,D,E,F
  46+ D000
  47+ D000
  48+ D000              ;size (in patterns) for the head and body parts
  49+ D000              WBOY_HEAD_SIZE equ 2
  50+ D000              WBOY_BODY_SIZE equ 2
  51+ D000
  52+ D000              ;animation 'first A' values:
  53+ D000              WBOY_FIRST_IDLE equ 2
  54+ D000              WBOY_FIRST_WALK equ 6
  55+ D000              WBOY_FIRST_JUMP equ 12 ;the jump animation is just one frame, and is same as walk4
  56+ D000
  57+ D000              ;animation 'fiNAL A' values:
  58+ D000              WBOY_FINAL_IDLE equ 4
  59+ D000              WBOY_FINAL_WALK equ 12
  60+ D000
  61+ D000              ;4-pattern animations...
  62+ D000              WBOY_THROW_A equ 14
  63+ D000              WBOY_THROW_B equ 18
  64+ D000
  65+ D000              WBOY_PATTERN_COUNT equ 23
  66+ D000
  67+ D000
  68+ D000                  MMU 6,14
  69+ D000                  org $c000
  70+ C000
  71+ C000
  72+ C000              wBoy_Head1: ;0
  73+ C000 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $D5, $FC, $E3, $E3, $E3, $FC, $FC, $FC;
  73+ C004 E3 E3 E3 E3
  73+ C008 D5 FC E3 E3
  73+ C00C E3 FC FC FC
  74+ C010 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $FC, $FC, $FC, $D5, $AD, $FC, $FC, $FC, $FC, $FC;
  74+ C014 E3 E3 FC FC
  74+ C018 FC D5 AD FC
  74+ C01C FC FC FC FC
  75+ C020 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $D5, $AD, $FC, $FC, $D5, $FC, $FC, $FC;
  75+ C024 E3 E3 E3 E3
  75+ C028 D5 AD FC FC
  75+ C02C D5 FC FC FC
  76+ C030 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $FC, $FC, $FC, $FC, $D5, $FC, $D5, $D5, $FC;
  76+ C034 E3 E3 E3 FC
  76+ C038 FC FC FC D5
  76+ C03C FC D5 D5 FC
  77+ C040 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $FC, $FC;
  77+ C044 E3 E3 E3 E3
  77+ C048 E3 20 D5 D5
  77+ C04C D5 D5 FC FC
  78+ C050 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $FC, $FC;
  78+ C054 E3 E3 E3 E3
  78+ C058 E3 20 D5 D5
  78+ C05C D5 D5 FC FC
  79+ C060 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $FC, $FC, $FC;
  79+ C064 E3 E3 E3 E3
  79+ C068 20 D5 D5 D5
  79+ C06C D5 FC FC FC
  80+ C070 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $FC, $FC, $AC, $FC;
  80+ C074 E3 E3 E3 E3
  80+ C078 20 D5 D5 D5
  80+ C07C FC FC AC FC
  81+ C080 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $FC, $FC, $AD, $FC;
  81+ C084 E3 E3 E3 E3
  81+ C088 20 D5 D5 FC
  81+ C08C FC FC AD FC
  82+ C090 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $FC, $FC, $AD, $AD;
  82+ C094 E3 E3 E3 E3
  82+ C098 20 D5 D5 FC
  82+ C09C FC FC AD AD
  83+ C0A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $F6, $AD, $FC, $AD, $AD;
  83+ C0A4 E3 E3 E3 E3
  83+ C0A8 20 D5 D5 F6
  83+ C0AC AD FC AD AD
  84+ C0B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $F6, $AD, $FC, $AD, $F6;
  84+ C0B4 E3 E3 E3 E3
  84+ C0B8 20 D5 D5 F6
  84+ C0BC AD FC AD F6
  85+ C0C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $AC, $AD, $AD;
  85+ C0C4 E3 E3 E3 E3
  85+ C0C8 E3 20 D5 D5
  85+ C0CC FC AC AD AD
  86+ C0D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $FC, $AC, $AD;
  86+ C0D4 E3 E3 E3 E3
  86+ C0D8 E3 20 D5 D5
  86+ C0DC FC FC AC AD
  87+ C0E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $FC, $AC, $AD;
  87+ C0E4 E3 E3 E3 E3
  87+ C0E8 E3 20 D5 D5
  87+ C0EC FC FC AC AD
  88+ C0F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $FC, $FC, $AC;
  88+ C0F4 E3 E3 E3 E3
  88+ C0F8 E3 E3 20 D5
  88+ C0FC D5 FC FC AC
  89+ C100
  90+ C100
  91+ C100
  92+ C100              wBoy_Head2: ;1
  93+ C100 FC FC E3 E3  	db  $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  93+ C104 E3 E3 E3 E3
  93+ C108 E3 E3 E3 E3
  93+ C10C E3 E3 E3 E3
  94+ C110 FF FF FC FC  	db  $FF, $FF, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  94+ C114 E3 E3 E3 E3
  94+ C118 E3 E3 E3 E3
  94+ C11C E3 E3 E3 E3
  95+ C120 FC FC FF FF  	db  $FC, $FC, $FF, $FF, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  95+ C124 FC E3 E3 E3
  95+ C128 E3 E3 E3 E3
  95+ C12C E3 E3 E3 E3
  96+ C130 FC FC FC FF  	db  $FC, $FC, $FC, $FF, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  96+ C134 FC E3 E3 E3
  96+ C138 E3 E3 E3 E3
  96+ C13C E3 E3 E3 E3
  97+ C140 FC FC FC FC  	db  $FC, $FC, $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  97+ C144 FC FC E3 E3
  97+ C148 E3 E3 E3 E3
  97+ C14C E3 E3 E3 E3
  98+ C150 FF FC FC FC  	db  $FF, $FC, $FC, $FC, $FF, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  98+ C154 FF FC E3 E3
  98+ C158 E3 E3 E3 E3
  98+ C15C E3 E3 E3 E3
  99+ C160 FF AC FC FC  	db  $FF, $AC, $FC, $FC, $AC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
  99+ C164 AC FC FC E3
  99+ C168 E3 E3 E3 E3
  99+ C16C E3 E3 E3 E3
 100+ C170 FC AD FC AD  	db  $FC, $AD, $FC, $AD, $AD, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 100+ C174 AD FC FC E3
 100+ C178 E3 E3 E3 E3
 100+ C17C E3 E3 E3 E3
 101+ C180 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $F6, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 101+ C184 F6 AD FC E3
 101+ C188 E3 E3 E3 E3
 101+ C18C E3 E3 E3 E3
 102+ C190 F6 FF FF F6  	db  $F6, $FF, $FF, $F6, $FF, $F6, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 102+ C194 FF F6 FC E3
 102+ C198 E3 E3 E3 E3
 102+ C19C E3 E3 E3 E3
 103+ C1A0 FF FF 20 F6  	db  $FF, $FF, $20, $F6, $20, $FF, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 103+ C1A4 20 FF FC E3
 103+ C1A8 E3 E3 E3 E3
 103+ C1AC E3 E3 E3 E3
 104+ C1B0 FF FF 20 F6  	db  $FF, $FF, $20, $F6, $20, $FF, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 104+ C1B4 20 FF FC E3
 104+ C1B8 E3 E3 E3 E3
 104+ C1BC E3 E3 E3 E3
 105+ C1C0 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 105+ C1C4 F6 F6 FC E3
 105+ C1C8 E3 E3 E3 E3
 105+ C1CC E3 E3 E3 E3
 106+ C1D0 F6 F6 F6 FF  	db  $F6, $F6, $F6, $FF, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 106+ C1D4 F6 F6 E3 E3
 106+ C1D8 E3 E3 E3 E3
 106+ C1DC E3 E3 E3 E3
 107+ C1E0 F6 F6 F6 E1  	db  $F6, $F6, $F6, $E1, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 107+ C1E4 F6 F6 E3 E3
 107+ C1E8 E3 E3 E3 E3
 107+ C1EC E3 E3 E3 E3
 108+ C1F0 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 108+ C1F4 F6 FC E3 E3
 108+ C1F8 E3 E3 E3 E3
 108+ C1FC E3 E3 E3 E3
 109+ C200
 110+ C200
 111+ C200              ;bodies:
 112+ C200
 113+ C200              ;IDLE ANIMATION: 1,2
 114+ C200              idle1_A: ;2
 115+ C200 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6;
 115+ C204 E3 E3 E3 E3
 115+ C208 E3 E3 E3 20
 115+ C20C F6 F6 F6 F6
 116+ C210 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $AD, $AD;
 116+ C214 E3 E3 E3 E3
 116+ C218 E3 E3 20 F6
 116+ C21C F6 F6 AD AD
 117+ C220 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $AC, $F6, $F6;
 117+ C224 E3 E3 E3 E3
 117+ C228 E3 20 F6 F6
 117+ C22C F6 AC F6 F6
 118+ C230 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 118+ C234 E3 E3 E3 E3
 118+ C238 E3 20 F6 F6
 118+ C23C F6 F6 F6 F6
 119+ C240 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $AD;
 119+ C244 E3 E3 E3 E3
 119+ C248 E3 20 F6 F6
 119+ C24C F6 F6 F6 AD
 120+ C250 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $AD, $F6;
 120+ C254 E3 E3 E3 E3
 120+ C258 E3 E3 20 F6
 120+ C25C F6 F6 AD F6
 121+ C260 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $AD, $AD, $F6;
 121+ C264 E3 E3 E3 E3
 121+ C268 E3 E3 E3 20
 121+ C26C 10 AD AD F6
 122+ C270 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $AD, $AD, $F6;
 122+ C274 E3 E3 E3 E3
 122+ C278 E3 E3 20 10
 122+ C27C 10 AD AD F6
 123+ C280 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $AD, $AD, $F6;
 123+ C284 E3 E3 E3 E3
 123+ C288 E3 E3 20 10
 123+ C28C 10 AD AD F6
 124+ C290 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $20, $20, $AD, $AD;
 124+ C294 E3 E3 E3 E3
 124+ C298 E3 20 10 10
 124+ C29C 20 20 AD AD
 125+ C2A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $E3, $E3, $20, $20;
 125+ C2A4 E3 E3 E3 E3
 125+ C2A8 E3 E3 20 20
 125+ C2AC E3 E3 20 20
 126+ C2B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20;
 126+ C2B4 E3 E3 E3 E3
 126+ C2B8 E3 E3 E3 E3
 126+ C2BC E3 E3 E3 20
 127+ C2C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20;
 127+ C2C4 E3 E3 E3 E3
 127+ C2C8 E3 E3 E3 E3
 127+ C2CC E3 E3 E3 20
 128+ C2D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20;
 128+ C2D4 E3 E3 E3 E3
 128+ C2D8 E3 E3 E3 E3
 128+ C2DC E3 E3 E3 20
 129+ C2E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 129+ C2E4 E3 E3 E3 E3
 129+ C2E8 E3 E3 E3 E3
 129+ C2EC E3 E3 E3 E3
 130+ C2F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 130+ C2F4 E3 E3 E3 E3
 130+ C2F8 E3 E3 E3 E3
 130+ C2FC E3 E3 E3 E3
 131+ C300              idle1_B: ;3
 132+ C300 AC AD AD AD  	db  $AC, $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 132+ C304 FC E3 E3 E3
 132+ C308 E3 E3 E3 E3
 132+ C30C E3 E3 E3 E3
 133+ C310 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 133+ C314 F6 E3 E3 E3
 133+ C318 E3 E3 E3 E3
 133+ C31C E3 E3 E3 E3
 134+ C320 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 134+ C324 F6 AD F6 E3
 134+ C328 E3 E3 E3 E3
 134+ C32C E3 E3 E3 E3
 135+ C330 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 135+ C334 F6 AD F6 E3
 135+ C338 E3 E3 E3 E3
 135+ C33C E3 E3 E3 E3
 136+ C340 F6 F6 AD F6  	db  $F6, $F6, $AD, $F6, $F6, $AC, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 136+ C344 F6 AC F6 E3
 136+ C348 E3 E3 E3 E3
 136+ C34C E3 E3 E3 E3
 137+ C350 F6 F6 AD F6  	db  $F6, $F6, $AD, $F6, $AD, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 137+ C354 AD E3 E3 E3
 137+ C358 E3 E3 E3 E3
 137+ C35C E3 E3 E3 E3
 138+ C360 F6 F6 10 10  	db  $F6, $F6, $10, $10, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 138+ C364 10 E3 E3 E3
 138+ C368 E3 E3 E3 E3
 138+ C36C E3 E3 E3 E3
 139+ C370 F6 F6 10 10  	db  $F6, $F6, $10, $10, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 139+ C374 10 E3 E3 E3
 139+ C378 E3 E3 E3 E3
 139+ C37C E3 E3 E3 E3
 140+ C380 F6 F6 F6 10  	db  $F6, $F6, $F6, $10, $10, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 140+ C384 10 10 E3 E3
 140+ C388 E3 E3 E3 E3
 140+ C38C E3 E3 E3 E3
 141+ C390 F6 F6 F6 AD  	db  $F6, $F6, $F6, $AD, $20, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 141+ C394 20 10 E3 E3
 141+ C398 E3 E3 E3 E3
 141+ C39C E3 E3 E3 E3
 142+ C3A0 AC AC AD F6  	db  $AC, $AC, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 142+ C3A4 E3 E3 E3 E3
 142+ C3A8 E3 E3 E3 E3
 142+ C3AC E3 E3 E3 E3
 143+ C3B0 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 143+ C3B4 E3 E3 E3 E3
 143+ C3B8 E3 E3 E3 E3
 143+ C3BC E3 E3 E3 E3
 144+ C3C0 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 144+ C3C4 E3 E3 E3 E3
 144+ C3C8 E3 E3 E3 E3
 144+ C3CC E3 E3 E3 E3
 145+ C3D0 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 145+ C3D4 F6 E3 E3 E3
 145+ C3D8 E3 E3 E3 E3
 145+ C3DC E3 E3 E3 E3
 146+ C3E0 20 AD AD F6  	db  $20, $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 146+ C3E4 F6 E3 E3 E3
 146+ C3E8 E3 E3 E3 E3
 146+ C3EC E3 E3 E3 E3
 147+ C3F0 E3 20 20 20  	db  $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 147+ C3F4 E3 E3 E3 E3
 147+ C3F8 E3 E3 E3 E3
 147+ C3FC E3 E3 E3 E3
 148+ C400
 149+ C400              idle2_A: ;4
 150+ C400 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6;
 150+ C404 E3 E3 E3 E3
 150+ C408 E3 E3 E3 20
 150+ C40C F6 F6 F6 F6
 151+ C410 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $AD, $AD;
 151+ C414 E3 E3 E3 E3
 151+ C418 E3 E3 20 F6
 151+ C41C F6 F6 AD AD
 152+ C420 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $AC, $F6, $F6;
 152+ C424 E3 E3 E3 E3
 152+ C428 E3 20 F6 F6
 152+ C42C F6 AC F6 F6
 153+ C430 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 153+ C434 E3 E3 E3 E3
 153+ C438 E3 20 F6 F6
 153+ C43C F6 F6 F6 F6
 154+ C440 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 154+ C444 E3 E3 E3 E3
 154+ C448 E3 20 F6 F6
 154+ C44C F6 F6 F6 F6
 155+ C450 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6;
 155+ C454 E3 E3 E3 E3
 155+ C458 E3 E3 20 F6
 155+ C45C F6 F6 F6 F6
 156+ C460 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $14, $14, $14;
 156+ C464 E3 E3 E3 E3
 156+ C468 E3 E3 E3 20
 156+ C46C 10 14 14 14
 157+ C470 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $14, $14;
 157+ C474 E3 E3 E3 E3
 157+ C478 E3 E3 20 10
 157+ C47C 10 10 14 14
 158+ C480 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $AD, $F6, $14;
 158+ C484 E3 E3 E3 E3
 158+ C488 E3 20 10 10
 158+ C48C 10 AD F6 14
 159+ C490 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $AD, $F6, $F6, $F6;
 159+ C494 E3 E3 E3 E3
 159+ C498 E3 E3 20 10
 159+ C49C AD F6 F6 F6
 160+ C4A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6;
 160+ C4A4 E3 E3 E3 E3
 160+ C4A8 E3 E3 E3 20
 160+ C4AC AD F6 F6 F6
 161+ C4B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6;
 161+ C4B4 E3 E3 E3 E3
 161+ C4B8 E3 E3 E3 20
 161+ C4BC AD F6 F6 F6
 162+ C4C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6;
 162+ C4C4 E3 E3 E3 E3
 162+ C4C8 E3 E3 E3 20
 162+ C4CC AD F6 F6 F6
 163+ C4D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6;
 163+ C4D4 E3 E3 E3 E3
 163+ C4D8 E3 E3 E3 20
 163+ C4DC AD AD F6 F6
 164+ C4E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6;
 164+ C4E4 E3 E3 E3 E3
 164+ C4E8 E3 E3 E3 E3
 164+ C4EC 20 AD AD F6
 165+ C4F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20;
 165+ C4F4 E3 E3 E3 E3
 165+ C4F8 E3 E3 E3 E3
 165+ C4FC E3 20 20 20
 166+ C500              idle2_B: ;5
 167+ C500 AC AD AD AD  	db  $AC, $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 167+ C504 FC E3 E3 E3
 167+ C508 E3 E3 E3 E3
 167+ C50C E3 E3 E3 E3
 168+ C510 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 168+ C514 F6 E3 E3 E3
 168+ C518 E3 E3 E3 E3
 168+ C51C E3 E3 E3 E3
 169+ C520 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 169+ C524 F6 AD F6 E3
 169+ C528 E3 E3 E3 E3
 169+ C52C E3 E3 E3 E3
 170+ C530 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 170+ C534 F6 AD F6 E3
 170+ C538 E3 E3 E3 E3
 170+ C53C E3 E3 E3 E3
 171+ C540 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $AD, $AC, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 171+ C544 AD AC F6 E3
 171+ C548 E3 E3 E3 E3
 171+ C54C E3 E3 E3 E3
 172+ C550 AD F6 F6 AD  	db  $AD, $F6, $F6, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 172+ C554 F6 F6 E3 E3
 172+ C558 E3 E3 E3 E3
 172+ C55C E3 E3 E3 E3
 173+ C560 AC AD AD AD  	db  $AC, $AD, $AD, $AD, $F6, $F6, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 173+ C564 F6 F6 10 E3
 173+ C568 E3 E3 E3 E3
 173+ C56C E3 E3 E3 E3
 174+ C570 10 10 AD AD  	db  $10, $10, $AD, $AD, $F6, $F6, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 174+ C574 F6 F6 10 E3
 174+ C578 E3 E3 E3 E3
 174+ C57C E3 E3 E3 E3
 175+ C580 14 10 AD AD  	db  $14, $10, $AD, $AD, $F6, $F6, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 175+ C584 F6 F6 20 E3
 175+ C588 E3 E3 E3 E3
 175+ C58C E3 E3 E3 E3
 176+ C590 14 14 AD AD  	db  $14, $14, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 176+ C594 F6 F6 F6 E3
 176+ C598 E3 E3 E3 E3
 176+ C59C E3 E3 E3 E3
 177+ C5A0 20 14 20 AD  	db  $20, $14, $20, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 177+ C5A4 F6 F6 F6 E3
 177+ C5A8 E3 E3 E3 E3
 177+ C5AC E3 E3 E3 E3
 178+ C5B0 E3 20 E3 20  	db  $E3, $20, $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 178+ C5B4 20 20 E3 E3
 178+ C5B8 E3 E3 E3 E3
 178+ C5BC E3 E3 E3 E3
 179+ C5C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 179+ C5C4 E3 E3 E3 E3
 179+ C5C8 E3 E3 E3 E3
 179+ C5CC E3 E3 E3 E3
 180+ C5D0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 180+ C5D4 E3 E3 E3 E3
 180+ C5D8 E3 E3 E3 E3
 180+ C5DC E3 E3 E3 E3
 181+ C5E0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 181+ C5E4 E3 E3 E3 E3
 181+ C5E8 E3 E3 E3 E3
 181+ C5EC E3 E3 E3 E3
 182+ C5F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 182+ C5F4 E3 E3 E3 E3
 182+ C5F8 E3 E3 E3 E3
 182+ C5FC E3 E3 E3 E3
 183+ C600
 184+ C600
 185+ C600
 186+ C600
 187+ C600              ;WALK ANIMATION 1,2,3,4
 188+ C600              walk1_a: ;6
 189+ C600 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AC;
 189+ C604 E3 E3 E3 E3
 189+ C608 E3 E3 20 F6
 189+ C60C F6 F6 F6 AC
 190+ C610 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 190+ C614 E3 E3 E3 E3
 190+ C618 E3 20 F6 F6
 190+ C61C F6 F6 F6 F6
 191+ C620 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AD, $F6, $F6;
 191+ C624 E3 E3 E3 E3
 191+ C628 20 F6 F6 F6
 191+ C62C F6 AD F6 F6
 192+ C630 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AC, $AD, $F6;
 192+ C634 E3 E3 E3 E3
 192+ C638 20 F6 F6 F6
 192+ C63C F6 AC AD F6
 193+ C640 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6, $AC;
 193+ C644 E3 E3 E3 E3
 193+ C648 20 F6 F6 F6
 193+ C64C F6 F6 F6 AC
 194+ C650 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 194+ C654 E3 E3 E3 E3
 194+ C658 E3 20 F6 F6
 194+ C65C F6 F6 F6 F6
 195+ C660 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $F6, $F6, $AD, $AD;
 195+ C664 E3 E3 E3 E3
 195+ C668 E3 E3 20 20
 195+ C66C F6 F6 AD AD
 196+ C670 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $F6, $F6;
 196+ C674 E3 E3 E3 E3
 196+ C678 E3 E3 20 10
 196+ C67C 10 10 F6 F6
 197+ C680 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $AC, $F6, $F6, $F6;
 197+ C684 E3 E3 E3 E3
 197+ C688 E3 20 10 10
 197+ C68C AC F6 F6 F6
 198+ C690 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $AD, $AD, $F6, $F6;
 198+ C694 E3 E3 E3 E3
 198+ C698 20 10 10 10
 198+ C69C AD AD F6 F6
 199+ C6A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $AD, $AD, $F6, $F6;
 199+ C6A4 E3 E3 E3 E3
 199+ C6A8 E3 20 20 20
 199+ C6AC AD AD F6 F6
 200+ C6B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6;
 200+ C6B4 E3 E3 E3 E3
 200+ C6B8 E3 E3 E3 E3
 200+ C6BC 20 AD F6 F6
 201+ C6C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6;
 201+ C6C4 E3 E3 E3 E3
 201+ C6C8 E3 E3 E3 E3
 201+ C6CC 20 AD AD F6
 202+ C6D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6;
 202+ C6D4 E3 E3 E3 E3
 202+ C6D8 E3 E3 E3 E3
 202+ C6DC 20 AD AD F6
 203+ C6E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD;
 203+ C6E4 E3 E3 E3 E3
 203+ C6E8 E3 E3 E3 E3
 203+ C6EC E3 20 AD AD
 204+ C6F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20;
 204+ C6F4 E3 E3 E3 E3
 204+ C6F8 E3 E3 E3 E3
 204+ C6FC E3 E3 20 20
 205+ C700              walk1_b: ;7
 206+ C700 AD AD AD FC  	db  $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 206+ C704 E3 E3 E3 E3
 206+ C708 E3 E3 E3 E3
 206+ C70C E3 E3 E3 E3
 207+ C710 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 207+ C714 E3 E3 E3 E3
 207+ C718 E3 E3 E3 E3
 207+ C71C E3 E3 E3 E3
 208+ C720 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 208+ C724 F6 E3 E3 E3
 208+ C728 E3 E3 E3 E3
 208+ C72C E3 E3 E3 E3
 209+ C730 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 209+ C734 AD F6 E3 E3
 209+ C738 E3 E3 E3 E3
 209+ C73C E3 E3 E3 E3
 210+ C740 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 210+ C744 AD F6 E3 E3
 210+ C748 E3 E3 E3 E3
 210+ C74C E3 E3 E3 E3
 211+ C750 AC AD AD F6  	db  $AC, $AD, $AD, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 211+ C754 AD F6 E3 E3
 211+ C758 E3 E3 E3 E3
 211+ C75C E3 E3 E3 E3
 212+ C760 10 14 14 14  	db  $10, $14, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 212+ C764 E3 E3 E3 E3
 212+ C768 E3 E3 E3 E3
 212+ C76C E3 E3 E3 E3
 213+ C770 10 14 14 10  	db  $10, $14, $14, $10, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 213+ C774 14 E3 E3 E3
 213+ C778 E3 E3 E3 E3
 213+ C77C E3 E3 E3 E3
 214+ C780 F6 10 14 10  	db  $F6, $10, $14, $10, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 214+ C784 14 E3 E3 E3
 214+ C788 E3 E3 E3 E3
 214+ C78C E3 E3 E3 E3
 215+ C790 F6 20 AD 14  	db  $F6, $20, $AD, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 215+ C794 14 E3 E3 E3
 215+ C798 E3 E3 E3 E3
 215+ C79C E3 E3 E3 E3
 216+ C7A0 F6 AC AD F6  	db  $F6, $AC, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 216+ C7A4 E3 E3 E3 E3
 216+ C7A8 E3 E3 E3 E3
 216+ C7AC E3 E3 E3 E3
 217+ C7B0 F6 AC F6 E3  	db  $F6, $AC, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 217+ C7B4 E3 E3 E3 E3
 217+ C7B8 E3 E3 E3 E3
 217+ C7BC E3 E3 E3 E3
 218+ C7C0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 218+ C7C4 E3 E3 E3 E3
 218+ C7C8 E3 E3 E3 E3
 218+ C7CC E3 E3 E3 E3
 219+ C7D0 F6 F6 E3 E3  	db  $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 219+ C7D4 E3 E3 E3 E3
 219+ C7D8 E3 E3 E3 E3
 219+ C7DC E3 E3 E3 E3
 220+ C7E0 F6 F6 E3 E3  	db  $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 220+ C7E4 E3 E3 E3 E3
 220+ C7E8 E3 E3 E3 E3
 220+ C7EC E3 E3 E3 E3
 221+ C7F0 20 E3 E3 E3  	db  $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 221+ C7F4 E3 E3 E3 E3
 221+ C7F8 E3 E3 E3 E3
 221+ C7FC E3 E3 E3 E3
 222+ C800
 223+ C800
 224+ C800
 225+ C800              walk2_a: ;8
 226+ C800 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6;
 226+ C804 E3 E3 E3 E3
 226+ C808 E3 E3 E3 E3
 226+ C80C 20 F6 F6 F6
 227+ C810 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6;
 227+ C814 E3 E3 E3 E3
 227+ C818 E3 E3 E3 20
 227+ C81C F6 F6 F6 F6
 228+ C820 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AD;
 228+ C824 E3 E3 E3 E3
 228+ C828 E3 E3 20 F6
 228+ C82C F6 F6 F6 AD
 229+ C830 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AC;
 229+ C834 E3 E3 E3 E3
 229+ C838 E3 E3 20 F6
 229+ C83C F6 F6 F6 AC
 230+ C840 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6;
 230+ C844 E3 E3 E3 E3
 230+ C848 E3 E3 20 F6
 230+ C84C F6 F6 F6 F6
 231+ C850 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6;
 231+ C854 E3 E3 E3 E3
 231+ C858 E3 E3 E3 20
 231+ C85C F6 F6 F6 F6
 232+ C860 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $F6, $F6;
 232+ C864 E3 E3 E3 E3
 232+ C868 E3 E3 E3 E3
 232+ C86C 20 20 F6 F6
 233+ C870 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $10, $10, $10;
 233+ C874 E3 E3 E3 E3
 233+ C878 E3 E3 20 20
 233+ C87C 20 10 10 10
 234+ C880 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $AD, $10, $10;
 234+ C884 E3 E3 E3 E3
 234+ C888 E3 20 AD AD
 234+ C88C AD AD 10 10
 235+ C890 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $AD, $AD, $10;
 235+ C894 E3 E3 E3 E3
 235+ C898 E3 20 AD AD
 235+ C89C AD AD AD 10
 236+ C8A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $AC, $AC, $20;
 236+ C8A4 E3 E3 E3 E3
 236+ C8A8 E3 20 AD F6
 236+ C8AC F6 AC AC 20
 237+ C8B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $20, $20, $E3;
 237+ C8B4 E3 E3 E3 E3
 237+ C8B8 E3 20 AD F6
 237+ C8BC F6 20 20 E3
 238+ C8C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $20, $E3, $E3, $E3;
 238+ C8C4 E3 E3 E3 E3
 238+ C8C8 E3 20 AD F6
 238+ C8CC 20 E3 E3 E3
 239+ C8D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $E3, $E3, $E3, $E3;
 239+ C8D4 E3 E3 E3 E3
 239+ C8D8 E3 E3 20 20
 239+ C8DC E3 E3 E3 E3
 240+ C8E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 240+ C8E4 E3 E3 E3 E3
 240+ C8E8 E3 E3 E3 E3
 240+ C8EC E3 E3 E3 E3
 241+ C8F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 241+ C8F4 E3 E3 E3 E3
 241+ C8F8 E3 E3 E3 E3
 241+ C8FC E3 E3 E3 E3
 242+ C900              walk2_b: ;9
 243+ C900 F6 AC AD AD  	db  $F6, $AC, $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 243+ C904 AD FC E3 E3
 243+ C908 E3 E3 E3 E3
 243+ C90C E3 E3 E3 E3
 244+ C910 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 244+ C914 F6 E3 E3 E3
 244+ C918 E3 E3 E3 E3
 244+ C91C E3 E3 E3 E3
 245+ C920 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 245+ C924 F6 F6 E3 E3
 245+ C928 E3 E3 E3 E3
 245+ C92C E3 E3 E3 E3
 246+ C930 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $F6, $AC, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 246+ C934 F6 F6 AC F6
 246+ C938 E3 E3 E3 E3
 246+ C93C E3 E3 E3 E3
 247+ C940 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 247+ C944 F6 F6 AD F6
 247+ C948 E3 E3 E3 E3
 247+ C94C E3 E3 E3 E3
 248+ C950 F6 F6 AC AD  	db  $F6, $F6, $AC, $AD, $AD, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 248+ C954 AD F6 AD F6
 248+ C958 E3 E3 E3 E3
 248+ C95C E3 E3 E3 E3
 249+ C960 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $10, $AC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 249+ C964 F6 10 AC E3
 249+ C968 E3 E3 E3 E3
 249+ C96C E3 E3 E3 E3
 250+ C970 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $10, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 250+ C974 F6 F6 10 E3
 250+ C978 E3 E3 E3 E3
 250+ C97C E3 E3 E3 E3
 251+ C980 10 AD AD F6  	db  $10, $AD, $AD, $F6, $F6, $F6, $F6, $E3, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3;
 251+ C984 F6 F6 F6 E3
 251+ C988 F6 F6 E3 E3
 251+ C98C E3 E3 E3 E3
 252+ C990 10 20 10 AD  	db  $10, $20, $10, $AD, $AD, $F6, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3;
 252+ C994 AD F6 F6 F6
 252+ C998 F6 F6 F6 E3
 252+ C99C E3 E3 E3 E3
 253+ C9A0 10 20 20 20  	db  $10, $20, $20, $20, $AD, $AD, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3;
 253+ C9A4 AD AD F6 F6
 253+ C9A8 F6 F6 F6 E3
 253+ C9AC E3 E3 E3 E3
 254+ C9B0 20 E3 E3 E3  	db  $20, $E3, $E3, $E3, $20, $AD, $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3;
 254+ C9B4 20 AD AD AD
 254+ C9B8 F6 F6 E3 E3
 254+ C9BC E3 E3 E3 E3
 255+ C9C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $20, $E3, $E3, $E3, $E3, $E3, $E3;
 255+ C9C4 E3 20 AD AD
 255+ C9C8 AD 20 E3 E3
 255+ C9CC E3 E3 E3 E3
 256+ C9D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 256+ C9D4 E3 E3 20 20
 256+ C9D8 20 E3 E3 E3
 256+ C9DC E3 E3 E3 E3
 257+ C9E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 257+ C9E4 E3 E3 E3 E3
 257+ C9E8 E3 E3 E3 E3
 257+ C9EC E3 E3 E3 E3
 258+ C9F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 258+ C9F4 E3 E3 E3 E3
 258+ C9F8 E3 E3 E3 E3
 258+ C9FC E3 E3 E3 E3
 259+ CA00
 260+ CA00
 261+ CA00
 262+ CA00              walk3_a: ;10
 263+ CA00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6;
 263+ CA04 E3 E3 E3 E3
 263+ CA08 E3 E3 E3 20
 263+ CA0C F6 F6 F6 F6
 264+ CA10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6;
 264+ CA14 E3 E3 E3 E3
 264+ CA18 E3 E3 20 F6
 264+ CA1C F6 F6 F6 F6
 265+ CA20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AC, $F6;
 265+ CA24 E3 E3 E3 E3
 265+ CA28 E3 20 F6 F6
 265+ CA2C F6 F6 AC F6
 266+ CA30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $AD, $AC;
 266+ CA34 E3 E3 E3 E3
 266+ CA38 E3 20 F6 F6
 266+ CA3C F6 F6 AD AC
 267+ CA40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6, $F6;
 267+ CA44 E3 E3 E3 E3
 267+ CA48 E3 20 F6 F6
 267+ CA4C F6 F6 F6 F6
 268+ CA50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $F6, $F6;
 268+ CA54 E3 E3 E3 E3
 268+ CA58 E3 E3 20 F6
 268+ CA5C F6 F6 F6 F6
 269+ CA60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $20, $F6, $F6, $F6;
 269+ CA64 E3 E3 E3 E3
 269+ CA68 E3 20 20 20
 269+ CA6C 20 F6 F6 F6
 270+ CA70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $10, $14, $F6, $F6;
 270+ CA74 E3 E3 E3 E3
 270+ CA78 20 10 10 10
 270+ CA7C 10 14 F6 F6
 271+ CA80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $10, $10, $14;
 271+ CA84 E3 E3 E3 E3
 271+ CA88 E3 20 10 10
 271+ CA8C 10 10 10 14
 272+ CA90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $AD, $10, $10, $10;
 272+ CA94 E3 E3 E3 E3
 272+ CA98 E3 E3 20 10
 272+ CA9C AD 10 10 10
 273+ CAA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $10, $10;
 273+ CAA4 E3 E3 E3 E3
 273+ CAA8 E3 E3 20 AD
 273+ CAAC AD F6 10 10
 274+ CAB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $F6;
 274+ CAB4 E3 E3 E3 E3
 274+ CAB8 E3 E3 20 AD
 274+ CABC AD F6 F6 F6
 275+ CAC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $20;
 275+ CAC4 E3 E3 E3 E3
 275+ CAC8 E3 E3 E3 20
 275+ CACC AD F6 F6 20
 276+ CAD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $E3;
 276+ CAD4 E3 E3 E3 E3
 276+ CAD8 E3 E3 E3 E3
 276+ CADC 20 20 20 E3
 277+ CAE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 277+ CAE4 E3 E3 E3 E3
 277+ CAE8 E3 E3 E3 E3
 277+ CAEC E3 E3 E3 E3
 278+ CAF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 278+ CAF4 E3 E3 E3 E3
 278+ CAF8 E3 E3 E3 E3
 278+ CAFC E3 E3 E3 E3
 279+ CB00
 280+ CB00
 281+ CB00
 282+ CB00              walk3_b: ;11
 283+ CB00 AC AD AD AD  	db  $AC, $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 283+ CB04 FC E3 E3 E3
 283+ CB08 E3 E3 E3 E3
 283+ CB0C E3 E3 E3 E3
 284+ CB10 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 284+ CB14 E3 E3 E3 E3
 284+ CB18 E3 E3 E3 E3
 284+ CB1C E3 E3 E3 E3
 285+ CB20 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 285+ CB24 F6 E3 E3 E3
 285+ CB28 E3 E3 E3 E3
 285+ CB2C E3 E3 E3 E3
 286+ CB30 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 286+ CB34 F6 E3 E3 E3
 286+ CB38 E3 E3 E3 E3
 286+ CB3C E3 E3 E3 E3
 287+ CB40 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 287+ CB44 F6 AD F6 E3
 287+ CB48 E3 E3 E3 E3
 287+ CB4C E3 E3 E3 E3
 288+ CB50 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 288+ CB54 F6 AD F6 E3
 288+ CB58 E3 E3 E3 E3
 288+ CB5C E3 E3 E3 E3
 289+ CB60 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 289+ CB64 F6 AD F6 E3
 289+ CB68 E3 E3 E3 E3
 289+ CB6C E3 E3 E3 E3
 290+ CB70 AD AD AD AD  	db  $AD, $AD, $AD, $AD, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 290+ CB74 14 14 E3 E3
 290+ CB78 E3 E3 E3 E3
 290+ CB7C E3 E3 E3 E3
 291+ CB80 14 14 14 14  	db  $14, $14, $14, $14, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 291+ CB84 14 14 E3 E3
 291+ CB88 E3 E3 E3 E3
 291+ CB8C E3 E3 E3 E3
 292+ CB90 10 14 14 F6  	db  $10, $14, $14, $F6, $F6, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 292+ CB94 F6 14 E3 E3
 292+ CB98 E3 E3 E3 E3
 292+ CB9C E3 E3 E3 E3
 293+ CBA0 10 10 AD F6  	db  $10, $10, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 293+ CBA4 F6 F6 E3 E3
 293+ CBA8 E3 E3 E3 E3
 293+ CBAC E3 E3 E3 E3
 294+ CBB0 20 10 AD F6  	db  $20, $10, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 294+ CBB4 F6 F6 E3 E3
 294+ CBB8 E3 E3 E3 E3
 294+ CBBC E3 E3 E3 E3
 295+ CBC0 E3 20 AD F6  	db  $E3, $20, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 295+ CBC4 F6 F6 E3 E3
 295+ CBC8 E3 E3 E3 E3
 295+ CBCC E3 E3 E3 E3
 296+ CBD0 E3 20 AD AD  	db  $E3, $20, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 296+ CBD4 F6 F6 F6 E3
 296+ CBD8 E3 E3 E3 E3
 296+ CBDC E3 E3 E3 E3
 297+ CBE0 E3 E3 20 AD  	db  $E3, $E3, $20, $AD, $AD, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 297+ CBE4 AD AD F6 E3
 297+ CBE8 E3 E3 E3 E3
 297+ CBEC E3 E3 E3 E3
 298+ CBF0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 298+ CBF4 20 20 E3 E3
 298+ CBF8 E3 E3 E3 E3
 298+ CBFC E3 E3 E3 E3
 299+ CC00
 300+ CC00
 301+ CC00
 302+ CC00              walk4_a: ;12
 303+ CC00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $F6;
 303+ CC04 E3 E3 E3 E3
 303+ CC08 E3 E3 E3 E3
 303+ CC0C E3 20 20 F6
 304+ CC10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6;
 304+ CC14 E3 E3 E3 E3
 304+ CC18 E3 E3 E3 E3
 304+ CC1C E3 20 F6 F6
 305+ CC20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6;
 305+ CC24 E3 E3 E3 E3
 305+ CC28 E3 E3 E3 E3
 305+ CC2C 20 F6 F6 F6
 306+ CC30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6;
 306+ CC34 E3 E3 E3 E3
 306+ CC38 E3 E3 E3 E3
 306+ CC3C 20 F6 F6 F6
 307+ CC40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6;
 307+ CC44 E3 E3 E3 E3
 307+ CC48 E3 E3 E3 E3
 307+ CC4C 20 F6 F6 F6
 308+ CC50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $10, $10, $F6, $F6;
 308+ CC54 E3 E3 E3 E3
 308+ CC58 E3 E3 20 20
 308+ CC5C 10 10 F6 F6
 309+ CC60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $10, $10, $10;
 309+ CC64 E3 E3 E3 E3
 309+ CC68 E3 20 10 10
 309+ CC6C 10 10 10 10
 310+ CC70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $10, $10;
 310+ CC74 E3 E3 E3 E3
 310+ CC78 E3 E3 20 10
 310+ CC7C 10 10 10 10
 311+ CC80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $20, $10, $10, $10, $14;
 311+ CC84 E3 E3 E3 E3
 311+ CC88 E3 20 10 20
 311+ CC8C 10 10 10 14
 312+ CC90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $10, $10, $10, $10;
 312+ CC94 E3 E3 E3 E3
 312+ CC98 E3 E3 20 AD
 312+ CC9C 10 10 10 10
 313+ CCA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $10, $10, $F6, $F6;
 313+ CCA4 E3 E3 E3 E3
 313+ CCA8 E3 20 AD AD
 313+ CCAC 10 10 F6 F6
 314+ CCB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $F6, $E3;
 314+ CCB4 E3 E3 E3 E3
 314+ CCB8 E3 20 AD AD
 314+ CCBC F6 F6 F6 E3
 315+ CCC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6, $E3, $E3;
 315+ CCC4 E3 E3 E3 E3
 315+ CCC8 E3 20 AD F6
 315+ CCCC F6 F6 E3 E3
 316+ CCD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $F6, $F6, $F6, $E3, $E3;
 316+ CCD4 E3 E3 E3 E3
 316+ CCD8 E3 E3 20 F6
 316+ CCDC F6 F6 E3 E3
 317+ CCE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $E3, $E3, $E3;
 317+ CCE4 E3 E3 E3 E3
 317+ CCE8 E3 E3 E3 20
 317+ CCEC 20 E3 E3 E3
 318+ CCF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 318+ CCF4 E3 E3 E3 E3
 318+ CCF8 E3 E3 E3 E3
 318+ CCFC E3 E3 E3 E3
 319+ CD00
 320+ CD00
 321+ CD00
 322+ CD00              walk4_b: ;13
 323+ CD00 F6 F6 AC AD  	db  $F6, $F6, $AC, $AD, $AD, $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 323+ CD04 AD AD FC E3
 323+ CD08 E3 E3 E3 E3
 323+ CD0C E3 E3 E3 E3
 324+ CD10 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 324+ CD14 F6 F6 E3 E3
 324+ CD18 E3 E3 E3 E3
 324+ CD1C E3 E3 E3 E3
 325+ CD20 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 325+ CD24 F6 F6 F6 E3
 325+ CD28 E3 E3 E3 E3
 325+ CD2C E3 E3 E3 E3
 326+ CD30 F6 AC AD F6  	db  $F6, $AC, $AD, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 326+ CD34 F6 F6 F6 E3
 326+ CD38 E3 E3 E3 E3
 326+ CD3C E3 E3 E3 E3
 327+ CD40 F6 F6 F6 AD  	db  $F6, $F6, $F6, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 327+ CD44 F6 F6 F6 E3
 327+ CD48 E3 E3 E3 E3
 327+ CD4C E3 E3 E3 E3
 328+ CD50 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 328+ CD54 AD F6 F6 E3
 328+ CD58 E3 E3 E3 E3
 328+ CD5C E3 E3 E3 E3
 329+ CD60 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $AD, $14, $14, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 329+ CD64 AD 14 14 F6
 329+ CD68 F6 E3 E3 E3
 329+ CD6C E3 E3 E3 E3
 330+ CD70 10 F6 F6 14  	db  $10, $F6, $F6, $14, $14, $F6, $F6, $F6, $F6, $F6, $E3, $F6, $F6, $E3, $E3, $E3;
 330+ CD74 14 F6 F6 F6
 330+ CD78 F6 F6 E3 F6
 330+ CD7C F6 E3 E3 E3
 331+ CD80 14 14 14 14  	db  $14, $14, $14, $14, $14, $AD, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $E3, $E3;
 331+ CD84 14 AD F6 F6
 331+ CD88 F6 F6 F6 F6
 331+ CD8C F6 F6 E3 E3
 332+ CD90 10 10 14 14  	db  $10, $10, $14, $14, $AD, $AD, $AD, $AD, $AD, $F6, $F6, $F6, $F6, $F6, $E3, $E3;
 332+ CD94 AD AD AD AD
 332+ CD98 AD F6 F6 F6
 332+ CD9C F6 F6 E3 E3
 333+ CDA0 20 14 20 20  	db  $20, $14, $20, $20, $20, $20, $20, $20, $AD, $AD, $F6, $F6, $F6, $20, $E3, $E3;
 333+ CDA4 20 20 20 20
 333+ CDA8 AD AD F6 F6
 333+ CDAC F6 20 E3 E3
 334+ CDB0 E3 20 E3 E3  	db  $E3, $20, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $20, $E3, $E3, $E3;
 334+ CDB4 E3 E3 E3 E3
 334+ CDB8 20 AD AD AD
 334+ CDBC 20 E3 E3 E3
 335+ CDC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $E3, $E3, $E3, $E3;
 335+ CDC4 E3 E3 E3 E3
 335+ CDC8 E3 20 20 20
 335+ CDCC E3 E3 E3 E3
 336+ CDD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 336+ CDD4 E3 E3 E3 E3
 336+ CDD8 E3 E3 E3 E3
 336+ CDDC E3 E3 E3 E3
 337+ CDE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 337+ CDE4 E3 E3 E3 E3
 337+ CDE8 E3 E3 E3 E3
 337+ CDEC E3 E3 E3 E3
 338+ CDF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 338+ CDF4 E3 E3 E3 E3
 338+ CDF8 E3 E3 E3 E3
 338+ CDFC E3 E3 E3 E3
 339+ CE00
 340+ CE00
 341+ CE00
 342+ CE00
 343+ CE00
 344+ CE00
 345+ CE00
 346+ CE00
 347+ CE00
 348+ CE00
 349+ CE00
 350+ CE00              throw1_a: ;14
 351+ CE00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 351+ CE04 E3 E3 E3 E3
 351+ CE08 E3 E3 E3 E3
 351+ CE0C E3 E3 E3 E3
 352+ CE10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 352+ CE14 E3 E3 E3 E3
 352+ CE18 E3 E3 E3 E3
 352+ CE1C E3 E3 E3 E3
 353+ CE20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $FC, $E3, $FC, $E3, $D5, $FC, $FC, $FC, $E3, $E3, $E3;
 353+ CE24 E3 FC E3 FC
 353+ CE28 E3 D5 FC FC
 353+ CE2C FC E3 E3 E3
 354+ CE30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $D5, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $E3;
 354+ CE34 E3 D5 FC FC
 354+ CE38 FC FC FC FC
 354+ CE3C FC FC FC E3
 355+ CE40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $FC, $D5, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC, $FC;
 355+ CE44 FC D5 FC FC
 355+ CE48 FC FC FC FC
 355+ CE4C FC FC FC FC
 356+ CE50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $FC, $D5, $FC, $FC, $D5, $D5, $FC, $FC, $FC, $FC, $FC;
 356+ CE54 E3 FC D5 FC
 356+ CE58 FC D5 D5 FC
 356+ CE5C FC FC FC FC
 357+ CE60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $D5, $FC, $D5, $D5, $FC, $FC, $D5, $FC, $FC, $FC;
 357+ CE64 E3 E3 D5 FC
 357+ CE68 D5 D5 FC FC
 357+ CE6C D5 FC FC FC
 358+ CE70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $D4, $D5, $FC, $D5, $FC, $FC, $FC, $D5, $AC, $FC, $FC;
 358+ CE74 E3 D4 D5 FC
 358+ CE78 D5 FC FC FC
 358+ CE7C D5 AC FC FC
 359+ CE80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $D4, $D4, $D5, $FC, $FC, $FC, $FC, $AC, $AD, $FC, $AD;
 359+ CE84 E3 D4 D4 D5
 359+ CE88 FC FC FC FC
 359+ CE8C AC AD FC AD
 360+ CE90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $B0, $D4, $D4, $FC, $D5, $FC, $AD, $AD, $AD, $AD, $F6;
 360+ CE94 E3 B0 D4 D4
 360+ CE98 FC D5 FC AD
 360+ CE9C AD AD AD F6
 361+ CEA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $B0, $B0, $D4, $D4, $AD, $AD, $AD, $FF, $FF, $F6, $FF;
 361+ CEA4 E3 B0 B0 D4
 361+ CEA8 D4 AD AD AD
 361+ CEAC FF FF F6 FF
 362+ CEB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $20, $20, $B0, $B0, $D4, $AD, $AD, $FF, $FF, $20, $F6, $20;
 362+ CEB4 20 20 B0 B0
 362+ CEB8 D4 AD AD FF
 362+ CEBC FF 20 F6 20
 363+ CEC0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $D5, $20, $B0, $FC, $AD, $AD, $FF, $FF, $20, $F6, $20;
 363+ CEC4 AD D5 20 B0
 363+ CEC8 FC AD AD FF
 363+ CECC FF 20 F6 20
 364+ CED0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $D5, $D5, $FC, $F6, $AD, $AD, $F6, $F6, $F6, $F6, $F6;
 364+ CED4 AD D5 D5 FC
 364+ CED8 F6 AD AD F6
 364+ CEDC F6 F6 F6 F6
 365+ CEE0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $F6, $F6, $D5, $F6, $FC, $AD, $AD, $F6, $F6, $FF, $F6;
 365+ CEE4 AD F6 F6 D5
 365+ CEE8 F6 FC AD AD
 365+ CEEC F6 F6 FF F6
 366+ CEF0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6, $F6, $FC, $AD, $AD, $F6, $F6, $E1, $F6;
 366+ CEF4 AD F6 F6 F6
 366+ CEF8 F6 FC AD AD
 366+ CEFC F6 F6 E1 F6
 367+ CF00
 368+ CF00
 369+ CF00
 370+ CF00              throw1_b: ;15
 371+ CF00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 371+ CF04 E3 E3 E3 E3
 371+ CF08 E3 E3 E3 E3
 371+ CF0C E3 E3 E3 E3
 372+ CF10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 372+ CF14 E3 E3 E3 E3
 372+ CF18 E3 E3 E3 E3
 372+ CF1C E3 E3 E3 E3
 373+ CF20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 373+ CF24 E3 E3 E3 E3
 373+ CF28 E3 E3 E3 E3
 373+ CF2C E3 E3 E3 E3
 374+ CF30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 374+ CF34 E3 E3 E3 E3
 374+ CF38 E3 E3 E3 E3
 374+ CF3C E3 E3 E3 E3
 375+ CF40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 375+ CF44 E3 E3 E3 E3
 375+ CF48 E3 E3 E3 E3
 375+ CF4C E3 E3 E3 E3
 376+ CF50 FC E3 E3 E3  	db  $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 376+ CF54 E3 E3 E3 E3
 376+ CF58 E3 E3 E3 E3
 376+ CF5C E3 E3 E3 E3
 377+ CF60 FC E3 E3 E3  	db  $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 377+ CF64 E3 E3 E3 E3
 377+ CF68 E3 E3 E3 E3
 377+ CF6C E3 E3 E3 E3
 378+ CF70 FC FC E3 E3  	db  $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 378+ CF74 E3 E3 E3 E3
 378+ CF78 E3 E3 E3 E3
 378+ CF7C E3 E3 E3 E3
 379+ CF80 FC FC E3 E3  	db  $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 379+ CF84 E3 E3 E3 E3
 379+ CF88 E3 E3 E3 E3
 379+ CF8C E3 E3 E3 E3
 380+ CF90 AD FC E3 E3  	db  $AD, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 380+ CF94 E3 E3 E3 E3
 380+ CF98 E3 E3 E3 E3
 380+ CF9C E3 E3 E3 E3
 381+ CFA0 F6 FC E3 E3  	db  $F6, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 381+ CFA4 E3 E3 E3 E3
 381+ CFA8 E3 E3 E3 E3
 381+ CFAC E3 E3 E3 E3
 382+ CFB0 FF E3 E3 E3  	db  $FF, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 382+ CFB4 E3 E3 E3 E3
 382+ CFB8 E3 E3 E3 E3
 382+ CFBC E3 E3 E3 E3
 383+ CFC0 FF E3 E3 E3  	db  $FF, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 383+ CFC4 E3 E3 E3 E3
 383+ CFC8 E3 E3 E3 E3
 383+ CFCC E3 E3 E3 E3
 384+ CFD0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 384+ CFD4 E3 E3 E3 E3
 384+ CFD8 E3 E3 E3 E3
 384+ CFDC E3 E3 E3 E3
 385+ CFE0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 385+ CFE4 E3 E3 E3 E3
 385+ CFE8 E3 E3 E3 E3
 385+ CFEC E3 E3 E3 E3
 386+ CFF0 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 386+ CFF4 E3 E3 E3 E3
 386+ CFF8 E3 E3 E3 E3
 386+ CFFC E3 E3 E3 E3
 387+ D000
 388+ D000
 389+ D000
 390+ D000              throw1_c: ;16
 391+ D000 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6, $F6, $F6, $AD, $AD, $F6, $F6, $F6;
 391+ D004 20 AD F6 F6
 391+ D008 F6 F6 F6 AD
 391+ D00C AD F6 F6 F6
 392+ D010 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $AD, $AD, $AD;
 392+ D014 20 AD F6 F6
 392+ D018 F6 F6 F6 F6
 392+ D01C F6 AD AD AD
 393+ D020 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $AD, $F6, $F6, $F6, $F6, $F6, $F6;
 393+ D024 E3 20 AD F6
 393+ D028 F6 AD F6 F6
 393+ D02C F6 F6 F6 F6
 394+ D030 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $AD, $F6, $F6, $F6, $F6, $F6;
 394+ D034 E3 E3 20 AD
 394+ D038 AD AD AD F6
 394+ D03C F6 F6 F6 F6
 395+ D040 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $AC, $AD, $AD, $F6, $F6, $F6, $F6;
 395+ D044 E3 E3 E3 20
 395+ D048 20 AC AD AD
 395+ D04C F6 F6 F6 F6
 396+ D050 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AC, $AD, $AD, $AD, $F6, $F6;
 396+ D054 E3 E3 E3 E3
 396+ D058 E3 20 AC AD
 396+ D05C AD AD F6 F6
 397+ D060 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $14, $14, $14, $14;
 397+ D064 E3 E3 E3 E3
 397+ D068 20 10 10 10
 397+ D06C 14 14 14 14
 398+ D070 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $10, $10, $14, $14, $14;
 398+ D074 E3 E3 E3 20
 398+ D078 10 10 10 10
 398+ D07C 10 14 14 14
 399+ D080 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $F6, $F6, $10, $14, $14;
 399+ D084 E3 E3 E3 20
 399+ D088 10 10 10 F6
 399+ D08C F6 10 14 14
 400+ D090 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $20, $AD, $F6, $F6, $F6, $10, $14;
 400+ D094 E3 E3 E3 20
 400+ D098 10 20 AD F6
 400+ D09C F6 F6 10 14
 401+ D0A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $AD, $F6, $F6, $F6, $20, $10;
 401+ D0A4 E3 E3 E3 E3
 401+ D0A8 20 20 AD F6
 401+ D0AC F6 F6 20 10
 402+ D0B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $F6, $F6, $F6, $F6, $E3, $20;
 402+ D0B4 E3 E3 E3 E3
 402+ D0B8 20 AD F6 F6
 402+ D0BC F6 F6 E3 20
 403+ D0C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3;
 403+ D0C4 E3 E3 E3 20
 403+ D0C8 AD AD F6 F6
 403+ D0CC F6 E3 E3 E3
 404+ D0D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $F6, $F6, $E3, $E3;
 404+ D0D4 E3 E3 E3 20
 404+ D0D8 AD AD F6 F6
 404+ D0DC F6 F6 E3 E3
 405+ D0E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $F6, $F6, $E3, $E3;
 405+ D0E4 E3 E3 E3 E3
 405+ D0E8 20 AD AD AD
 405+ D0EC F6 F6 E3 E3
 406+ D0F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $20, $20, $20, $E3, $E3, $E3;
 406+ D0F4 E3 E3 E3 E3
 406+ D0F8 E3 20 20 20
 406+ D0FC 20 E3 E3 E3
 407+ D100
 408+ D100
 409+ D100
 410+ D100              throw1_d: ;17
 411+ D100 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 411+ D104 E3 E3 E3 E3
 411+ D108 E3 E3 E3 E3
 411+ D10C E3 E3 E3 E3
 412+ D110 F6 E3 E3 E3  	db  $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 412+ D114 E3 E3 E3 E3
 412+ D118 E3 E3 E3 E3
 412+ D11C E3 E3 E3 E3
 413+ D120 AD F6 F6 E3  	db  $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 413+ D124 E3 E3 E3 E3
 413+ D128 E3 E3 E3 E3
 413+ D12C E3 E3 E3 E3
 414+ D130 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 414+ D134 F6 E3 E3 E3
 414+ D138 E3 E3 E3 E3
 414+ D13C E3 E3 E3 E3
 415+ D140 F6 AD F6 F6  	db  $F6, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 415+ D144 E3 E3 E3 E3
 415+ D148 E3 E3 E3 E3
 415+ D14C E3 E3 E3 E3
 416+ D150 14 14 20 E3  	db  $14, $14, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 416+ D154 E3 E3 E3 E3
 416+ D158 E3 E3 E3 E3
 416+ D15C E3 E3 E3 E3
 417+ D160 14 14 F6 F6  	db  $14, $14, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 417+ D164 F6 E3 E3 E3
 417+ D168 E3 E3 E3 E3
 417+ D16C E3 E3 E3 E3
 418+ D170 14 14 AD F6  	db  $14, $14, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 418+ D174 F6 F6 E3 E3
 418+ D178 E3 E3 E3 E3
 418+ D17C E3 E3 E3 E3
 419+ D180 14 AD AD F6  	db  $14, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 419+ D184 F6 F6 E3 E3
 419+ D188 E3 E3 E3 E3
 419+ D18C E3 E3 E3 E3
 420+ D190 14 20 AD AD  	db  $14, $20, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 420+ D194 F6 F6 F6 E3
 420+ D198 E3 E3 E3 E3
 420+ D19C E3 E3 E3 E3
 421+ D1A0 14 E3 20 AD  	db  $14, $E3, $20, $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 421+ D1A4 AD F6 F6 E3
 421+ D1A8 E3 E3 E3 E3
 421+ D1AC E3 E3 E3 E3
 422+ D1B0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 422+ D1B4 20 20 E3 E3
 422+ D1B8 E3 E3 E3 E3
 422+ D1BC E3 E3 E3 E3
 423+ D1C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 423+ D1C4 E3 E3 E3 E3
 423+ D1C8 E3 E3 E3 E3
 423+ D1CC E3 E3 E3 E3
 424+ D1D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 424+ D1D4 E3 E3 E3 E3
 424+ D1D8 E3 E3 E3 E3
 424+ D1DC E3 E3 E3 E3
 425+ D1E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 425+ D1E4 E3 E3 E3 E3
 425+ D1E8 E3 E3 E3 E3
 425+ D1EC E3 E3 E3 E3
 426+ D1F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 426+ D1F4 E3 E3 E3 E3
 426+ D1F8 E3 E3 E3 E3
 426+ D1FC E3 E3 E3 E3
 427+ D200
 428+ D200
 429+ D200
 430+ D200
 431+ D200
 432+ D200
 433+ D200
 434+ D200              throw2_a: ;18
 435+ D200 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 435+ D204 E3 E3 E3 E3
 435+ D208 E3 E3 E3 E3
 435+ D20C E3 E3 E3 E3
 436+ D210 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 436+ D214 E3 E3 E3 E3
 436+ D218 E3 E3 E3 E3
 436+ D21C E3 E3 E3 E3
 437+ D220 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 437+ D224 E3 E3 E3 E3
 437+ D228 E3 E3 E3 E3
 437+ D22C E3 E3 E3 E3
 438+ D230 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $FC, $E3, $E3, $E3, $E3;
 438+ D234 E3 E3 E3 E3
 438+ D238 E3 E3 E3 FC
 438+ D23C E3 E3 E3 E3
 439+ D240 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $FC, $FC, $E3, $FC, $E3, $E3, $FC, $FC;
 439+ D244 E3 E3 E3 E3
 439+ D248 FC FC E3 FC
 439+ D24C E3 E3 FC FC
 440+ D250 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $FC, $FC, $D5, $FC, $D5, $D5, $FC;
 440+ D254 E3 E3 E3 E3
 440+ D258 E3 FC FC D5
 440+ D25C FC D5 D5 FC
 441+ D260 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $FC, $FC, $D5, $D5, $FC, $D5, $D5, $D5;
 441+ D264 E3 E3 E3 E3
 441+ D268 FC FC D5 D5
 441+ D26C FC D5 D5 D5
 442+ D270 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $FC, $D5, $D5, $D5, $D5;
 442+ D274 E3 E3 E3 E3
 442+ D278 E3 20 D5 FC
 442+ D27C D5 D5 D5 D5
 443+ D280 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 443+ D284 E3 E3 E3 E3
 443+ D288 20 D5 D5 D5
 443+ D28C D5 D5 D5 D5
 444+ D290 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 444+ D294 E3 E3 E3 E3
 444+ D298 20 D5 D5 D5
 444+ D29C D5 D5 D5 D5
 445+ D2A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 445+ D2A4 E3 E3 E3 E3
 445+ D2A8 20 D5 D5 D5
 445+ D2AC D5 D5 D5 D5
 446+ D2B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 446+ D2B4 E3 E3 E3 E3
 446+ D2B8 20 D5 D5 D5
 446+ D2BC D5 D5 D5 D5
 447+ D2C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 447+ D2C4 E3 E3 E3 E3
 447+ D2C8 20 D5 D5 D5
 447+ D2CC D5 D5 D5 D5
 448+ D2D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5, $D5;
 448+ D2D4 E3 E3 E3 E3
 448+ D2D8 20 D5 D5 D5
 448+ D2DC D5 D5 D5 D5
 449+ D2E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $D5, $D5;
 449+ D2E4 E3 E3 E3 E3
 449+ D2E8 E3 20 D5 D5
 449+ D2EC D5 D5 D5 D5
 450+ D2F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $D5, $D5, $D5, $D5, $AD, $F6;
 450+ D2F4 E3 E3 E3 E3
 450+ D2F8 E3 20 D5 D5
 450+ D2FC D5 D5 AD F6
 451+ D300
 452+ D300
 453+ D300
 454+ D300              throw2_b: ;19
 455+ D300 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 455+ D304 E3 E3 E3 E3
 455+ D308 E3 E3 E3 E3
 455+ D30C E3 E3 E3 E3
 456+ D310 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 456+ D314 E3 E3 E3 E3
 456+ D318 E3 E3 E3 E3
 456+ D31C E3 E3 E3 E3
 457+ D320 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 457+ D324 E3 E3 E3 E3
 457+ D328 E3 E3 E3 E3
 457+ D32C E3 E3 E3 E3
 458+ D330 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 458+ D334 E3 E3 E3 E3
 458+ D338 E3 E3 E3 E3
 458+ D33C E3 E3 E3 E3
 459+ D340 FC E3 E3 E3  	db  $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 459+ D344 E3 E3 E3 E3
 459+ D348 E3 E3 E3 E3
 459+ D34C E3 E3 E3 E3
 460+ D350 FC FC FC FC  	db  $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 460+ D354 E3 E3 E3 E3
 460+ D358 E3 E3 E3 E3
 460+ D35C E3 E3 E3 E3
 461+ D360 D5 FC FC FC  	db  $D5, $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 461+ D364 FC E3 E3 E3
 461+ D368 E3 E3 E3 E3
 461+ D36C E3 E3 E3 E3
 462+ D370 D5 FC FC FC  	db  $D5, $FC, $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 462+ D374 FC FC E3 E3
 462+ D378 E3 E3 E3 E3
 462+ D37C E3 E3 E3 E3
 463+ D380 D5 D5 FC FC  	db  $D5, $D5, $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 463+ D384 FC FC E3 E3
 463+ D388 E3 E3 E3 E3
 463+ D38C E3 E3 E3 E3
 464+ D390 D5 D5 FC FC  	db  $D5, $D5, $FC, $FC, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 464+ D394 FC FC FC E3
 464+ D398 E3 E3 E3 E3
 464+ D39C E3 E3 E3 E3
 465+ D3A0 D5 D5 FC D5  	db  $D5, $D5, $FC, $D5, $FC, $FC, $FC, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 465+ D3A4 FC FC FC E3
 465+ D3A8 E3 E3 E3 E3
 465+ D3AC E3 E3 E3 E3
 466+ D3B0 D5 D5 FC D5  	db  $D5, $D5, $FC, $D5, $FC, $FC, $AD, $E3, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 466+ D3B4 FC FC AD E3
 466+ D3B8 F6 E3 E3 E3
 466+ D3BC E3 E3 E3 E3
 467+ D3C0 D5 D5 D5 D5  	db  $D5, $D5, $D5, $D5, $AD, $AD, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 467+ D3C4 AD AD F6 F6
 467+ D3C8 F6 E3 E3 E3
 467+ D3CC E3 E3 E3 E3
 468+ D3D0 D5 D5 D5 AD  	db  $D5, $D5, $D5, $AD, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 468+ D3D4 F6 F6 F6 F6
 468+ D3D8 F6 E3 E3 E3
 468+ D3DC E3 E3 E3 E3
 469+ D3E0 AD F6 F6 F6  	db  $AD, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3;
 469+ D3E4 F6 F6 F6 F6
 469+ D3E8 F6 F6 E3 E3
 469+ D3EC E3 E3 E3 E3
 470+ D3F0 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $F6, $F6, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 470+ D3F4 F6 F6 F6 F6
 470+ D3F8 20 E3 E3 E3
 470+ D3FC E3 E3 E3 E3
 471+ D400
 472+ D400
 473+ D400
 474+ D400              throw2_c: ;20
 475+ D400 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $AD, $D5, $D5, $AD, $AD, $F6;
 475+ D404 E3 E3 E3 E3
 475+ D408 E3 20 AD D5
 475+ D40C D5 AD AD F6
 476+ D410 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $AD, $AD, $AD, $AD, $AD, $AD;
 476+ D414 E3 E3 E3 E3
 476+ D418 E3 E3 AD AD
 476+ D41C AD AD AD AD
 477+ D420 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $F6, $AD, $AD, $AD, $AD, $AD, $AD;
 477+ D424 E3 E3 E3 E3
 477+ D428 E3 F6 AD AD
 477+ D42C AD AD AD AD
 478+ D430 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $F6, $AD, $10, $10, $AD, $AD, $AD, $AD;
 478+ D434 E3 E3 E3 E3
 478+ D438 F6 AD 10 10
 478+ D43C AD AD AD AD
 479+ D440 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $AD, $10, $10, $10, $10, $14, $14, $AD;
 479+ D444 E3 E3 E3 E3
 479+ D448 AD 10 10 10
 479+ D44C 10 14 14 AD
 480+ D450 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $10, $10, $10, $14, $14, $10, $10, $10;
 480+ D454 E3 E3 E3 20
 480+ D458 10 10 10 14
 480+ D45C 14 10 10 10
 481+ D460 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $20, $20, $AD, $AD, $10, $10, $10, $10, $14, $14, $14;
 481+ D464 E3 20 20 AD
 481+ D468 AD 10 10 10
 481+ D46C 10 14 14 14
 482+ D470 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $20, $AD, $AD, $AD, $AD, $10, $F6, $10, $10, $10, $10, $10;
 482+ D474 20 AD AD AD
 482+ D478 AD 10 F6 10
 482+ D47C 10 10 10 10
 483+ D480 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $AD, $AD, $AD, $F6, $F6, $F6, $F6, $10, $10, $10, $14;
 483+ D484 AD AD AD AD
 483+ D488 F6 F6 F6 F6
 483+ D48C 10 10 10 14
 484+ D490 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $F6, $F6, $F6, $20, $20, $20, $10, $14;
 484+ D494 AD AD F6 F6
 484+ D498 F6 F6 F6 20
 484+ D49C 20 20 10 14
 485+ D4A0 E3 E3 E3 20  	db  $E3, $E3, $E3, $20, $AD, $AD, $F6, $F6, $20, $20, $20, $E3, $E3, $E3, $20, $AD;
 485+ D4A4 AD AD F6 F6
 485+ D4A8 20 20 20 E3
 485+ D4AC E3 E3 20 AD
 486+ D4B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $20, $F6, $F6, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20;
 486+ D4B4 20 F6 F6 20
 486+ D4B8 E3 E3 E3 E3
 486+ D4BC E3 E3 E3 20
 487+ D4C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20;
 487+ D4C4 E3 20 20 E3
 487+ D4C8 E3 E3 E3 E3
 487+ D4CC E3 E3 E3 20
 488+ D4D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 488+ D4D4 E3 E3 E3 E3
 488+ D4D8 E3 E3 E3 E3
 488+ D4DC E3 E3 E3 E3
 489+ D4E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 489+ D4E4 E3 E3 E3 E3
 489+ D4E8 E3 E3 E3 E3
 489+ D4EC E3 E3 E3 E3
 490+ D4F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 490+ D4F4 E3 E3 E3 E3
 490+ D4F8 E3 E3 E3 E3
 490+ D4FC E3 E3 E3 E3
 491+ D500
 492+ D500
 493+ D500
 494+ D500              throw2_d: ;21
 495+ D500 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $F6, $F6, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 495+ D504 F6 F6 20 20
 495+ D508 E3 E3 E3 E3
 495+ D50C E3 E3 E3 E3
 496+ D510 F6 F6 F6 F6  	db  $F6, $F6, $F6, $F6, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 496+ D514 20 20 E3 E3
 496+ D518 E3 E3 E3 E3
 496+ D51C E3 E3 E3 E3
 497+ D520 AD F6 F6 20  	db  $AD, $F6, $F6, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 497+ D524 E3 E3 E3 E3
 497+ D528 E3 E3 E3 E3
 497+ D52C E3 E3 E3 E3
 498+ D530 AD F6 F6 E3  	db  $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 498+ D534 E3 E3 E3 E3
 498+ D538 E3 E3 E3 E3
 498+ D53C E3 E3 E3 E3
 499+ D540 AD F6 F6 E3  	db  $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 499+ D544 E3 E3 E3 E3
 499+ D548 E3 E3 E3 E3
 499+ D54C E3 E3 E3 E3
 500+ D550 14 14 14 14  	db  $14, $14, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 500+ D554 E3 E3 E3 E3
 500+ D558 E3 E3 E3 E3
 500+ D55C E3 E3 E3 E3
 501+ D560 14 14 14 14  	db  $14, $14, $14, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 501+ D564 14 E3 E3 E3
 501+ D568 E3 E3 E3 E3
 501+ D56C E3 E3 E3 E3
 502+ D570 14 14 AD 14  	db  $14, $14, $AD, $14, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 502+ D574 14 E3 E3 E3
 502+ D578 E3 E3 E3 E3
 502+ D57C E3 E3 E3 E3
 503+ D580 14 AD F6 F6  	db  $14, $AD, $F6, $F6, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 503+ D584 14 E3 E3 E3
 503+ D588 E3 E3 E3 E3
 503+ D58C E3 E3 E3 E3
 504+ D590 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $E3, $14, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 504+ D594 E3 14 E3 E3
 504+ D598 E3 E3 E3 E3
 504+ D59C E3 E3 E3 E3
 505+ D5A0 AD AD F6 F6  	db  $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 505+ D5A4 E3 E3 E3 E3
 505+ D5A8 E3 E3 E3 E3
 505+ D5AC E3 E3 E3 E3
 506+ D5B0 AD AD AD F6  	db  $AD, $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 506+ D5B4 F6 E3 E3 E3
 506+ D5B8 E3 E3 E3 E3
 506+ D5BC E3 E3 E3 E3
 507+ D5C0 AD AD AD F6  	db  $AD, $AD, $AD, $F6, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 507+ D5C4 F6 E3 E3 E3
 507+ D5C8 E3 E3 E3 E3
 507+ D5CC E3 E3 E3 E3
 508+ D5D0 20 AD AD AD  	db  $20, $AD, $AD, $AD, $F6, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 508+ D5D4 F6 E3 E3 E3
 508+ D5D8 E3 E3 E3 E3
 508+ D5DC E3 E3 E3 E3
 509+ D5E0 E3 20 AD AD  	db  $E3, $20, $AD, $AD, $AD, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 509+ D5E4 AD E3 E3 E3
 509+ D5E8 E3 E3 E3 E3
 509+ D5EC E3 E3 E3 E3
 510+ D5F0 E3 E3 20 20  	db  $E3, $E3, $20, $20, $20, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 510+ D5F4 20 E3 E3 E3
 510+ D5F8 E3 E3 E3 E3
 510+ D5FC E3 E3 E3 E3
 511+ D600
 512+ D600
 513+ D600
 514+ D600
 515+ D600              hammer: ;22
 516+ D600 E3 E3 D4 D4  	db  $E3, $E3, $D4, $D4, $E3, $E3, $E3, $B6, $B6, $B6, $E3, $E3, $E3, $E3, $E3, $E3;
 516+ D604 E3 E3 E3 B6
 516+ D608 B6 B6 E3 E3
 516+ D60C E3 E3 E3 E3
 517+ D610 E3 B0 B0 D4  	db  $E3, $B0, $B0, $D4, $D4, $FC, $71, $B6, $B6, $B6, $B6, $E3, $E3, $E3, $E3, $E3;
 517+ D614 D4 FC 71 B6
 517+ D618 B6 B6 B6 E3
 517+ D61C E3 E3 E3 E3
 518+ D620 E3 20 B0 71  	db  $E3, $20, $B0, $71, $71, $B4, $71, $B6, $B6, $B6, $B6, $71, $E3, $E3, $E3, $E3;
 518+ D624 71 B4 71 B6
 518+ D628 B6 B6 B6 71
 518+ D62C E3 E3 E3 E3
 519+ D630 E3 E3 FC FC  	db  $E3, $E3, $FC, $FC, $B4, $FC, $B4, $FC, $FC, $B6, $71, $20, $E3, $E3, $E3, $E3;
 519+ D634 B4 FC B4 FC
 519+ D638 FC B6 71 20
 519+ D63C E3 E3 E3 E3
 520+ D640 E3 B6 B6 71  	db  $E3, $B6, $B6, $71, $71, $B4, $71, $71, $71, $FC, $20, $20, $E3, $E3, $E3, $E3;
 520+ D644 71 B4 71 71
 520+ D648 71 FC 20 20
 520+ D64C E3 E3 E3 E3
 521+ D650 B6 B6 B6 B6  	db  $B6, $B6, $B6, $B6, $B6, $FC, $71, $B6, $71, $B4, $20, $E3, $E3, $E3, $E3, $E3;
 521+ D654 B6 FC 71 B6
 521+ D658 71 B4 20 E3
 521+ D65C E3 E3 E3 E3
 522+ D660 B6 B6 B6 B6  	db  $B6, $B6, $B6, $B6, $B6, $FC, $71, $20, $20, $B4, $E3, $E3, $E3, $E3, $E3, $E3;
 522+ D664 B6 FC 71 20
 522+ D668 20 B4 E3 E3
 522+ D66C E3 E3 E3 E3
 523+ D670 71 B6 B6 B6  	db  $71, $B6, $B6, $B6, $B6, $71, $FC, $20, $20, $D4, $D4, $E3, $E3, $E3, $E3, $E3;
 523+ D674 B6 71 FC 20
 523+ D678 20 D4 D4 E3
 523+ D67C E3 E3 E3 E3
 524+ D680 71 71 71 71  	db  $71, $71, $71, $71, $71, $20, $B4, $20, $B0, $B0, $D4, $D4, $E3, $E3, $E3, $E3;
 524+ D684 71 20 B4 20
 524+ D688 B0 B0 D4 D4
 524+ D68C E3 E3 E3 E3
 525+ D690 20 71 71 71  	db  $20, $71, $71, $71, $71, $20, $B4, $E3, $20, $B0, $B0, $D4, $D4, $E3, $E3, $E3;
 525+ D694 71 20 B4 E3
 525+ D698 20 B0 B0 D4
 525+ D69C D4 E3 E3 E3
 526+ D6A0 E3 20 20 20  	db  $E3, $20, $20, $20, $20, $20, $E3, $E3, $E3, $20, $B0, $B0, $D4, $D4, $E3, $E3;
 526+ D6A4 20 20 E3 E3
 526+ D6A8 E3 20 B0 B0
 526+ D6AC D4 D4 E3 E3
 527+ D6B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $B0, $B0, $D4, $D4, $E3;
 527+ D6B4 E3 E3 E3 E3
 527+ D6B8 E3 E3 20 B0
 527+ D6BC B0 D4 D4 E3
 528+ D6C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $B0, $B0, $D4, $D4;
 528+ D6C4 E3 E3 E3 E3
 528+ D6C8 E3 E3 E3 20
 528+ D6CC B0 B0 D4 D4
 529+ D6D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $B0, $B0, $D4;
 529+ D6D4 E3 E3 E3 E3
 529+ D6D8 E3 E3 E3 E3
 529+ D6DC 20 B0 B0 D4
 530+ D6E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $20, $B0, $E3;
 530+ D6E4 E3 E3 E3 E3
 530+ D6E8 E3 E3 E3 E3
 530+ D6EC E3 20 B0 E3
 531+ D6F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 531+ D6F4 E3 E3 E3 E3
 531+ D6F8 E3 E3 E3 E3
 531+ D6FC E3 E3 E3 E3
 532+ D700
 533+ D700
 534+ D700
 535+ D700
 536+ D700
 537+ D700              ;;;;;;Fonts
 538+ D700
 539+ D700                  MMU 6,17
 540+ D700              	org 0xC000
 541+ C000
 542+ C000 00 00 00...  	ds 64,0
 543+ C040              	incbin "fonts/font7.spr"
 544+ D040
 545+ D040
 546+ D040              ;; Layer2
 547+ D040
 548+ D040              	MMU 7 n,40
 549+ D040              	org $e000
 550+ E000              	incbin "assets/skybigrotated.bmp", 1078
# file closed: src/loadbins.asm
  54  E000
  55  E000
  56  E000
  57  E000              	SAVENEX OPEN "main.nex", start , stack_top
  58  E000                  SAVENEX CORE 3, 0, 0
  59  E000                  SAVENEX CFG 0, 0
  60  E000              	SAVENEX AUTO
  61  E000                  SAVENEX CLOSE
  62  E000
  63  E000
  64  E000
# file closed: src/main.asm
